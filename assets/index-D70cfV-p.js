function Ox(a,o){for(var u=0;u<o.length;u++){const m=o[u];if(typeof m!="string"&&!Array.isArray(m)){for(const p in m)if(p!=="default"&&!(p in a)){const _=Object.getOwnPropertyDescriptor(m,p);_&&Object.defineProperty(a,p,_.get?_:{enumerable:!0,get:()=>m[p]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))m(p);new MutationObserver(p=>{for(const _ of p)if(_.type==="childList")for(const E of _.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&m(E)}).observe(document,{childList:!0,subtree:!0});function u(p){const _={};return p.integrity&&(_.integrity=p.integrity),p.referrerPolicy&&(_.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?_.credentials="include":p.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function m(p){if(p.ep)return;p.ep=!0;const _=u(p);fetch(p.href,_)}})();var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wh={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function Dx(){if(yg)return jl;yg=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function u(m,p,_){var E=null;if(_!==void 0&&(E=""+_),p.key!==void 0&&(E=""+p.key),"key"in p){_={};for(var T in p)T!=="key"&&(_[T]=p[T])}else _=p;return p=_.ref,{$$typeof:a,type:m,key:E,ref:p!==void 0?p:null,props:_}}return jl.Fragment=o,jl.jsx=u,jl.jsxs=u,jl}var wg;function Rx(){return wg||(wg=1,wh.exports=Dx()),wh.exports}var Ee=Rx(),vh={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Lx(){if(vg)return Ie;vg=1;var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.iterator;function H(U){return U===null||typeof U!="object"?null:(U=D&&U[D]||U["@@iterator"],typeof U=="function"?U:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,j={};function at(U,$,ht){this.props=U,this.context=$,this.refs=j,this.updater=ht||V}at.prototype.isReactComponent={},at.prototype.setState=function(U,$){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,$,"setState")},at.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function et(){}et.prototype=at.prototype;function lt(U,$,ht){this.props=U,this.context=$,this.refs=j,this.updater=ht||V}var tt=lt.prototype=new et;tt.constructor=lt,rt(tt,at.prototype),tt.isPureReactComponent=!0;var nt=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function ft(U,$,ht,vt,At,kt){return ht=kt.ref,{$$typeof:a,type:U,key:$,ref:ht!==void 0?ht:null,props:kt}}function Ot(U,$){return ft(U.type,$,void 0,void 0,void 0,U.props)}function st(U){return typeof U=="object"&&U!==null&&U.$$typeof===a}function Yt(U){var $={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ht){return $[ht]})}var Dt=/\/+/g;function Tt(U,$){return typeof U=="object"&&U!==null&&U.key!=null?Yt(""+U.key):$.toString(36)}function Lt(){}function X(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Lt,Lt):(U.status="pending",U.then(function($){U.status==="pending"&&(U.status="fulfilled",U.value=$)},function($){U.status==="pending"&&(U.status="rejected",U.reason=$)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function q(U,$,ht,vt,At){var kt=typeof U;(kt==="undefined"||kt==="boolean")&&(U=null);var _t=!1;if(U===null)_t=!0;else switch(kt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(U.$$typeof){case a:case o:_t=!0;break;case N:return _t=U._init,q(_t(U._payload),$,ht,vt,At)}}if(_t)return At=At(U),_t=vt===""?"."+Tt(U,0):vt,nt(At)?(ht="",_t!=null&&(ht=_t.replace(Dt,"$&/")+"/"),q(At,$,ht,"",function(Oe){return Oe})):At!=null&&(st(At)&&(At=Ot(At,ht+(At.key==null||U&&U.key===At.key?"":(""+At.key).replace(Dt,"$&/")+"/")+_t)),$.push(At)),1;_t=0;var se=vt===""?".":vt+":";if(nt(U))for(var qt=0;qt<U.length;qt++)vt=U[qt],kt=se+Tt(vt,qt),_t+=q(vt,$,ht,kt,At);else if(qt=H(U),typeof qt=="function")for(U=qt.call(U),qt=0;!(vt=U.next()).done;)vt=vt.value,kt=se+Tt(vt,qt++),_t+=q(vt,$,ht,kt,At);else if(kt==="object"){if(typeof U.then=="function")return q(X(U),$,ht,vt,At);throw $=String(U),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _t}function G(U,$,ht){if(U==null)return U;var vt=[],At=0;return q(U,vt,"","",function(kt){return $.call(ht,kt,At++)}),vt}function J(U){if(U._status===-1){var $=U._result;$=$(),$.then(function(ht){(U._status===0||U._status===-1)&&(U._status=1,U._result=ht)},function(ht){(U._status===0||U._status===-1)&&(U._status=2,U._result=ht)}),U._status===-1&&(U._status=0,U._result=$)}if(U._status===1)return U._result.default;throw U._result}var ut=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ct(){}return Ie.Children={map:G,forEach:function(U,$,ht){G(U,function(){$.apply(this,arguments)},ht)},count:function(U){var $=0;return G(U,function(){$++}),$},toArray:function(U){return G(U,function($){return $})||[]},only:function(U){if(!st(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ie.Component=at,Ie.Fragment=u,Ie.Profiler=p,Ie.PureComponent=lt,Ie.StrictMode=m,Ie.Suspense=M,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(U){return bt.H.useMemoCache(U)}},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cloneElement=function(U,$,ht){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var vt=rt({},U.props),At=U.key,kt=void 0;if($!=null)for(_t in $.ref!==void 0&&(kt=void 0),$.key!==void 0&&(At=""+$.key),$)!Nt.call($,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&$.ref===void 0||(vt[_t]=$[_t]);var _t=arguments.length-2;if(_t===1)vt.children=ht;else if(1<_t){for(var se=Array(_t),qt=0;qt<_t;qt++)se[qt]=arguments[qt+2];vt.children=se}return ft(U.type,At,void 0,void 0,kt,vt)},Ie.createContext=function(U){return U={$$typeof:E,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:_,_context:U},U},Ie.createElement=function(U,$,ht){var vt,At={},kt=null;if($!=null)for(vt in $.key!==void 0&&(kt=""+$.key),$)Nt.call($,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(At[vt]=$[vt]);var _t=arguments.length-2;if(_t===1)At.children=ht;else if(1<_t){for(var se=Array(_t),qt=0;qt<_t;qt++)se[qt]=arguments[qt+2];At.children=se}if(U&&U.defaultProps)for(vt in _t=U.defaultProps,_t)At[vt]===void 0&&(At[vt]=_t[vt]);return ft(U,kt,void 0,void 0,null,At)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:T,render:U}},Ie.isValidElement=st,Ie.lazy=function(U){return{$$typeof:N,_payload:{_status:-1,_result:U},_init:J}},Ie.memo=function(U,$){return{$$typeof:S,type:U,compare:$===void 0?null:$}},Ie.startTransition=function(U){var $=bt.T,ht={};bt.T=ht;try{var vt=U(),At=bt.S;At!==null&&At(ht,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(ct,ut)}catch(kt){ut(kt)}finally{bt.T=$}},Ie.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()},Ie.use=function(U){return bt.H.use(U)},Ie.useActionState=function(U,$,ht){return bt.H.useActionState(U,$,ht)},Ie.useCallback=function(U,$){return bt.H.useCallback(U,$)},Ie.useContext=function(U){return bt.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,$){return bt.H.useDeferredValue(U,$)},Ie.useEffect=function(U,$,ht){var vt=bt.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vt.useEffect(U,$)},Ie.useId=function(){return bt.H.useId()},Ie.useImperativeHandle=function(U,$,ht){return bt.H.useImperativeHandle(U,$,ht)},Ie.useInsertionEffect=function(U,$){return bt.H.useInsertionEffect(U,$)},Ie.useLayoutEffect=function(U,$){return bt.H.useLayoutEffect(U,$)},Ie.useMemo=function(U,$){return bt.H.useMemo(U,$)},Ie.useOptimistic=function(U,$){return bt.H.useOptimistic(U,$)},Ie.useReducer=function(U,$,ht){return bt.H.useReducer(U,$,ht)},Ie.useRef=function(U){return bt.H.useRef(U)},Ie.useState=function(U){return bt.H.useState(U)},Ie.useSyncExternalStore=function(U,$,ht){return bt.H.useSyncExternalStore(U,$,ht)},Ie.useTransition=function(){return bt.H.useTransition()},Ie.version="19.1.0",Ie}var Eg;function hu(){return Eg||(Eg=1,vh.exports=Lx()),vh.exports}var xt=hu();const Ft=Fc(xt);var Eh={exports:{}},ql={},Ah={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function Bx(){return Ag||(Ag=1,function(a){function o(G,J){var ut=G.length;G.push(J);t:for(;0<ut;){var ct=ut-1>>>1,U=G[ct];if(0<p(U,J))G[ct]=J,G[ut]=U,ut=ct;else break t}}function u(G){return G.length===0?null:G[0]}function m(G){if(G.length===0)return null;var J=G[0],ut=G.pop();if(ut!==J){G[0]=ut;t:for(var ct=0,U=G.length,$=U>>>1;ct<$;){var ht=2*(ct+1)-1,vt=G[ht],At=ht+1,kt=G[At];if(0>p(vt,ut))At<U&&0>p(kt,vt)?(G[ct]=kt,G[At]=ut,ct=At):(G[ct]=vt,G[ht]=ut,ct=ht);else if(At<U&&0>p(kt,ut))G[ct]=kt,G[At]=ut,ct=At;else break t}}return J}function p(G,J){var ut=G.sortIndex-J.sortIndex;return ut!==0?ut:G.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;a.unstable_now=function(){return _.now()}}else{var E=Date,T=E.now();a.unstable_now=function(){return E.now()-T}}var M=[],S=[],N=1,D=null,H=3,V=!1,rt=!1,j=!1,at=!1,et=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function nt(G){for(var J=u(S);J!==null;){if(J.callback===null)m(S);else if(J.startTime<=G)m(S),J.sortIndex=J.expirationTime,o(M,J);else break;J=u(S)}}function bt(G){if(j=!1,nt(G),!rt)if(u(M)!==null)rt=!0,Nt||(Nt=!0,Tt());else{var J=u(S);J!==null&&q(bt,J.startTime-G)}}var Nt=!1,ft=-1,Ot=5,st=-1;function Yt(){return at?!0:!(a.unstable_now()-st<Ot)}function Dt(){if(at=!1,Nt){var G=a.unstable_now();st=G;var J=!0;try{t:{rt=!1,j&&(j=!1,lt(ft),ft=-1),V=!0;var ut=H;try{e:{for(nt(G),D=u(M);D!==null&&!(D.expirationTime>G&&Yt());){var ct=D.callback;if(typeof ct=="function"){D.callback=null,H=D.priorityLevel;var U=ct(D.expirationTime<=G);if(G=a.unstable_now(),typeof U=="function"){D.callback=U,nt(G),J=!0;break e}D===u(M)&&m(M),nt(G)}else m(M);D=u(M)}if(D!==null)J=!0;else{var $=u(S);$!==null&&q(bt,$.startTime-G),J=!1}}break t}finally{D=null,H=ut,V=!1}J=void 0}}finally{J?Tt():Nt=!1}}}var Tt;if(typeof tt=="function")Tt=function(){tt(Dt)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,X=Lt.port2;Lt.port1.onmessage=Dt,Tt=function(){X.postMessage(null)}}else Tt=function(){et(Dt,0)};function q(G,J){ft=et(function(){G(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return H},a.unstable_next=function(G){switch(H){case 1:case 2:case 3:var J=3;break;default:J=H}var ut=H;H=J;try{return G()}finally{H=ut}},a.unstable_requestPaint=function(){at=!0},a.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=H;H=G;try{return J()}finally{H=ut}},a.unstable_scheduleCallback=function(G,J,ut){var ct=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?ct+ut:ct):ut=ct,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ut+U,G={id:N++,callback:J,priorityLevel:G,startTime:ut,expirationTime:U,sortIndex:-1},ut>ct?(G.sortIndex=ut,o(S,G),u(M)===null&&G===u(S)&&(j?(lt(ft),ft=-1):j=!0,q(bt,ut-ct))):(G.sortIndex=U,o(M,G),rt||V||(rt=!0,Nt||(Nt=!0,Tt()))),G},a.unstable_shouldYield=Yt,a.unstable_wrapCallback=function(G){var J=H;return function(){var ut=H;H=J;try{return G.apply(this,arguments)}finally{H=ut}}}}(Sh)),Sh}var Sg;function Px(){return Sg||(Sg=1,Ah.exports=Bx()),Ah.exports}var bh={exports:{}},Gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function zx(){if(bg)return Gi;bg=1;var a=hu();function o(M){var S="https://react.dev/errors/"+M;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)S+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+M+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var m={d:{f:u,r:function(){throw Error(o(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},p=Symbol.for("react.portal");function _(M,S,N){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:D==null?null:""+D,children:M,containerInfo:S,implementation:N}}var E=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(M,S){if(M==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return Gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,Gi.createPortal=function(M,S){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(o(299));return _(M,S,null,N)},Gi.flushSync=function(M){var S=E.T,N=m.p;try{if(E.T=null,m.p=2,M)return M()}finally{E.T=S,m.p=N,m.d.f()}},Gi.preconnect=function(M,S){typeof M=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,m.d.C(M,S))},Gi.prefetchDNS=function(M){typeof M=="string"&&m.d.D(M)},Gi.preinit=function(M,S){if(typeof M=="string"&&S&&typeof S.as=="string"){var N=S.as,D=T(N,S.crossOrigin),H=typeof S.integrity=="string"?S.integrity:void 0,V=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;N==="style"?m.d.S(M,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:D,integrity:H,fetchPriority:V}):N==="script"&&m.d.X(M,{crossOrigin:D,integrity:H,fetchPriority:V,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},Gi.preinitModule=function(M,S){if(typeof M=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var N=T(S.as,S.crossOrigin);m.d.M(M,{crossOrigin:N,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&m.d.M(M)},Gi.preload=function(M,S){if(typeof M=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var N=S.as,D=T(N,S.crossOrigin);m.d.L(M,N,{crossOrigin:D,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},Gi.preloadModule=function(M,S){if(typeof M=="string")if(S){var N=T(S.as,S.crossOrigin);m.d.m(M,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:N,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else m.d.m(M)},Gi.requestFormReset=function(M){m.d.r(M)},Gi.unstable_batchedUpdates=function(M,S){return M(S)},Gi.useFormState=function(M,S,N){return E.H.useFormState(M,S,N)},Gi.useFormStatus=function(){return E.H.useHostTransitionStatus()},Gi.version="19.1.0",Gi}var Cg;function Hm(){if(Cg)return bh.exports;Cg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),bh.exports=zx(),bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function kx(){if(Tg)return ql;Tg=1;var a=Px(),o=hu(),u=Hm();function m(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _(t){var n=t,l=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(l=n.return),t=n.return;while(t)}return n.tag===3?l:null}function E(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(_(t)!==t)throw Error(m(188))}function M(t){var n=t.alternate;if(!n){if(n=_(t),n===null)throw Error(m(188));return n!==t?null:t}for(var l=t,d=n;;){var w=l.return;if(w===null)break;var A=w.alternate;if(A===null){if(d=w.return,d!==null){l=d;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===l)return T(w),t;if(A===d)return T(w),n;A=A.sibling}throw Error(m(188))}if(l.return!==d.return)l=w,d=A;else{for(var R=!1,F=w.child;F;){if(F===l){R=!0,l=w,d=A;break}if(F===d){R=!0,d=w,l=A;break}F=F.sibling}if(!R){for(F=A.child;F;){if(F===l){R=!0,l=A,d=w;break}if(F===d){R=!0,d=A,l=w;break}F=F.sibling}if(!R)throw Error(m(189))}}if(l.alternate!==d)throw Error(m(190))}if(l.tag!==3)throw Error(m(188));return l.stateNode.current===l?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var N=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),st=Symbol.for("react.activity"),Yt=Symbol.for("react.memo_cache_sentinel"),Dt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=Dt&&t[Dt]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Symbol.for("react.client.reference");function X(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Lt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rt:return"Fragment";case at:return"Profiler";case j:return"StrictMode";case bt:return"Suspense";case Nt:return"SuspenseList";case st:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case tt:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ft:return n=t.displayName||null,n!==null?n:X(t.type)||"Memo";case Ot:n=t._payload,t=t._init;try{return X(t(n))}catch{}}return null}var q=Array.isArray,G=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},ct=[],U=-1;function $(t){return{current:t}}function ht(t){0>U||(t.current=ct[U],ct[U]=null,U--)}function vt(t,n){U++,ct[U]=t.current,t.current=n}var At=$(null),kt=$(null),_t=$(null),se=$(null);function qt(t,n){switch(vt(_t,n),vt(kt,t),vt(At,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?j1(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=j1(n),t=q1(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ht(At),vt(At,t)}function Oe(){ht(At),ht(kt),ht(_t)}function Re(t){t.memoizedState!==null&&vt(se,t);var n=At.current,l=q1(n,t.type);n!==l&&(vt(kt,t),vt(At,l))}function Ye(t){kt.current===t&&(ht(At),ht(kt)),se.current===t&&(ht(se),Zl._currentValue=ut)}var xn=Object.prototype.hasOwnProperty,de=a.unstable_scheduleCallback,Mn=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Kn=a.unstable_requestPaint,oe=a.unstable_now,Xt=a.unstable_getCurrentPriorityLevel,fe=a.unstable_ImmediatePriority,pi=a.unstable_UserBlockingPriority,Qt=a.unstable_NormalPriority,Ui=a.unstable_LowPriority,Yi=a.unstable_IdlePriority,zn=a.log,nr=a.unstable_setDisableYieldValue,an=null,_n=null;function yn(t){if(typeof zn=="function"&&nr(t),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(an,t)}catch{}}var Be=Math.clz32?Math.clz32:Ii,mr=Math.log,Sn=Math.LN2;function Ii(t){return t>>>=0,t===0?32:31-(mr(t)/Sn|0)|0}var Ve=256,Vt=4194304;function Pe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function be(t,n,l){var d=t.pendingLanes;if(d===0)return 0;var w=0,A=t.suspendedLanes,R=t.pingedLanes;t=t.warmLanes;var F=d&134217727;return F!==0?(d=F&~A,d!==0?w=Pe(d):(R&=F,R!==0?w=Pe(R):l||(l=F&~t,l!==0&&(w=Pe(l))))):(F=d&~A,F!==0?w=Pe(F):R!==0?w=Pe(R):l||(l=d&~t,l!==0&&(w=Pe(l)))),w===0?0:n!==0&&n!==w&&(n&A)===0&&(A=w&-w,l=n&-n,A>=l||A===32&&(l&4194048)!==0)?n:w}function Ae(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(){var t=Ve;return Ve<<=1,(Ve&4194048)===0&&(Ve=256),t}function ir(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function Te(t){for(var n=[],l=0;31>l;l++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rr(t,n,l,d,w,A){var R=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var F=t.entanglements,Q=t.expirationTimes,wt=t.hiddenUpdates;for(l=R&~l;0<l;){var Rt=31-Be(l),zt=1<<Rt;F[Rt]=0,Q[Rt]=-1;var St=wt[Rt];if(St!==null)for(wt[Rt]=null,Rt=0;Rt<St.length;Rt++){var Ct=St[Rt];Ct!==null&&(Ct.lane&=-536870913)}l&=~zt}d!==0&&Ha(t,d,0),A!==0&&w===0&&t.tag!==0&&(t.suspendedLanes|=A&~(R&~n))}function Ha(t,n,l){t.pendingLanes|=n,t.suspendedLanes&=~n;var d=31-Be(n);t.entangledLanes|=n,t.entanglements[d]=t.entanglements[d]|1073741824|l&4194090}function xi(t,n){var l=t.entangledLanes|=n;for(t=t.entanglements;l;){var d=31-Be(l),w=1<<d;w&n|t[d]&n&&(t[d]|=n),l&=~w}}function Jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pr(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:dg(t.type))}function kr(t,n){var l=J.p;try{return J.p=t,n()}finally{J.p=l}}var kn=Math.random().toString(36).slice(2),Vn="__reactFiber$"+kn,bn="__reactProps$"+kn,ar="__reactContainer$"+kn,$e="__reactEvents$"+kn,$t="__reactListeners$"+kn,ui="__reactHandles$"+kn,Kt="__reactResources$"+kn,Oi="__reactMarker$"+kn;function Ur(t){delete t[Vn],delete t[bn],delete t[$e],delete t[$t],delete t[ui]}function hn(t){var n=t[Vn];if(n)return n;for(var l=t.parentNode;l;){if(n=l[ar]||l[Vn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(t=J1(t);t!==null;){if(l=t[Vn])return l;t=J1(t)}return n}t=l,l=t.parentNode}return null}function _i(t){if(t=t[Vn]||t[ar]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ci(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(m(33))}function Fi(t){var n=t[Kt];return n||(n=t[Kt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(t){t[Oi]=!0}var ls=new Set,us={};function Gn(t,n){wn(t,n),wn(t+"Capture",n)}function wn(t,n){for(us[t]=n,t=0;t<n.length;t++)ls.add(n[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},ji={};function Za(t){return xn.call(ji,t)?!0:xn.call(Fr,t)?!1:tn.test(t)?ji[t]=!0:(Fr[t]=!0,!1)}function Pt(t,n,l){if(Za(n))if(l===null)t.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var d=n.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+l)}}function ma(t,n,l){if(l===null)t.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+l)}}function Ge(t,n,l,d){if(d===null)t.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(n,l,""+d)}}var Di,Hr;function Me(t){if(Di===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Di=n&&n[1]||"",Hr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Di+t+Hr}var De=!1;function pe(t,n){if(!t||De)return"";De=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(n){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(Ct){var St=Ct}Reflect.construct(t,[],zt)}else{try{zt.call()}catch(Ct){St=Ct}t.call(zt.prototype)}}else{try{throw Error()}catch(Ct){St=Ct}(zt=t())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(Ct){if(Ct&&St&&typeof Ct.stack=="string")return[Ct.stack,St.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=d.DetermineComponentFrameRoot(),R=A[0],F=A[1];if(R&&F){var Q=R.split(`
`),wt=F.split(`
`);for(w=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;w<wt.length&&!wt[w].includes("DetermineComponentFrameRoot");)w++;if(d===Q.length||w===wt.length)for(d=Q.length-1,w=wt.length-1;1<=d&&0<=w&&Q[d]!==wt[w];)w--;for(;1<=d&&0<=w;d--,w--)if(Q[d]!==wt[w]){if(d!==1||w!==1)do if(d--,w--,0>w||Q[d]!==wt[w]){var Rt=`
`+Q[d].replace(" at new "," at ");return t.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",t.displayName)),Rt}while(1<=d&&0<=w);break}}}finally{De=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Me(l):""}function ze(t){switch(t.tag){case 26:case 27:case 5:return Me(t.type);case 16:return Me("Lazy");case 13:return Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return pe(t.type,!1);case 11:return pe(t.type.render,!1);case 1:return pe(t.type,!0);case 31:return Me("Activity");default:return""}}function nn(t){try{var n="";do n+=ze(t),t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Jn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ri(t){var n=sn(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),d=""+t[n];if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var w=l.get,A=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return w.call(this)},set:function(R){d=""+R,A.call(this,R)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function pa(t){t._valueTracker||(t._valueTracker=Ri(t))}function ee(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var l=n.getValue(),d="";return t&&(d=sn(t)?t.checked?"true":"false":t.value),t=d,t!==l?(n.setValue(t),!0):!1}function je(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qs=/[\n"\\]/g;function Rn(t){return t.replace(Qs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ce(t,n,l,d,w,A,R,F){t.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.type=R:t.removeAttribute("type"),n!=null?R==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jn(n)):t.value!==""+Jn(n)&&(t.value=""+Jn(n)):R!=="submit"&&R!=="reset"||t.removeAttribute("value"),n!=null?mt(t,R,Jn(n)):l!=null?mt(t,R,Jn(l)):d!=null&&t.removeAttribute("value"),w==null&&A!=null&&(t.defaultChecked=!!A),w!=null&&(t.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?t.name=""+Jn(F):t.removeAttribute("name")}function $n(t,n,l,d,w,A,R,F){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),n!=null||l!=null){if(!(A!=="submit"&&A!=="reset"||n!=null))return;l=l!=null?""+Jn(l):"",n=n!=null?""+Jn(n):l,F||n===t.value||(t.value=n),t.defaultValue=n}d=d??w,d=typeof d!="function"&&typeof d!="symbol"&&!!d,t.checked=F?t.checked:!!d,t.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(t.name=R)}function mt(t,n,l){n==="number"&&je(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Z(t,n,l,d){if(t=t.options,n){n={};for(var w=0;w<l.length;w++)n["$"+l[w]]=!0;for(l=0;l<t.length;l++)w=n.hasOwnProperty("$"+t[l].value),t[l].selected!==w&&(t[l].selected=w),w&&d&&(t[l].defaultSelected=!0)}else{for(l=""+Jn(l),n=null,w=0;w<t.length;w++){if(t[w].value===l){t[w].selected=!0,d&&(t[w].defaultSelected=!0);return}n!==null||t[w].disabled||(n=t[w])}n!==null&&(n.selected=!0)}}function Wt(t,n,l){if(n!=null&&(n=""+Jn(n),n!==t.value&&(t.value=n),l==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=l!=null?""+Jn(l):""}function on(t,n,l,d){if(n==null){if(d!=null){if(l!=null)throw Error(m(92));if(q(d)){if(1<d.length)throw Error(m(93));d=d[0]}l=d}l==null&&(l=""),n=l}l=Jn(n),t.defaultValue=l,d=t.textContent,d===l&&d!==""&&d!==null&&(t.value=d)}function Nn(t,n){if(n){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=n;return}}t.textContent=n}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xa(t,n,l){var d=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":d?t.setProperty(n,l):typeof l!="number"||l===0||Va.has(n)?n==="float"?t.cssFloat=l:t[n]=(""+l).trim():t[n]=l+"px"}function ti(t,n,l){if(n!=null&&typeof n!="object")throw Error(m(62));if(t=t.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||n!=null&&n.hasOwnProperty(d)||(d.indexOf("--")===0?t.setProperty(d,""):d==="float"?t.cssFloat="":t[d]="");for(var w in n)d=n[w],n.hasOwnProperty(w)&&l[w]!==d&&xa(t,w,d)}else for(var A in n)n.hasOwnProperty(A)&&xa(t,A,n[A])}function re(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ga=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Ga.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $r=null;function xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,Zr=null;function Un(t){var n=_i(t);if(n&&(t=n.stateNode)){var l=t[bn]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ce(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var d=l[n];if(d!==t&&d.form===t.form){var w=d[bn]||null;if(!w)throw Error(m(90));Ce(d,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(n=0;n<l.length;n++)d=l[n],d.form===t.form&&ee(d)}break t;case"textarea":Wt(t,l.value,l.defaultValue);break t;case"select":n=l.value,n!=null&&Z(t,!!l.multiple,n,!1)}}}var he=!1;function Yn(t,n,l){if(he)return t(n,l);he=!0;try{var d=t(n);return d}finally{if(he=!1,(_r!==null||Zr!==null)&&(ju(),_r&&(n=_r,t=Zr,Zr=_r=null,Un(n),t)))for(n=0;n<t.length;n++)Un(t[n])}}function jt(t,n){var l=t.stateNode;if(l===null)return null;var d=l[bn]||null;if(d===null)return null;l=d[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(m(231,n,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xe=!1;if(sr)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){xe=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{xe=!1}var or=null,qi=null,ta=null;function Hi(){if(ta)return ta;var t,n=qi,l=n.length,d,w="value"in or?or.value:or.textContent,A=w.length;for(t=0;t<l&&n[t]===w[t];t++);var R=l-t;for(d=1;d<=R&&n[l-d]===w[A-d];d++);return ta=w.slice(t,1<d?1-d:void 0)}function Ln(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function yi(){return!0}function ea(){return!1}function Fn(t){function n(l,d,w,A,R){this._reactName=l,this._targetInst=w,this.type=d,this.nativeEvent=A,this.target=R,this.currentTarget=null;for(var F in t)t.hasOwnProperty(F)&&(l=t[F],this[F]=l?l(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?yi:ea,this.isPropagationStopped=ea,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),n}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Fn(Vr),Wi=N({},Vr,{view:0,detail:0}),wi=Fn(Wi),Ya,Ne,ya,vi=N({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&t.type==="mousemove"?(Ya=t.screenX-ya.screenX,Ne=t.screenY-ya.screenY):Ne=Ya=0,ya=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Ne}}),wa=Fn(vi),Eo=N({},vi,{dataTransfer:0}),Ke=Fn(Eo),cs=N({},Wi,{relatedTarget:0}),va=Fn(cs),wr=N({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),ul=Fn(wr),Mt=N({},Vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Se=Fn(Mt),ei=N({},Vr,{data:0}),Ei=Fn(ei),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Gr[t])?!!n[t]:!1}function Ea(){return bo}var In=N({},Wi,{key:function(t){if(t.key){var n=Ao[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ln(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?So[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(t){return t.type==="keypress"?Ln(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ln(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ks=Fn(In),En=N({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=Fn(En),na=N({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),en=Fn(na),le=N({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cl=Fn(le),rn=N({},vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yr=Fn(rn),vr=N({},Vr,{newState:0,oldState:0}),ia=Fn(vr),lr=[9,13,27,32],Er=sr&&"CompositionEvent"in window,ni=null;sr&&"documentMode"in document&&(ni=document.documentMode);var fs=sr&&"TextEvent"in window&&!ni,hs=sr&&(!Er||ni&&8<ni&&11>=ni),Js=" ",ds=!1;function Ar(t,n){switch(t){case"keyup":return lr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function ba(t,n){switch(t){case"compositionend":return gs(n);case"keypress":return n.which!==32?null:(ds=!0,Js);case"textInput":return t=n.data,t===Js&&ds?null:t;default:return null}}function fl(t,n){if(Sa)return t==="compositionend"||!Er&&Ar(t,n)?(t=Hi(),ta=qi=or=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hs&&n.locale!=="ko"?null:n.data;default:return null}}var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xn[t.type]:n==="textarea"}function Li(t,n,l,d){_r?Zr?Zr.push(d):Zr=[d]:_r=d,n=$u(n,"onChange"),0<n.length&&(l=new yr("onChange","change",null,l,d),t.push({event:l,listeners:n}))}var Ai=null,Si=null;function Ca(t){Z1(t,0)}function Ta(t){var n=ci(t);if(ee(n))return t}function Ma(t,n){if(t==="change")return n}var ms=!1;if(sr){var fi;if(sr){var $s="oninput"in document;if(!$s){var Qi=document.createElement("div");Qi.setAttribute("oninput","return;"),$s=typeof Qi.oninput=="function"}fi=$s}else fi=!1;ms=fi&&(!document.documentMode||9<document.documentMode)}function Sr(){Ai&&(Ai.detachEvent("onpropertychange",ke),Si=Ai=null)}function ke(t){if(t.propertyName==="value"&&Ta(Si)){var n=[];Li(n,Si,t,xr(t)),Yn(Ca,n)}}function Na(t,n,l){t==="focusin"?(Sr(),Ai=n,Si=l,Ai.attachEvent("onpropertychange",ke)):t==="focusout"&&Sr()}function B(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ta(Si)}function e(t,n){if(t==="click")return Ta(n)}function i(t,n){if(t==="input"||t==="change")return Ta(n)}function s(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var c=typeof Object.is=="function"?Object.is:s;function f(t,n){if(c(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var l=Object.keys(t),d=Object.keys(n);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var w=l[d];if(!xn.call(n,w)||!c(t[w],n[w]))return!1}return!0}function g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x(t,n){var l=g(t);t=0;for(var d;l;){if(l.nodeType===3){if(d=t+l.textContent.length,t<=n&&d>=n)return{node:l,offset:n-t};t=d}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=g(l)}}function v(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?v(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function b(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=je(t.document);n instanceof t.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)t=n.contentWindow;else break;n=je(t.document)}return n}function I(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var P=sr&&"documentMode"in document&&11>=document.documentMode,z=null,Y=null,K=null,it=!1;function pt(t,n,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;it||z==null||z!==je(d)||(d=z,"selectionStart"in d&&I(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),K&&f(K,d)||(K=d,d=$u(Y,"onSelect"),0<d.length&&(n=new yr("onSelect","select",null,n,l),t.push({event:n,listeners:d}),n.target=z)))}function Et(t,n){var l={};return l[t.toLowerCase()]=n.toLowerCase(),l["Webkit"+t]="webkit"+n,l["Moz"+t]="moz"+n,l}var Zt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionrun:Et("Transition","TransitionRun"),transitionstart:Et("Transition","TransitionStart"),transitioncancel:Et("Transition","TransitionCancel"),transitionend:Et("Transition","TransitionEnd")},Gt={},Ht={};sr&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Zt.animationend.animation,delete Zt.animationiteration.animation,delete Zt.animationstart.animation),"TransitionEvent"in window||delete Zt.transitionend.transition);function ye(t){if(Gt[t])return Gt[t];if(!Zt[t])return t;var n=Zt[t],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ht)return Gt[t]=n[l];return t}var we=ye("animationend"),dn=ye("animationiteration"),hi=ye("animationstart"),bi=ye("transitionrun"),qe=ye("transitionstart"),ii=ye("transitioncancel"),di=ye("transitionend"),ra=new Map,Zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zi.push("scrollEnd");function Ki(t,n){ra.set(t,n),Gn(n,[t])}var aa=new WeakMap;function Ji(t,n){if(typeof t=="object"&&t!==null){var l=aa.get(t);return l!==void 0?l:(n={value:t,source:n,stack:nn(n)},aa.set(t,n),n)}return{value:t,source:n,stack:nn(n)}}var $i=[],ps=0,br=0;function to(){for(var t=ps,n=br=ps=0;n<t;){var l=$i[n];$i[n++]=null;var d=$i[n];$i[n++]=null;var w=$i[n];$i[n++]=null;var A=$i[n];if($i[n++]=null,d!==null&&w!==null){var R=d.pending;R===null?w.next=w:(w.next=R.next,R.next=w),d.pending=w}A!==0&&no(l,w,A)}}function eo(t,n,l,d){$i[ps++]=t,$i[ps++]=n,$i[ps++]=l,$i[ps++]=d,br|=d,t.lanes|=d,t=t.alternate,t!==null&&(t.lanes|=d)}function Xa(t,n,l,d){return eo(t,n,l,d),Ia(t)}function xs(t,n){return eo(t,null,null,n),Ia(t)}function no(t,n,l){t.lanes|=l;var d=t.alternate;d!==null&&(d.lanes|=l);for(var w=!1,A=t.return;A!==null;)A.childLanes|=l,d=A.alternate,d!==null&&(d.childLanes|=l),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(w=!0)),t=A,A=A.return;return t.tag===3?(A=t.stateNode,w&&n!==null&&(w=31-Be(l),t=A.hiddenUpdates,d=t[w],d===null?t[w]=[n]:d.push(n),n.lane=l|536870912),A):null}function Ia(t){if(50<Ll)throw Ll=0,Gf=null,Error(m(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ja={};function xu(t,n,l,d){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,n,l,d){return new xu(t,n,l,d)}function Co(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xr(t,n){var l=t.alternate;return l===null?(l=tr(t.tag,n,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=n,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,n=t.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function hl(t,n){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,n=l.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function io(t,n,l,d,w,A){var R=0;if(d=t,typeof t=="function")Co(t)&&(R=1);else if(typeof t=="string")R=_x(t,l,At.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case st:return t=tr(31,l,n,w),t.elementType=st,t.lanes=A,t;case rt:return Oa(l.children,w,A,n);case j:R=8,w|=24;break;case at:return t=tr(12,l,n,w|2),t.elementType=at,t.lanes=A,t;case bt:return t=tr(13,l,n,w),t.elementType=bt,t.lanes=A,t;case Nt:return t=tr(19,l,n,w),t.elementType=Nt,t.lanes=A,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case et:case tt:R=10;break t;case lt:R=9;break t;case nt:R=11;break t;case ft:R=14;break t;case Ot:R=16,d=null;break t}R=29,l=Error(m(130,t===null?"null":typeof t,"")),d=null}return n=tr(R,l,n,w),n.elementType=t,n.type=d,n.lanes=A,n}function Oa(t,n,l,d){return t=tr(7,t,d,n),t.lanes=l,t}function dl(t,n,l){return t=tr(6,t,null,n),t.lanes=l,t}function To(t,n,l){return n=tr(4,t.children!==null?t.children:[],t.key,n),n.lanes=l,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],_s=0,r=null,h=0,y=[],C=0,O=null,k=1,W="";function gt(t,n){qa[_s++]=h,qa[_s++]=r,r=t,h=n}function It(t,n,l){y[C++]=k,y[C++]=W,y[C++]=O,O=t;var d=k;t=W;var w=32-Be(d)-1;d&=~(1<<w),l+=1;var A=32-Be(n)+w;if(30<A){var R=w-w%5;A=(d&(1<<R)-1).toString(32),d>>=R,w-=R,k=1<<32-Be(n)+w|l<<w|d,W=A+t}else k=1<<A|l<<w|d,W=t}function Ut(t){t.return!==null&&(gt(t,1),It(t,1,0))}function Jt(t){for(;t===r;)r=qa[--_s],qa[_s]=null,h=qa[--_s],qa[_s]=null;for(;t===O;)O=y[--C],y[C]=null,W=y[--C],y[C]=null,k=y[--C],y[C]=null}var ne=null,ae=null,ve=!1,Cn=null,Hn=!1,Ci=Error(m(519));function cr(t){var n=Error(m(418,""));throw ws(Ji(n,t)),Ci}function _u(t){var n=t.stateNode,l=t.type,d=t.memoizedProps;switch(n[Vn]=t,n[bn]=d,l){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ze(Pl[l],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Ze("invalid",n),$n(n,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),pa(n);break;case"select":Ze("invalid",n);break;case"textarea":Ze("invalid",n),on(n,d.value,d.defaultValue,d.children),pa(n)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||d.suppressHydrationWarning===!0||X1(n.textContent,l)?(d.popover!=null&&(Ze("beforetoggle",n),Ze("toggle",n)),d.onScroll!=null&&Ze("scroll",n),d.onScrollEnd!=null&&Ze("scrollend",n),d.onClick!=null&&(n.onclick=tc),n=!0):n=!1,n||cr(t)}function yu(t){for(ne=t.return;ne;)switch(ne.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:ne=ne.return}}function ro(t){if(t!==ne)return!1;if(!ve)return yu(t),ve=!0,!1;var n=t.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||sh(t.type,t.memoizedProps)),l=!l),l&&ae&&cr(t),yu(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(m(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(n===0){ae=ua(t.nextSibling);break t}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,Bs(t.type)?(t=ch,ch=null,ae=t):ae=n):ae=ne?ua(t.stateNode.nextSibling):null;return!0}function ys(){ae=ne=null,ve=!1}function wu(){var t=Cn;return t!==null&&(dr===null?dr=t:dr.push.apply(dr,t),Cn=null),t}function ws(t){Cn===null?Cn=[t]:Cn.push(t)}var Bn=$(null),jr=null,sa=null;function Da(t,n,l){vt(Bn,n._currentValue),n._currentValue=l}function oa(t){t._currentValue=Bn.current,ht(Bn)}function ao(t,n,l){for(;t!==null;){var d=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),t===l)break;t=t.return}}function Mo(t,n,l,d){var w=t.child;for(w!==null&&(w.return=t);w!==null;){var A=w.dependencies;if(A!==null){var R=w.child;A=A.firstContext;t:for(;A!==null;){var F=A;A=w;for(var Q=0;Q<n.length;Q++)if(F.context===n[Q]){A.lanes|=l,F=A.alternate,F!==null&&(F.lanes|=l),ao(A.return,l,t),d||(R=null);break t}A=F.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(m(341));R.lanes|=l,A=R.alternate,A!==null&&(A.lanes|=l),ao(R,l,t),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===t){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function so(t,n,l,d){t=null;for(var w=n,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(m(387));if(R=R.memoizedProps,R!==null){var F=w.type;c(w.pendingProps.value,R.value)||(t!==null?t.push(F):t=[F])}}else if(w===se.current){if(R=w.alternate,R===null)throw Error(m(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}w=w.return}t!==null&&Mo(n,t,l,d),n.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!c(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oo(t){jr=t,sa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vi(t){return Dd(jr,t)}function Eu(t,n){return jr===null&&oo(t),Dd(t,n)}function Dd(t,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},sa===null){if(t===null)throw Error(m(308));sa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else sa=sa.next=n;return l}var x2=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(l,d){t.push(d)}};this.abort=function(){n.aborted=!0,t.forEach(function(l){return l()})}},_2=a.unstable_scheduleCallback,y2=a.unstable_NormalPriority,gi={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new x2,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&_2(y2,function(){t.controller.abort()})}var ml=null,qc=0,No=0,Io=null;function w2(t,n){if(ml===null){var l=ml=[];qc=0,No=Kf(),Io={status:"pending",value:void 0,then:function(d){l.push(d)}}}return qc++,n.then(Rd,Rd),n}function Rd(){if(--qc===0&&ml!==null){Io!==null&&(Io.status="fulfilled");var t=ml;ml=null,No=0,Io=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function v2(t,n){var l=[],d={status:"pending",value:null,reason:null,then:function(w){l.push(w)}};return t.then(function(){d.status="fulfilled",d.value=n;for(var w=0;w<l.length;w++)(0,l[w])(n)},function(w){for(d.status="rejected",d.reason=w,w=0;w<l.length;w++)(0,l[w])(void 0)}),d}var Ld=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&w2(t,n),Ld!==null&&Ld(t,n)};var lo=$(null);function Wc(){var t=lo.current;return t!==null?t:Tn.pooledCache}function Au(t,n){n===null?vt(lo,lo.current):vt(lo,n.pool)}function Bd(){var t=Wc();return t===null?null:{parent:gi._currentValue,pool:t}}var pl=Error(m(460)),Pd=Error(m(474)),Su=Error(m(542)),Qc={then:function(){}};function zd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bu(){}function kd(t,n,l){switch(l=t[l],l===void 0?t.push(n):l!==n&&(n.then(bu,bu),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t;default:if(typeof n.status=="string")n.then(bu,bu);else{if(t=Tn,t!==null&&100<t.shellSuspendCounter)throw Error(m(482));t=n,t.status="pending",t.then(function(d){if(n.status==="pending"){var w=n;w.status="fulfilled",w.value=d}},function(d){if(n.status==="pending"){var w=n;w.status="rejected",w.reason=d}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t}throw xl=n,pl}}var xl=null;function Ud(){if(xl===null)throw Error(m(459));var t=xl;return xl=null,t}function Fd(t){if(t===pl||t===Su)throw Error(m(483))}var vs=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,n,l){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(un&2)!==0){var w=d.pending;return w===null?n.next=n:(n.next=w.next,w.next=n),d.pending=n,n=Ia(t),no(t,null,l),n}return eo(t,d,n,l),Ia(t)}function _l(t,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var d=n.lanes;d&=t.pendingLanes,l|=d,n.lanes=l,xi(t,l)}}function $c(t,n){var l=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var w=null,A=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};A===null?w=A=R:A=A.next=R,l=l.next}while(l!==null);A===null?w=A=n:A=A.next=n}else w=A=n;l={baseState:d.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:d.shared,callbacks:d.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=n:t.next=n,l.lastBaseUpdate=n}var tf=!1;function yl(){if(tf){var t=Io;if(t!==null)throw t}}function wl(t,n,l,d){tf=!1;var w=t.updateQueue;vs=!1;var A=w.firstBaseUpdate,R=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var Q=F,wt=Q.next;Q.next=null,R===null?A=wt:R.next=wt,R=Q;var Rt=t.alternate;Rt!==null&&(Rt=Rt.updateQueue,F=Rt.lastBaseUpdate,F!==R&&(F===null?Rt.firstBaseUpdate=wt:F.next=wt,Rt.lastBaseUpdate=Q))}if(A!==null){var zt=w.baseState;R=0,Rt=wt=Q=null,F=A;do{var St=F.lane&-536870913,Ct=St!==F.lane;if(Ct?(We&St)===St:(d&St)===St){St!==0&&St===No&&(tf=!0),Rt!==null&&(Rt=Rt.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});t:{var _e=t,ge=F;St=n;var pn=l;switch(ge.tag){case 1:if(_e=ge.payload,typeof _e=="function"){zt=_e.call(pn,zt,St);break t}zt=_e;break t;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ge.payload,St=typeof _e=="function"?_e.call(pn,zt,St):_e,St==null)break t;zt=N({},zt,St);break t;case 2:vs=!0}}St=F.callback,St!==null&&(t.flags|=64,Ct&&(t.flags|=8192),Ct=w.callbacks,Ct===null?w.callbacks=[St]:Ct.push(St))}else Ct={lane:St,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Rt===null?(wt=Rt=Ct,Q=zt):Rt=Rt.next=Ct,R|=St;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;Ct=F,F=Ct.next,Ct.next=null,w.lastBaseUpdate=Ct,w.shared.pending=null}}while(!0);Rt===null&&(Q=zt),w.baseState=Q,w.firstBaseUpdate=wt,w.lastBaseUpdate=Rt,A===null&&(w.shared.lanes=0),Os|=R,t.lanes=R,t.memoizedState=zt}}function Hd(t,n){if(typeof t!="function")throw Error(m(191,t));t.call(n)}function Zd(t,n){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Hd(l[t],n)}var Oo=$(null),Cu=$(0);function Vd(t,n){t=es,vt(Cu,t),vt(Oo,n),es=t|n.baseLanes}function ef(){vt(Cu,es),vt(Oo,Oo.current)}function nf(){es=Cu.current,ht(Oo),ht(Cu)}var Ss=0,Le=null,gn=null,si=null,Tu=!1,Do=!1,uo=!1,Mu=0,vl=0,Ro=null,E2=0;function ri(){throw Error(m(321))}function rf(t,n){if(n===null)return!1;for(var l=0;l<n.length&&l<t.length;l++)if(!c(t[l],n[l]))return!1;return!0}function af(t,n,l,d,w,A){return Ss=A,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?C0:T0,uo=!1,A=l(d,w),uo=!1,Do&&(A=Yd(n,l,d,w)),Gd(t),A}function Gd(t){G.H=Lu;var n=gn!==null&&gn.next!==null;if(Ss=0,si=gn=Le=null,Tu=!1,vl=0,Ro=null,n)throw Error(m(300));t===null||Ti||(t=t.dependencies,t!==null&&vu(t)&&(Ti=!0))}function Yd(t,n,l,d){Le=t;var w=0;do{if(Do&&(Ro=null),vl=0,Do=!1,25<=w)throw Error(m(301));if(w+=1,si=gn=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}G.H=N2,A=n(l,d)}while(Do);return A}function A2(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(gn!==null?gn.memoizedState:null)!==t&&(Le.flags|=1024),n}function sf(){var t=Mu!==0;return Mu=0,t}function of(t,n,l){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~l}function lf(t){if(Tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Tu=!1}Ss=0,si=gn=Le=null,Do=!1,vl=Mu=0,Ro=null}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?Le.memoizedState=si=t:si=si.next=t,si}function oi(){if(gn===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var n=si===null?Le.memoizedState:si.next;if(n!==null)si=n,gn=t;else{if(t===null)throw Le.alternate===null?Error(m(467)):Error(m(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},si===null?Le.memoizedState=si=t:si=si.next=t}return si}function uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,Ro===null&&(Ro=[]),t=kd(Ro,t,n),n=Le,(si===null?n.memoizedState:si.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?C0:T0),t}function Nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===tt)return Vi(t)}throw Error(m(438,String(t)))}function cf(t){var n=null,l=Le.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(n={data:d.data.map(function(w){return w.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=uf(),Le.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(t),d=0;d<t;d++)l[d]=Yt;return n.index++,l}function Wa(t,n){return typeof n=="function"?n(t):n}function Iu(t){var n=oi();return ff(n,gn,t)}function ff(t,n,l){var d=t.queue;if(d===null)throw Error(m(311));d.lastRenderedReducer=l;var w=t.baseQueue,A=d.pending;if(A!==null){if(w!==null){var R=w.next;w.next=A.next,A.next=R}n.baseQueue=w=A,d.pending=null}if(A=t.baseState,w===null)t.memoizedState=A;else{n=w.next;var F=R=null,Q=null,wt=n,Rt=!1;do{var zt=wt.lane&-536870913;if(zt!==wt.lane?(We&zt)===zt:(Ss&zt)===zt){var St=wt.revertLane;if(St===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),zt===No&&(Rt=!0);else if((Ss&St)===St){wt=wt.next,St===No&&(Rt=!0);continue}else zt={lane:0,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},Q===null?(F=Q=zt,R=A):Q=Q.next=zt,Le.lanes|=St,Os|=St;zt=wt.action,uo&&l(A,zt),A=wt.hasEagerState?wt.eagerState:l(A,zt)}else St={lane:zt,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},Q===null?(F=Q=St,R=A):Q=Q.next=St,Le.lanes|=zt,Os|=zt;wt=wt.next}while(wt!==null&&wt!==n);if(Q===null?R=A:Q.next=F,!c(A,t.memoizedState)&&(Ti=!0,Rt&&(l=Io,l!==null)))throw l;t.memoizedState=A,t.baseState=R,t.baseQueue=Q,d.lastRenderedState=A}return w===null&&(d.lanes=0),[t.memoizedState,d.dispatch]}function hf(t){var n=oi(),l=n.queue;if(l===null)throw Error(m(311));l.lastRenderedReducer=t;var d=l.dispatch,w=l.pending,A=n.memoizedState;if(w!==null){l.pending=null;var R=w=w.next;do A=t(A,R.action),R=R.next;while(R!==w);c(A,n.memoizedState)||(Ti=!0),n.memoizedState=A,n.baseQueue===null&&(n.baseState=A),l.lastRenderedState=A}return[A,d]}function Xd(t,n,l){var d=Le,w=oi(),A=ve;if(A){if(l===void 0)throw Error(m(407));l=l()}else l=n();var R=!c((gn||w).memoizedState,l);R&&(w.memoizedState=l,Ti=!0),w=w.queue;var F=Wd.bind(null,d,w,t);if(Al(2048,8,F,[t]),w.getSnapshot!==n||R||si!==null&&si.memoizedState.tag&1){if(d.flags|=2048,Lo(9,Ou(),qd.bind(null,d,w,l,n),null),Tn===null)throw Error(m(349));A||(Ss&124)!==0||jd(d,n,l)}return l}function jd(t,n,l){t.flags|=16384,t={getSnapshot:n,value:l},n=Le.updateQueue,n===null?(n=uf(),Le.updateQueue=n,n.stores=[t]):(l=n.stores,l===null?n.stores=[t]:l.push(t))}function qd(t,n,l,d){n.value=l,n.getSnapshot=d,Qd(n)&&Kd(t)}function Wd(t,n,l){return l(function(){Qd(n)&&Kd(t)})}function Qd(t){var n=t.getSnapshot;t=t.value;try{var l=n();return!c(t,l)}catch{return!0}}function Kd(t){var n=xs(t,2);n!==null&&Ir(n,t,2)}function df(t){var n=fr();if(typeof t=="function"){var l=t;if(t=l(),uo){yn(!0);try{l()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},n}function Jd(t,n,l,d){return t.baseState=l,ff(t,gn,typeof d=="function"?d:Wa)}function S2(t,n,l,d,w){if(Ru(t))throw Error(m(485));if(t=n.action,t!==null){var A={payload:w,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){A.listeners.push(R)}};G.T!==null?l(!0):A.isTransition=!1,d(A),l=n.pending,l===null?(A.next=n.pending=A,$d(n,A)):(A.next=l.next,n.pending=l.next=A)}}function $d(t,n){var l=n.action,d=n.payload,w=t.state;if(n.isTransition){var A=G.T,R={};G.T=R;try{var F=l(w,d),Q=G.S;Q!==null&&Q(R,F),t0(t,n,F)}catch(wt){gf(t,n,wt)}finally{G.T=A}}else try{A=l(w,d),t0(t,n,A)}catch(wt){gf(t,n,wt)}}function t0(t,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){e0(t,n,d)},function(d){return gf(t,n,d)}):e0(t,n,l)}function e0(t,n,l){n.status="fulfilled",n.value=l,n0(n),t.state=l,n=t.pending,n!==null&&(l=n.next,l===n?t.pending=null:(l=l.next,n.next=l,$d(t,l)))}function gf(t,n,l){var d=t.pending;if(t.pending=null,d!==null){d=d.next;do n.status="rejected",n.reason=l,n0(n),n=n.next;while(n!==d)}t.action=null}function n0(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function i0(t,n){return n}function r0(t,n){if(ve){var l=Tn.formState;if(l!==null){t:{var d=Le;if(ve){if(ae){e:{for(var w=ae,A=Hn;w.nodeType!==8;){if(!A){w=null;break e}if(w=ua(w.nextSibling),w===null){w=null;break e}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){ae=ua(w.nextSibling),d=w.data==="F!";break t}}cr(d)}d=!1}d&&(n=l[0])}}return l=fr(),l.memoizedState=l.baseState=n,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:n},l.queue=d,l=A0.bind(null,Le,d),d.dispatch=l,d=df(!1),A=yf.bind(null,Le,!1,d.queue),d=fr(),w={state:n,dispatch:null,action:t,pending:null},d.queue=w,l=S2.bind(null,Le,w,A,l),w.dispatch=l,d.memoizedState=t,[n,l,!1]}function a0(t){var n=oi();return s0(n,gn,t)}function s0(t,n,l){if(n=ff(t,n,i0)[0],t=Iu(Wa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var d=El(n)}catch(R){throw R===pl?Su:R}else d=n;n=oi();var w=n.queue,A=w.dispatch;return l!==n.memoizedState&&(Le.flags|=2048,Lo(9,Ou(),b2.bind(null,w,l),null)),[d,A,t]}function b2(t,n){t.action=n}function o0(t){var n=oi(),l=gn;if(l!==null)return s0(n,l,t);oi(),n=n.memoizedState,l=oi();var d=l.queue.dispatch;return l.memoizedState=t,[n,d,!1]}function Lo(t,n,l,d){return t={tag:t,create:l,deps:d,inst:n,next:null},n=Le.updateQueue,n===null&&(n=uf(),Le.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=t.next=t:(d=l.next,l.next=t,t.next=d,n.lastEffect=t),t}function Ou(){return{destroy:void 0,resource:void 0}}function l0(){return oi().memoizedState}function Du(t,n,l,d){var w=fr();d=d===void 0?null:d,Le.flags|=t,w.memoizedState=Lo(1|n,Ou(),l,d)}function Al(t,n,l,d){var w=oi();d=d===void 0?null:d;var A=w.memoizedState.inst;gn!==null&&d!==null&&rf(d,gn.memoizedState.deps)?w.memoizedState=Lo(n,A,l,d):(Le.flags|=t,w.memoizedState=Lo(1|n,A,l,d))}function u0(t,n){Du(8390656,8,t,n)}function c0(t,n){Al(2048,8,t,n)}function f0(t,n){return Al(4,2,t,n)}function h0(t,n){return Al(4,4,t,n)}function d0(t,n){if(typeof n=="function"){t=t();var l=n(t);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function g0(t,n,l){l=l!=null?l.concat([t]):null,Al(4,4,d0.bind(null,n,t),l)}function mf(){}function m0(t,n){var l=oi();n=n===void 0?null:n;var d=l.memoizedState;return n!==null&&rf(n,d[1])?d[0]:(l.memoizedState=[t,n],t)}function p0(t,n){var l=oi();n=n===void 0?null:n;var d=l.memoizedState;if(n!==null&&rf(n,d[1]))return d[0];if(d=t(),uo){yn(!0);try{t()}finally{yn(!1)}}return l.memoizedState=[d,n],d}function pf(t,n,l){return l===void 0||(Ss&1073741824)!==0?t.memoizedState=n:(t.memoizedState=l,t=y1(),Le.lanes|=t,Os|=t,l)}function x0(t,n,l,d){return c(l,n)?l:Oo.current!==null?(t=pf(t,l,d),c(t,n)||(Ti=!0),t):(Ss&42)===0?(Ti=!0,t.memoizedState=l):(t=y1(),Le.lanes|=t,Os|=t,n)}function _0(t,n,l,d,w){var A=J.p;J.p=A!==0&&8>A?A:8;var R=G.T,F={};G.T=F,yf(t,!1,n,l);try{var Q=w(),wt=G.S;if(wt!==null&&wt(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Rt=v2(Q,d);Sl(t,n,Rt,Nr(t))}else Sl(t,n,d,Nr(t))}catch(zt){Sl(t,n,{then:function(){},status:"rejected",reason:zt},Nr())}finally{J.p=A,G.T=R}}function C2(){}function xf(t,n,l,d){if(t.tag!==5)throw Error(m(476));var w=y0(t).queue;_0(t,w,n,ut,l===null?C2:function(){return w0(t),l(d)})}function y0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:ut},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:l},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function w0(t){var n=y0(t).next.queue;Sl(t,n,{},Nr())}function _f(){return Vi(Zl)}function v0(){return oi().memoizedState}function E0(){return oi().memoizedState}function T2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nr();t=Es(l);var d=As(n,t,l);d!==null&&(Ir(d,n,l),_l(d,n,l)),n={cache:jc()},t.payload=n;return}n=n.return}}function M2(t,n,l){var d=Nr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)?S0(n,l):(l=Xa(t,n,l,d),l!==null&&(Ir(l,t,d),b0(l,n,d)))}function A0(t,n,l){var d=Nr();Sl(t,n,l,d)}function Sl(t,n,l,d){var w={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))S0(n,w);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=n.lastRenderedReducer,A!==null))try{var R=n.lastRenderedState,F=A(R,l);if(w.hasEagerState=!0,w.eagerState=F,c(F,R))return eo(t,n,w,0),Tn===null&&to(),!1}catch{}finally{}if(l=Xa(t,n,w,d),l!==null)return Ir(l,t,d),b0(l,n,d),!0}return!1}function yf(t,n,l,d){if(d={lane:2,revertLane:Kf(),action:d,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(n)throw Error(m(479))}else n=Xa(t,l,d,2),n!==null&&Ir(n,t,2)}function Ru(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function S0(t,n){Do=Tu=!0;var l=t.pending;l===null?n.next=n:(n.next=l.next,l.next=n),t.pending=n}function b0(t,n,l){if((l&4194048)!==0){var d=n.lanes;d&=t.pendingLanes,l|=d,n.lanes=l,xi(t,l)}}var Lu={readContext:Vi,use:Nu,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri},C0={readContext:Vi,use:Nu,useCallback:function(t,n){return fr().memoizedState=[t,n===void 0?null:n],t},useContext:Vi,useEffect:u0,useImperativeHandle:function(t,n,l){l=l!=null?l.concat([t]):null,Du(4194308,4,d0.bind(null,n,t),l)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var l=fr();n=n===void 0?null:n;var d=t();if(uo){yn(!0);try{t()}finally{yn(!1)}}return l.memoizedState=[d,n],d},useReducer:function(t,n,l){var d=fr();if(l!==void 0){var w=l(n);if(uo){yn(!0);try{l(n)}finally{yn(!1)}}}else w=n;return d.memoizedState=d.baseState=w,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:w},d.queue=t,t=t.dispatch=M2.bind(null,Le,t),[d.memoizedState,t]},useRef:function(t){var n=fr();return t={current:t},n.memoizedState=t},useState:function(t){t=df(t);var n=t.queue,l=A0.bind(null,Le,n);return n.dispatch=l,[t.memoizedState,l]},useDebugValue:mf,useDeferredValue:function(t,n){var l=fr();return pf(l,t,n)},useTransition:function(){var t=df(!1);return t=_0.bind(null,Le,t.queue,!0,!1),fr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,l){var d=Le,w=fr();if(ve){if(l===void 0)throw Error(m(407));l=l()}else{if(l=n(),Tn===null)throw Error(m(349));(We&124)!==0||jd(d,n,l)}w.memoizedState=l;var A={value:l,getSnapshot:n};return w.queue=A,u0(Wd.bind(null,d,A,t),[t]),d.flags|=2048,Lo(9,Ou(),qd.bind(null,d,A,l,n),null),l},useId:function(){var t=fr(),n=Tn.identifierPrefix;if(ve){var l=W,d=k;l=(d&~(1<<32-Be(d)-1)).toString(32)+l,n="«"+n+"R"+l,l=Mu++,0<l&&(n+="H"+l.toString(32)),n+="»"}else l=E2++,n="«"+n+"r"+l.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:_f,useFormState:r0,useActionState:r0,useOptimistic:function(t){var n=fr();n.memoizedState=n.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=yf.bind(null,Le,!0,l),l.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return fr().memoizedState=T2.bind(null,Le)}},T0={readContext:Vi,use:Nu,useCallback:m0,useContext:Vi,useEffect:c0,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:h0,useMemo:p0,useReducer:Iu,useRef:l0,useState:function(){return Iu(Wa)},useDebugValue:mf,useDeferredValue:function(t,n){var l=oi();return x0(l,gn.memoizedState,t,n)},useTransition:function(){var t=Iu(Wa)[0],n=oi().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Xd,useId:v0,useHostTransitionStatus:_f,useFormState:a0,useActionState:a0,useOptimistic:function(t,n){var l=oi();return Jd(l,gn,t,n)},useMemoCache:cf,useCacheRefresh:E0},N2={readContext:Vi,use:Nu,useCallback:m0,useContext:Vi,useEffect:c0,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:h0,useMemo:p0,useReducer:hf,useRef:l0,useState:function(){return hf(Wa)},useDebugValue:mf,useDeferredValue:function(t,n){var l=oi();return gn===null?pf(l,t,n):x0(l,gn.memoizedState,t,n)},useTransition:function(){var t=hf(Wa)[0],n=oi().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Xd,useId:v0,useHostTransitionStatus:_f,useFormState:o0,useActionState:o0,useOptimistic:function(t,n){var l=oi();return gn!==null?Jd(l,gn,t,n):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:cf,useCacheRefresh:E0},Bo=null,bl=0;function Bu(t){var n=bl;return bl+=1,Bo===null&&(Bo=[]),kd(Bo,t,n)}function Cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===D?Error(m(525)):(t=Object.prototype.toString.call(n),Error(m(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function M0(t){var n=t._init;return n(t._payload)}function N0(t){function n(dt,ot){if(t){var yt=dt.deletions;yt===null?(dt.deletions=[ot],dt.flags|=16):yt.push(ot)}}function l(dt,ot){if(!t)return null;for(;ot!==null;)n(dt,ot),ot=ot.sibling;return null}function d(dt){for(var ot=new Map;dt!==null;)dt.key!==null?ot.set(dt.key,dt):ot.set(dt.index,dt),dt=dt.sibling;return ot}function w(dt,ot){return dt=Xr(dt,ot),dt.index=0,dt.sibling=null,dt}function A(dt,ot,yt){return dt.index=yt,t?(yt=dt.alternate,yt!==null?(yt=yt.index,yt<ot?(dt.flags|=67108866,ot):yt):(dt.flags|=67108866,ot)):(dt.flags|=1048576,ot)}function R(dt){return t&&dt.alternate===null&&(dt.flags|=67108866),dt}function F(dt,ot,yt,Bt){return ot===null||ot.tag!==6?(ot=dl(yt,dt.mode,Bt),ot.return=dt,ot):(ot=w(ot,yt),ot.return=dt,ot)}function Q(dt,ot,yt,Bt){var ie=yt.type;return ie===rt?Rt(dt,ot,yt.props.children,Bt,yt.key):ot!==null&&(ot.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ot&&M0(ie)===ot.type)?(ot=w(ot,yt.props),Cl(ot,yt),ot.return=dt,ot):(ot=io(yt.type,yt.key,yt.props,null,dt.mode,Bt),Cl(ot,yt),ot.return=dt,ot)}function wt(dt,ot,yt,Bt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==yt.containerInfo||ot.stateNode.implementation!==yt.implementation?(ot=To(yt,dt.mode,Bt),ot.return=dt,ot):(ot=w(ot,yt.children||[]),ot.return=dt,ot)}function Rt(dt,ot,yt,Bt,ie){return ot===null||ot.tag!==7?(ot=Oa(yt,dt.mode,Bt,ie),ot.return=dt,ot):(ot=w(ot,yt),ot.return=dt,ot)}function zt(dt,ot,yt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=dl(""+ot,dt.mode,yt),ot.return=dt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case H:return yt=io(ot.type,ot.key,ot.props,null,dt.mode,yt),Cl(yt,ot),yt.return=dt,yt;case V:return ot=To(ot,dt.mode,yt),ot.return=dt,ot;case Ot:var Bt=ot._init;return ot=Bt(ot._payload),zt(dt,ot,yt)}if(q(ot)||Tt(ot))return ot=Oa(ot,dt.mode,yt,null),ot.return=dt,ot;if(typeof ot.then=="function")return zt(dt,Bu(ot),yt);if(ot.$$typeof===tt)return zt(dt,Eu(dt,ot),yt);Pu(dt,ot)}return null}function St(dt,ot,yt,Bt){var ie=ot!==null?ot.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return ie!==null?null:F(dt,ot,""+yt,Bt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case H:return yt.key===ie?Q(dt,ot,yt,Bt):null;case V:return yt.key===ie?wt(dt,ot,yt,Bt):null;case Ot:return ie=yt._init,yt=ie(yt._payload),St(dt,ot,yt,Bt)}if(q(yt)||Tt(yt))return ie!==null?null:Rt(dt,ot,yt,Bt,null);if(typeof yt.then=="function")return St(dt,ot,Bu(yt),Bt);if(yt.$$typeof===tt)return St(dt,ot,Eu(dt,yt),Bt);Pu(dt,yt)}return null}function Ct(dt,ot,yt,Bt,ie){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return dt=dt.get(yt)||null,F(ot,dt,""+Bt,ie);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case H:return dt=dt.get(Bt.key===null?yt:Bt.key)||null,Q(ot,dt,Bt,ie);case V:return dt=dt.get(Bt.key===null?yt:Bt.key)||null,wt(ot,dt,Bt,ie);case Ot:var Ue=Bt._init;return Bt=Ue(Bt._payload),Ct(dt,ot,yt,Bt,ie)}if(q(Bt)||Tt(Bt))return dt=dt.get(yt)||null,Rt(ot,dt,Bt,ie,null);if(typeof Bt.then=="function")return Ct(dt,ot,yt,Bu(Bt),ie);if(Bt.$$typeof===tt)return Ct(dt,ot,yt,Eu(ot,Bt),ie);Pu(ot,Bt)}return null}function _e(dt,ot,yt,Bt){for(var ie=null,Ue=null,ue=ot,me=ot=0,Ni=null;ue!==null&&me<yt.length;me++){ue.index>me?(Ni=ue,ue=null):Ni=ue.sibling;var Je=St(dt,ue,yt[me],Bt);if(Je===null){ue===null&&(ue=Ni);break}t&&ue&&Je.alternate===null&&n(dt,ue),ot=A(Je,ot,me),Ue===null?ie=Je:Ue.sibling=Je,Ue=Je,ue=Ni}if(me===yt.length)return l(dt,ue),ve&&gt(dt,me),ie;if(ue===null){for(;me<yt.length;me++)ue=zt(dt,yt[me],Bt),ue!==null&&(ot=A(ue,ot,me),Ue===null?ie=ue:Ue.sibling=ue,Ue=ue);return ve&&gt(dt,me),ie}for(ue=d(ue);me<yt.length;me++)Ni=Ct(ue,dt,me,yt[me],Bt),Ni!==null&&(t&&Ni.alternate!==null&&ue.delete(Ni.key===null?me:Ni.key),ot=A(Ni,ot,me),Ue===null?ie=Ni:Ue.sibling=Ni,Ue=Ni);return t&&ue.forEach(function(Fs){return n(dt,Fs)}),ve&&gt(dt,me),ie}function ge(dt,ot,yt,Bt){if(yt==null)throw Error(m(151));for(var ie=null,Ue=null,ue=ot,me=ot=0,Ni=null,Je=yt.next();ue!==null&&!Je.done;me++,Je=yt.next()){ue.index>me?(Ni=ue,ue=null):Ni=ue.sibling;var Fs=St(dt,ue,Je.value,Bt);if(Fs===null){ue===null&&(ue=Ni);break}t&&ue&&Fs.alternate===null&&n(dt,ue),ot=A(Fs,ot,me),Ue===null?ie=Fs:Ue.sibling=Fs,Ue=Fs,ue=Ni}if(Je.done)return l(dt,ue),ve&&gt(dt,me),ie;if(ue===null){for(;!Je.done;me++,Je=yt.next())Je=zt(dt,Je.value,Bt),Je!==null&&(ot=A(Je,ot,me),Ue===null?ie=Je:Ue.sibling=Je,Ue=Je);return ve&&gt(dt,me),ie}for(ue=d(ue);!Je.done;me++,Je=yt.next())Je=Ct(ue,dt,me,Je.value,Bt),Je!==null&&(t&&Je.alternate!==null&&ue.delete(Je.key===null?me:Je.key),ot=A(Je,ot,me),Ue===null?ie=Je:Ue.sibling=Je,Ue=Je);return t&&ue.forEach(function(Ix){return n(dt,Ix)}),ve&&gt(dt,me),ie}function pn(dt,ot,yt,Bt){if(typeof yt=="object"&&yt!==null&&yt.type===rt&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case H:t:{for(var ie=yt.key;ot!==null;){if(ot.key===ie){if(ie=yt.type,ie===rt){if(ot.tag===7){l(dt,ot.sibling),Bt=w(ot,yt.props.children),Bt.return=dt,dt=Bt;break t}}else if(ot.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ot&&M0(ie)===ot.type){l(dt,ot.sibling),Bt=w(ot,yt.props),Cl(Bt,yt),Bt.return=dt,dt=Bt;break t}l(dt,ot);break}else n(dt,ot);ot=ot.sibling}yt.type===rt?(Bt=Oa(yt.props.children,dt.mode,Bt,yt.key),Bt.return=dt,dt=Bt):(Bt=io(yt.type,yt.key,yt.props,null,dt.mode,Bt),Cl(Bt,yt),Bt.return=dt,dt=Bt)}return R(dt);case V:t:{for(ie=yt.key;ot!==null;){if(ot.key===ie)if(ot.tag===4&&ot.stateNode.containerInfo===yt.containerInfo&&ot.stateNode.implementation===yt.implementation){l(dt,ot.sibling),Bt=w(ot,yt.children||[]),Bt.return=dt,dt=Bt;break t}else{l(dt,ot);break}else n(dt,ot);ot=ot.sibling}Bt=To(yt,dt.mode,Bt),Bt.return=dt,dt=Bt}return R(dt);case Ot:return ie=yt._init,yt=ie(yt._payload),pn(dt,ot,yt,Bt)}if(q(yt))return _e(dt,ot,yt,Bt);if(Tt(yt)){if(ie=Tt(yt),typeof ie!="function")throw Error(m(150));return yt=ie.call(yt),ge(dt,ot,yt,Bt)}if(typeof yt.then=="function")return pn(dt,ot,Bu(yt),Bt);if(yt.$$typeof===tt)return pn(dt,ot,Eu(dt,yt),Bt);Pu(dt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint"?(yt=""+yt,ot!==null&&ot.tag===6?(l(dt,ot.sibling),Bt=w(ot,yt),Bt.return=dt,dt=Bt):(l(dt,ot),Bt=dl(yt,dt.mode,Bt),Bt.return=dt,dt=Bt),R(dt)):l(dt,ot)}return function(dt,ot,yt,Bt){try{bl=0;var ie=pn(dt,ot,yt,Bt);return Bo=null,ie}catch(ue){if(ue===pl||ue===Su)throw ue;var Ue=tr(29,ue,null,dt.mode);return Ue.lanes=Bt,Ue.return=dt,Ue}finally{}}}var Po=N0(!0),I0=N0(!1),qr=$(null),Ra=null;function bs(t){var n=t.alternate;vt(mi,mi.current&1),vt(qr,t),Ra===null&&(n===null||Oo.current!==null||n.memoizedState!==null)&&(Ra=t)}function O0(t){if(t.tag===22){if(vt(mi,mi.current),vt(qr,t),Ra===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ra=t)}}else Cs()}function Cs(){vt(mi,mi.current),vt(qr,qr.current)}function Qa(t){ht(qr),Ra===t&&(Ra=null),ht(mi)}var mi=$(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||uh(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wf(t,n,l,d){n=t.memoizedState,l=l(d,n),l=l==null?n:N({},n,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var vf={enqueueSetState:function(t,n,l){t=t._reactInternals;var d=Nr(),w=Es(d);w.payload=n,l!=null&&(w.callback=l),n=As(t,w,d),n!==null&&(Ir(n,t,d),_l(n,t,d))},enqueueReplaceState:function(t,n,l){t=t._reactInternals;var d=Nr(),w=Es(d);w.tag=1,w.payload=n,l!=null&&(w.callback=l),n=As(t,w,d),n!==null&&(Ir(n,t,d),_l(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var l=Nr(),d=Es(l);d.tag=2,n!=null&&(d.callback=n),n=As(t,d,l),n!==null&&(Ir(n,t,l),_l(n,t,l))}};function D0(t,n,l,d,w,A,R){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,A,R):n.prototype&&n.prototype.isPureReactComponent?!f(l,d)||!f(w,A):!0}function R0(t,n,l,d){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,d),n.state!==t&&vf.enqueueReplaceState(n,n.state,null)}function co(t,n){var l=n;if("ref"in n){l={};for(var d in n)d!=="ref"&&(l[d]=n[d])}if(t=t.defaultProps){l===n&&(l=N({},l));for(var w in t)l[w]===void 0&&(l[w]=t[w])}return l}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function L0(t){ku(t)}function B0(t){console.error(t)}function P0(t){ku(t)}function Uu(t,n){try{var l=t.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(d){setTimeout(function(){throw d})}}function z0(t,n,l){try{var d=t.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Ef(t,n,l){return l=Es(l),l.tag=3,l.payload={element:null},l.callback=function(){Uu(t,n)},l}function k0(t){return t=Es(t),t.tag=3,t}function U0(t,n,l,d){var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var A=d.value;t.payload=function(){return w(A)},t.callback=function(){z0(n,l,d)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(t.callback=function(){z0(n,l,d),typeof w!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function I2(t,n,l,d,w){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(n=l.alternate,n!==null&&so(n,l,w,!0),l=qr.current,l!==null){switch(l.tag){case 13:return Ra===null?Xf():l.alternate===null&&jn===0&&(jn=3),l.flags&=-257,l.flags|=65536,l.lanes=w,d===Qc?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([d]):n.add(d),qf(t,d,w)),!1;case 22:return l.flags|=65536,d===Qc?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([d]):l.add(d)),qf(t,d,w)),!1}throw Error(m(435,l.tag))}return qf(t,d,w),Xf(),!1}if(ve)return n=qr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=w,d!==Ci&&(t=Error(m(422),{cause:d}),ws(Ji(t,l)))):(d!==Ci&&(n=Error(m(423),{cause:d}),ws(Ji(n,l))),t=t.current.alternate,t.flags|=65536,w&=-w,t.lanes|=w,d=Ji(d,l),w=Ef(t.stateNode,d,w),$c(t,w),jn!==4&&(jn=2)),!1;var A=Error(m(520),{cause:d});if(A=Ji(A,l),Rl===null?Rl=[A]:Rl.push(A),jn!==4&&(jn=2),n===null)return!0;d=Ji(d,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,t=w&-w,l.lanes|=t,t=Ef(l.stateNode,d,t),$c(l,t),!1;case 1:if(n=l.type,A=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ds===null||!Ds.has(A))))return l.flags|=65536,w&=-w,l.lanes|=w,w=k0(w),U0(w,t,l,d),$c(l,w),!1}l=l.return}while(l!==null);return!1}var F0=Error(m(461)),Ti=!1;function Bi(t,n,l,d){n.child=t===null?I0(n,null,l,d):Po(n,t.child,l,d)}function H0(t,n,l,d,w){l=l.render;var A=n.ref;if("ref"in d){var R={};for(var F in d)F!=="ref"&&(R[F]=d[F])}else R=d;return oo(n),d=af(t,n,l,R,A,w),F=sf(),t!==null&&!Ti?(of(t,n,w),Ka(t,n,w)):(ve&&F&&Ut(n),n.flags|=1,Bi(t,n,d,w),n.child)}function Z0(t,n,l,d,w){if(t===null){var A=l.type;return typeof A=="function"&&!Co(A)&&A.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=A,V0(t,n,A,d,w)):(t=io(l.type,null,d,n,n.mode,w),t.ref=n.ref,t.return=n,n.child=t)}if(A=t.child,!If(t,w)){var R=A.memoizedProps;if(l=l.compare,l=l!==null?l:f,l(R,d)&&t.ref===n.ref)return Ka(t,n,w)}return n.flags|=1,t=Xr(A,d),t.ref=n.ref,t.return=n,n.child=t}function V0(t,n,l,d,w){if(t!==null){var A=t.memoizedProps;if(f(A,d)&&t.ref===n.ref)if(Ti=!1,n.pendingProps=d=A,If(t,w))(t.flags&131072)!==0&&(Ti=!0);else return n.lanes=t.lanes,Ka(t,n,w)}return Af(t,n,l,d,w)}function G0(t,n,l){var d=n.pendingProps,w=d.children,A=t!==null?t.memoizedState:null;if(d.mode==="hidden"){if((n.flags&128)!==0){if(d=A!==null?A.baseLanes|l:l,t!==null){for(w=n.child=t.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;n.childLanes=A&~d}else n.childLanes=0,n.child=null;return Y0(t,n,d,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(n,A!==null?A.cachePool:null),A!==null?Vd(n,A):ef(),O0(n);else return n.lanes=n.childLanes=536870912,Y0(t,n,A!==null?A.baseLanes|l:l,l)}else A!==null?(Au(n,A.cachePool),Vd(n,A),Cs(),n.memoizedState=null):(t!==null&&Au(n,null),ef(),Cs());return Bi(t,n,w,l),n.child}function Y0(t,n,l,d){var w=Wc();return w=w===null?null:{parent:gi._currentValue,pool:w},n.memoizedState={baseLanes:l,cachePool:w},t!==null&&Au(n,null),ef(),O0(n),t!==null&&so(t,n,d,!0),null}function Fu(t,n){var l=n.ref;if(l===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(m(284));(t===null||t.ref!==l)&&(n.flags|=4194816)}}function Af(t,n,l,d,w){return oo(n),l=af(t,n,l,d,void 0,w),d=sf(),t!==null&&!Ti?(of(t,n,w),Ka(t,n,w)):(ve&&d&&Ut(n),n.flags|=1,Bi(t,n,l,w),n.child)}function X0(t,n,l,d,w,A){return oo(n),n.updateQueue=null,l=Yd(n,d,l,w),Gd(t),d=sf(),t!==null&&!Ti?(of(t,n,A),Ka(t,n,A)):(ve&&d&&Ut(n),n.flags|=1,Bi(t,n,l,A),n.child)}function j0(t,n,l,d,w){if(oo(n),n.stateNode===null){var A=ja,R=l.contextType;typeof R=="object"&&R!==null&&(A=Vi(R)),A=new l(d,A),n.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=vf,n.stateNode=A,A._reactInternals=n,A=n.stateNode,A.props=d,A.state=n.memoizedState,A.refs={},Kc(n),R=l.contextType,A.context=typeof R=="object"&&R!==null?Vi(R):ja,A.state=n.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(wf(n,l,R,d),A.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(R=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),R!==A.state&&vf.enqueueReplaceState(A,A.state,null),wl(n,d,A,w),yl(),A.state=n.memoizedState),typeof A.componentDidMount=="function"&&(n.flags|=4194308),d=!0}else if(t===null){A=n.stateNode;var F=n.memoizedProps,Q=co(l,F);A.props=Q;var wt=A.context,Rt=l.contextType;R=ja,typeof Rt=="object"&&Rt!==null&&(R=Vi(Rt));var zt=l.getDerivedStateFromProps;Rt=typeof zt=="function"||typeof A.getSnapshotBeforeUpdate=="function",F=n.pendingProps!==F,Rt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F||wt!==R)&&R0(n,A,d,R),vs=!1;var St=n.memoizedState;A.state=St,wl(n,d,A,w),yl(),wt=n.memoizedState,F||St!==wt||vs?(typeof zt=="function"&&(wf(n,l,zt,d),wt=n.memoizedState),(Q=vs||D0(n,l,Q,d,St,wt,R))?(Rt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(n.flags|=4194308)):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=wt),A.props=d,A.state=wt,A.context=R,d=Q):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{A=n.stateNode,Jc(t,n),R=n.memoizedProps,Rt=co(l,R),A.props=Rt,zt=n.pendingProps,St=A.context,wt=l.contextType,Q=ja,typeof wt=="object"&&wt!==null&&(Q=Vi(wt)),F=l.getDerivedStateFromProps,(wt=typeof F=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==zt||St!==Q)&&R0(n,A,d,Q),vs=!1,St=n.memoizedState,A.state=St,wl(n,d,A,w),yl();var Ct=n.memoizedState;R!==zt||St!==Ct||vs||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof F=="function"&&(wf(n,l,F,d),Ct=n.memoizedState),(Rt=vs||D0(n,l,Rt,d,St,Ct,Q)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(wt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,Ct,Q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,Ct,Q)),typeof A.componentDidUpdate=="function"&&(n.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof A.componentDidUpdate!="function"||R===t.memoizedProps&&St===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&St===t.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=Ct),A.props=d,A.state=Ct,A.context=Q,d=Rt):(typeof A.componentDidUpdate!="function"||R===t.memoizedProps&&St===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&St===t.memoizedState||(n.flags|=1024),d=!1)}return A=d,Fu(t,n),d=(n.flags&128)!==0,A||d?(A=n.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:A.render(),n.flags|=1,t!==null&&d?(n.child=Po(n,t.child,null,w),n.child=Po(n,null,l,w)):Bi(t,n,l,w),n.memoizedState=A.state,t=n.child):t=Ka(t,n,w),t}function q0(t,n,l,d){return ys(),n.flags|=256,Bi(t,n,l,d),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(t){return{baseLanes:t,cachePool:Bd()}}function Cf(t,n,l){return t=t!==null?t.childLanes&~l:0,n&&(t|=Wr),t}function W0(t,n,l){var d=n.pendingProps,w=!1,A=(n.flags&128)!==0,R;if((R=A)||(R=t!==null&&t.memoizedState===null?!1:(mi.current&2)!==0),R&&(w=!0,n.flags&=-129),R=(n.flags&32)!==0,n.flags&=-33,t===null){if(ve){if(w?bs(n):Cs(),ve){var F=ae,Q;if(Q=F){t:{for(Q=F,F=Hn;Q.nodeType!==8;){if(!F){F=null;break t}if(Q=ua(Q.nextSibling),Q===null){F=null;break t}}F=Q}F!==null?(n.memoizedState={dehydrated:F,treeContext:O!==null?{id:k,overflow:W}:null,retryLane:536870912,hydrationErrors:null},Q=tr(18,null,null,0),Q.stateNode=F,Q.return=n,n.child=Q,ne=n,ae=null,Q=!0):Q=!1}Q||cr(n)}if(F=n.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return uh(F)?n.lanes=32:n.lanes=536870912,null;Qa(n)}return F=d.children,d=d.fallback,w?(Cs(),w=n.mode,F=Hu({mode:"hidden",children:F},w),d=Oa(d,w,l,null),F.return=n,d.return=n,F.sibling=d,n.child=F,w=n.child,w.memoizedState=bf(l),w.childLanes=Cf(t,R,l),n.memoizedState=Sf,d):(bs(n),Tf(n,F))}if(Q=t.memoizedState,Q!==null&&(F=Q.dehydrated,F!==null)){if(A)n.flags&256?(bs(n),n.flags&=-257,n=Mf(t,n,l)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),w=d.fallback,F=n.mode,d=Hu({mode:"visible",children:d.children},F),w=Oa(w,F,l,null),w.flags|=2,d.return=n,w.return=n,d.sibling=w,n.child=d,Po(n,t.child,null,l),d=n.child,d.memoizedState=bf(l),d.childLanes=Cf(t,R,l),n.memoizedState=Sf,n=w);else if(bs(n),uh(F)){if(R=F.nextSibling&&F.nextSibling.dataset,R)var wt=R.dgst;R=wt,d=Error(m(419)),d.stack="",d.digest=R,ws({value:d,source:null,stack:null}),n=Mf(t,n,l)}else if(Ti||so(t,n,l,!1),R=(l&t.childLanes)!==0,Ti||R){if(R=Tn,R!==null&&(d=l&-l,d=(d&42)!==0?1:Jr(d),d=(d&(R.suspendedLanes|l))!==0?0:d,d!==0&&d!==Q.retryLane))throw Q.retryLane=d,xs(t,d),Ir(R,t,d),F0;F.data==="$?"||Xf(),n=Mf(t,n,l)}else F.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=Q.treeContext,ae=ua(F.nextSibling),ne=n,ve=!0,Cn=null,Hn=!1,t!==null&&(y[C++]=k,y[C++]=W,y[C++]=O,k=t.id,W=t.overflow,O=n),n=Tf(n,d.children),n.flags|=4096);return n}return w?(Cs(),w=d.fallback,F=n.mode,Q=t.child,wt=Q.sibling,d=Xr(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,wt!==null?w=Xr(wt,w):(w=Oa(w,F,l,null),w.flags|=2),w.return=n,d.return=n,d.sibling=w,n.child=d,d=w,w=n.child,F=t.child.memoizedState,F===null?F=bf(l):(Q=F.cachePool,Q!==null?(wt=gi._currentValue,Q=Q.parent!==wt?{parent:wt,pool:wt}:Q):Q=Bd(),F={baseLanes:F.baseLanes|l,cachePool:Q}),w.memoizedState=F,w.childLanes=Cf(t,R,l),n.memoizedState=Sf,d):(bs(n),l=t.child,t=l.sibling,l=Xr(l,{mode:"visible",children:d.children}),l.return=n,l.sibling=null,t!==null&&(R=n.deletions,R===null?(n.deletions=[t],n.flags|=16):R.push(t)),n.child=l,n.memoizedState=null,l)}function Tf(t,n){return n=Hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hu(t,n){return t=tr(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mf(t,n,l){return Po(n,t.child,null,l),t=Tf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Q0(t,n,l){t.lanes|=n;var d=t.alternate;d!==null&&(d.lanes|=n),ao(t.return,n,l)}function Nf(t,n,l,d,w){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:w}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=l,A.tailMode=w)}function K0(t,n,l){var d=n.pendingProps,w=d.revealOrder,A=d.tail;if(Bi(t,n,d.children,l),d=mi.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q0(t,l,n);else if(t.tag===19)Q0(t,l,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}switch(vt(mi,d),w){case"forwards":for(l=n.child,w=null;l!==null;)t=l.alternate,t!==null&&zu(t)===null&&(w=l),l=l.sibling;l=w,l===null?(w=n.child,n.child=null):(w=l.sibling,l.sibling=null),Nf(n,!1,w,l,A);break;case"backwards":for(l=null,w=n.child,n.child=null;w!==null;){if(t=w.alternate,t!==null&&zu(t)===null){n.child=w;break}t=w.sibling,w.sibling=l,l=w,w=t}Nf(n,!0,l,null,A);break;case"together":Nf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ka(t,n,l){if(t!==null&&(n.dependencies=t.dependencies),Os|=n.lanes,(l&n.childLanes)===0)if(t!==null){if(so(t,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(m(153));if(n.child!==null){for(t=n.child,l=Xr(t,t.pendingProps),n.child=l,l.return=n;t.sibling!==null;)t=t.sibling,l=l.sibling=Xr(t,t.pendingProps),l.return=n;l.sibling=null}return n.child}function If(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function O2(t,n,l){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),Da(n,gi,t.memoizedState.cache),ys();break;case 27:case 5:Re(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:Da(n,n.type,n.memoizedProps.value);break;case 13:var d=n.memoizedState;if(d!==null)return d.dehydrated!==null?(bs(n),n.flags|=128,null):(l&n.child.childLanes)!==0?W0(t,n,l):(bs(n),t=Ka(t,n,l),t!==null?t.sibling:null);bs(n);break;case 19:var w=(t.flags&128)!==0;if(d=(l&n.childLanes)!==0,d||(so(t,n,l,!1),d=(l&n.childLanes)!==0),w){if(d)return K0(t,n,l);n.flags|=128}if(w=n.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),vt(mi,mi.current),d)break;return null;case 22:case 23:return n.lanes=0,G0(t,n,l);case 24:Da(n,gi,t.memoizedState.cache)}return Ka(t,n,l)}function J0(t,n,l){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ti=!0;else{if(!If(t,l)&&(n.flags&128)===0)return Ti=!1,O2(t,n,l);Ti=(t.flags&131072)!==0}else Ti=!1,ve&&(n.flags&1048576)!==0&&It(n,h,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var d=n.elementType,w=d._init;if(d=w(d._payload),n.type=d,typeof d=="function")Co(d)?(t=co(d,t),n.tag=1,n=j0(null,n,d,t,l)):(n.tag=0,n=Af(null,n,d,t,l));else{if(d!=null){if(w=d.$$typeof,w===nt){n.tag=11,n=H0(null,n,d,t,l);break t}else if(w===ft){n.tag=14,n=Z0(null,n,d,t,l);break t}}throw n=X(d)||d,Error(m(306,n,""))}}return n;case 0:return Af(t,n,n.type,n.pendingProps,l);case 1:return d=n.type,w=co(d,n.pendingProps),j0(t,n,d,w,l);case 3:t:{if(qt(n,n.stateNode.containerInfo),t===null)throw Error(m(387));d=n.pendingProps;var A=n.memoizedState;w=A.element,Jc(t,n),wl(n,d,null,l);var R=n.memoizedState;if(d=R.cache,Da(n,gi,d),d!==A.cache&&Mo(n,[gi],l,!0),yl(),d=R.element,A.isDehydrated)if(A={element:d,isDehydrated:!1,cache:R.cache},n.updateQueue.baseState=A,n.memoizedState=A,n.flags&256){n=q0(t,n,d,l);break t}else if(d!==w){w=Ji(Error(m(424)),n),ws(w),n=q0(t,n,d,l);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=ua(t.firstChild),ne=n,ve=!0,Cn=null,Hn=!0,l=I0(n,null,d,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ys(),d===w){n=Ka(t,n,l);break t}Bi(t,n,d,l)}n=n.child}return n;case 26:return Fu(t,n),t===null?(l=ng(n.type,null,n.pendingProps,null))?n.memoizedState=l:ve||(l=n.type,t=n.pendingProps,d=ec(_t.current).createElement(l),d[Vn]=n,d[bn]=t,zi(d,l,t),Qe(d),n.stateNode=d):n.memoizedState=ng(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Re(n),t===null&&ve&&(d=n.stateNode=$1(n.type,n.pendingProps,_t.current),ne=n,Hn=!0,w=ae,Bs(n.type)?(ch=w,ae=ua(d.firstChild)):ae=w),Bi(t,n,n.pendingProps.children,l),Fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ve&&((w=d=ae)&&(d=ax(d,n.type,n.pendingProps,Hn),d!==null?(n.stateNode=d,ne=n,ae=ua(d.firstChild),Hn=!1,w=!0):w=!1),w||cr(n)),Re(n),w=n.type,A=n.pendingProps,R=t!==null?t.memoizedProps:null,d=A.children,sh(w,A)?d=null:R!==null&&sh(w,R)&&(n.flags|=32),n.memoizedState!==null&&(w=af(t,n,A2,null,null,l),Zl._currentValue=w),Fu(t,n),Bi(t,n,d,l),n.child;case 6:return t===null&&ve&&((t=l=ae)&&(l=sx(l,n.pendingProps,Hn),l!==null?(n.stateNode=l,ne=n,ae=null,t=!0):t=!1),t||cr(n)),null;case 13:return W0(t,n,l);case 4:return qt(n,n.stateNode.containerInfo),d=n.pendingProps,t===null?n.child=Po(n,null,d,l):Bi(t,n,d,l),n.child;case 11:return H0(t,n,n.type,n.pendingProps,l);case 7:return Bi(t,n,n.pendingProps,l),n.child;case 8:return Bi(t,n,n.pendingProps.children,l),n.child;case 12:return Bi(t,n,n.pendingProps.children,l),n.child;case 10:return d=n.pendingProps,Da(n,n.type,d.value),Bi(t,n,d.children,l),n.child;case 9:return w=n.type._context,d=n.pendingProps.children,oo(n),w=Vi(w),d=d(w),n.flags|=1,Bi(t,n,d,l),n.child;case 14:return Z0(t,n,n.type,n.pendingProps,l);case 15:return V0(t,n,n.type,n.pendingProps,l);case 19:return K0(t,n,l);case 31:return d=n.pendingProps,l=n.mode,d={mode:d.mode,children:d.children},t===null?(l=Hu(d,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=Xr(t.child,d),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return G0(t,n,l);case 24:return oo(n),d=Vi(gi),t===null?(w=Wc(),w===null&&(w=Tn,A=jc(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=l),w=A),n.memoizedState={parent:d,cache:w},Kc(n),Da(n,gi,w)):((t.lanes&l)!==0&&(Jc(t,n),wl(n,null,null,l),yl()),w=t.memoizedState,A=n.memoizedState,w.parent!==d?(w={parent:d,cache:d},n.memoizedState=w,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=w),Da(n,gi,d)):(d=A.cache,Da(n,gi,d),d!==w.cache&&Mo(n,[gi],l,!0))),Bi(t,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(m(156,n.tag))}function Ja(t){t.flags|=4}function $0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!og(n)){if(n=qr.current,n!==null&&((We&4194048)===We?Ra!==null:(We&62914560)!==We&&(We&536870912)===0||n!==Ra))throw xl=Qc,Pd;t.flags|=8192}}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ir():536870912,t.lanes|=n,Fo|=n)}function Tl(t,n){if(!ve)switch(t.tailMode){case"hidden":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function Zn(t){var n=t.alternate!==null&&t.alternate.child===t.child,l=0,d=0;if(n)for(var w=t.child;w!==null;)l|=w.lanes|w.childLanes,d|=w.subtreeFlags&65011712,d|=w.flags&65011712,w.return=t,w=w.sibling;else for(w=t.child;w!==null;)l|=w.lanes|w.childLanes,d|=w.subtreeFlags,d|=w.flags,w.return=t,w=w.sibling;return t.subtreeFlags|=d,t.childLanes=l,n}function D2(t,n,l){var d=n.pendingProps;switch(Jt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(n),null;case 1:return Zn(n),null;case 3:return l=n.stateNode,d=null,t!==null&&(d=t.memoizedState.cache),n.memoizedState.cache!==d&&(n.flags|=2048),oa(gi),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ro(n)?Ja(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wu())),Zn(n),null;case 26:return l=n.memoizedState,t===null?(Ja(n),l!==null?(Zn(n),$0(n,l)):(Zn(n),n.flags&=-16777217)):l?l!==t.memoizedState?(Ja(n),Zn(n),$0(n,l)):(Zn(n),n.flags&=-16777217):(t.memoizedProps!==d&&Ja(n),Zn(n),n.flags&=-16777217),null;case 27:Ye(n),l=_t.current;var w=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==d&&Ja(n);else{if(!d){if(n.stateNode===null)throw Error(m(166));return Zn(n),null}t=At.current,ro(n)?_u(n):(t=$1(w,d,l),n.stateNode=t,Ja(n))}return Zn(n),null;case 5:if(Ye(n),l=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==d&&Ja(n);else{if(!d){if(n.stateNode===null)throw Error(m(166));return Zn(n),null}if(t=At.current,ro(n))_u(n);else{switch(w=ec(_t.current),t){case 1:t=w.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=w.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=w.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=w.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?t.multiple=!0:d.size&&(t.size=d.size);break;default:t=typeof d.is=="string"?w.createElement(l,{is:d.is}):w.createElement(l)}}t[Vn]=n,t[bn]=d;t:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)t.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break t;for(;w.sibling===null;){if(w.return===null||w.return===n)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=t;t:switch(zi(t,l,d),l){case"button":case"input":case"select":case"textarea":t=!!d.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ja(n)}}return Zn(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==d&&Ja(n);else{if(typeof d!="string"&&n.stateNode===null)throw Error(m(166));if(t=_t.current,ro(n)){if(t=n.stateNode,l=n.memoizedProps,d=null,w=ne,w!==null)switch(w.tag){case 27:case 5:d=w.memoizedProps}t[Vn]=n,t=!!(t.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||X1(t.nodeValue,l)),t||cr(n)}else t=ec(t).createTextNode(d),t[Vn]=n,n.stateNode=t}return Zn(n),null;case 13:if(d=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(w=ro(n),d!==null&&d.dehydrated!==null){if(t===null){if(!w)throw Error(m(318));if(w=n.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(m(317));w[Vn]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Zn(n),w=!1}else w=wu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=w),w=!0;if(!w)return n.flags&256?(Qa(n),n):(Qa(n),null)}if(Qa(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=d!==null,t=t!==null&&t.memoizedState!==null,l){d=n.child,w=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(w=d.alternate.memoizedState.cachePool.pool);var A=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(A=d.memoizedState.cachePool.pool),A!==w&&(d.flags|=2048)}return l!==t&&l&&(n.child.flags|=8192),Zu(n,n.updateQueue),Zn(n),null;case 4:return Oe(),t===null&&eh(n.stateNode.containerInfo),Zn(n),null;case 10:return oa(n.type),Zn(n),null;case 19:if(ht(mi),w=n.memoizedState,w===null)return Zn(n),null;if(d=(n.flags&128)!==0,A=w.rendering,A===null)if(d)Tl(w,!1);else{if(jn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(A=zu(t),A!==null){for(n.flags|=128,Tl(w,!1),t=A.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=l,l=n.child;l!==null;)hl(l,t),l=l.sibling;return vt(mi,mi.current&1|2),n.child}t=t.sibling}w.tail!==null&&oe()>Yu&&(n.flags|=128,d=!0,Tl(w,!1),n.lanes=4194304)}else{if(!d)if(t=zu(A),t!==null){if(n.flags|=128,d=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),Tl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!ve)return Zn(n),null}else 2*oe()-w.renderingStartTime>Yu&&l!==536870912&&(n.flags|=128,d=!0,Tl(w,!1),n.lanes=4194304);w.isBackwards?(A.sibling=n.child,n.child=A):(t=w.last,t!==null?t.sibling=A:n.child=A,w.last=A)}return w.tail!==null?(n=w.tail,w.rendering=n,w.tail=n.sibling,w.renderingStartTime=oe(),n.sibling=null,t=mi.current,vt(mi,d?t&1|2:t&1),n):(Zn(n),null);case 22:case 23:return Qa(n),nf(),d=n.memoizedState!==null,t!==null?t.memoizedState!==null!==d&&(n.flags|=8192):d&&(n.flags|=8192),d?(l&536870912)!==0&&(n.flags&128)===0&&(Zn(n),n.subtreeFlags&6&&(n.flags|=8192)):Zn(n),l=n.updateQueue,l!==null&&Zu(n,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),d=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==l&&(n.flags|=2048),t!==null&&ht(lo),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),oa(gi),Zn(n),null;case 25:return null;case 30:return null}throw Error(m(156,n.tag))}function R2(t,n){switch(Jt(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return oa(gi),Oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ye(n),null;case 13:if(Qa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(m(340));ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ht(mi),null;case 4:return Oe(),null;case 10:return oa(n.type),null;case 22:case 23:return Qa(n),nf(),t!==null&&ht(lo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return oa(gi),null;case 25:return null;default:return null}}function t1(t,n){switch(Jt(n),n.tag){case 3:oa(gi),Oe();break;case 26:case 27:case 5:Ye(n);break;case 4:Oe();break;case 13:Qa(n);break;case 19:ht(mi);break;case 10:oa(n.type);break;case 22:case 23:Qa(n),nf(),t!==null&&ht(lo);break;case 24:oa(gi)}}function Ml(t,n){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var w=d.next;l=w;do{if((l.tag&t)===t){d=void 0;var A=l.create,R=l.inst;d=A(),R.destroy=d}l=l.next}while(l!==w)}}catch(F){An(n,n.return,F)}}function Ts(t,n,l){try{var d=n.updateQueue,w=d!==null?d.lastEffect:null;if(w!==null){var A=w.next;d=A;do{if((d.tag&t)===t){var R=d.inst,F=R.destroy;if(F!==void 0){R.destroy=void 0,w=n;var Q=l,wt=F;try{wt()}catch(Rt){An(w,Q,Rt)}}}d=d.next}while(d!==A)}}catch(Rt){An(n,n.return,Rt)}}function e1(t){var n=t.updateQueue;if(n!==null){var l=t.stateNode;try{Zd(n,l)}catch(d){An(t,t.return,d)}}}function n1(t,n,l){l.props=co(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(d){An(t,n,d)}}function Nl(t,n){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var d=t.stateNode;break;case 30:d=t.stateNode;break;default:d=t.stateNode}typeof l=="function"?t.refCleanup=l(d):l.current=d}}catch(w){An(t,n,w)}}function La(t,n){var l=t.ref,d=t.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(w){An(t,n,w)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(w){An(t,n,w)}else l.current=null}function i1(t){var n=t.type,l=t.memoizedProps,d=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break t;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(w){An(t,t.return,w)}}function Of(t,n,l){try{var d=t.stateNode;tx(d,t.type,l,n),d[bn]=n}catch(w){An(t,t.return,w)}}function r1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bs(t.type)||t.tag===4}function Df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||r1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,n,l){var d=t.tag;if(d===5||d===6)t=t.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(t),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=tc));else if(d!==4&&(d===27&&Bs(t.type)&&(l=t.stateNode,n=null),t=t.child,t!==null))for(Rf(t,n,l),t=t.sibling;t!==null;)Rf(t,n,l),t=t.sibling}function Vu(t,n,l){var d=t.tag;if(d===5||d===6)t=t.stateNode,n?l.insertBefore(t,n):l.appendChild(t);else if(d!==4&&(d===27&&Bs(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Vu(t,n,l),t=t.sibling;t!==null;)Vu(t,n,l),t=t.sibling}function a1(t){var n=t.stateNode,l=t.memoizedProps;try{for(var d=t.type,w=n.attributes;w.length;)n.removeAttributeNode(w[0]);zi(n,d,l),n[Vn]=t,n[bn]=l}catch(A){An(t,t.return,A)}}var $a=!1,ai=!1,Lf=!1,s1=typeof WeakSet=="function"?WeakSet:Set,Mi=null;function L2(t,n){if(t=t.containerInfo,rh=oc,t=b(t),I(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var w=d.anchorOffset,A=d.focusNode;d=d.focusOffset;try{l.nodeType,A.nodeType}catch{l=null;break t}var R=0,F=-1,Q=-1,wt=0,Rt=0,zt=t,St=null;e:for(;;){for(var Ct;zt!==l||w!==0&&zt.nodeType!==3||(F=R+w),zt!==A||d!==0&&zt.nodeType!==3||(Q=R+d),zt.nodeType===3&&(R+=zt.nodeValue.length),(Ct=zt.firstChild)!==null;)St=zt,zt=Ct;for(;;){if(zt===t)break e;if(St===l&&++wt===w&&(F=R),St===A&&++Rt===d&&(Q=R),(Ct=zt.nextSibling)!==null)break;zt=St,St=zt.parentNode}zt=Ct}l=F===-1||Q===-1?null:{start:F,end:Q}}else l=null}l=l||{start:0,end:0}}else l=null;for(ah={focusedElem:t,selectionRange:l},oc=!1,Mi=n;Mi!==null;)if(n=Mi,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Mi=t;else for(;Mi!==null;){switch(n=Mi,A=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,l=n,w=A.memoizedProps,A=A.memoizedState,d=l.stateNode;try{var _e=co(l.type,w,l.elementType===l.type);t=d.getSnapshotBeforeUpdate(_e,A),d.__reactInternalSnapshotBeforeUpdate=t}catch(ge){An(l,l.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,l=t.nodeType,l===9)lh(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(m(163))}if(t=n.sibling,t!==null){t.return=n.return,Mi=t;break}Mi=n.return}}function o1(t,n,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ms(t,l),d&4&&Ml(5,l);break;case 1:if(Ms(t,l),d&4)if(t=l.stateNode,n===null)try{t.componentDidMount()}catch(R){An(l,l.return,R)}else{var w=co(l.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(w,n,t.__reactInternalSnapshotBeforeUpdate)}catch(R){An(l,l.return,R)}}d&64&&e1(l),d&512&&Nl(l,l.return);break;case 3:if(Ms(t,l),d&64&&(t=l.updateQueue,t!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Zd(t,n)}catch(R){An(l,l.return,R)}}break;case 27:n===null&&d&4&&a1(l);case 26:case 5:Ms(t,l),n===null&&d&4&&i1(l),d&512&&Nl(l,l.return);break;case 12:Ms(t,l);break;case 13:Ms(t,l),d&4&&c1(t,l),d&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=V2.bind(null,l),ox(t,l))));break;case 22:if(d=l.memoizedState!==null||$a,!d){n=n!==null&&n.memoizedState!==null||ai,w=$a;var A=ai;$a=d,(ai=n)&&!A?Ns(t,l,(l.subtreeFlags&8772)!==0):Ms(t,l),$a=w,ai=A}break;case 30:break;default:Ms(t,l)}}function l1(t){var n=t.alternate;n!==null&&(t.alternate=null,l1(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pn=null,hr=!1;function ts(t,n,l){for(l=l.child;l!==null;)u1(t,n,l),l=l.sibling}function u1(t,n,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(an,l)}catch{}switch(l.tag){case 26:ai||La(l,n),ts(t,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ai||La(l,n);var d=Pn,w=hr;Bs(l.type)&&(Pn=l.stateNode,hr=!1),ts(t,n,l),kl(l.stateNode),Pn=d,hr=w;break;case 5:ai||La(l,n);case 6:if(d=Pn,w=hr,Pn=null,ts(t,n,l),Pn=d,hr=w,Pn!==null)if(hr)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(l.stateNode)}catch(A){An(l,n,A)}else try{Pn.removeChild(l.stateNode)}catch(A){An(l,n,A)}break;case 18:Pn!==null&&(hr?(t=Pn,K1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Xl(t)):K1(Pn,l.stateNode));break;case 4:d=Pn,w=hr,Pn=l.stateNode.containerInfo,hr=!0,ts(t,n,l),Pn=d,hr=w;break;case 0:case 11:case 14:case 15:ai||Ts(2,l,n),ai||Ts(4,l,n),ts(t,n,l);break;case 1:ai||(La(l,n),d=l.stateNode,typeof d.componentWillUnmount=="function"&&n1(l,n,d)),ts(t,n,l);break;case 21:ts(t,n,l);break;case 22:ai=(d=ai)||l.memoizedState!==null,ts(t,n,l),ai=d;break;default:ts(t,n,l)}}function c1(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(l){An(n,n.return,l)}}function B2(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new s1),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new s1),n;default:throw Error(m(435,t.tag))}}function Bf(t,n){var l=B2(t);n.forEach(function(d){var w=G2.bind(null,t,d);l.has(d)||(l.add(d),d.then(w,w))})}function Cr(t,n){var l=n.deletions;if(l!==null)for(var d=0;d<l.length;d++){var w=l[d],A=t,R=n,F=R;t:for(;F!==null;){switch(F.tag){case 27:if(Bs(F.type)){Pn=F.stateNode,hr=!1;break t}break;case 5:Pn=F.stateNode,hr=!1;break t;case 3:case 4:Pn=F.stateNode.containerInfo,hr=!0;break t}F=F.return}if(Pn===null)throw Error(m(160));u1(A,R,w),Pn=null,hr=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)f1(n,t),n=n.sibling}var la=null;function f1(t,n){var l=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cr(n,t),Tr(t),d&4&&(Ts(3,t,t.return),Ml(3,t),Ts(5,t,t.return));break;case 1:Cr(n,t),Tr(t),d&512&&(ai||l===null||La(l,l.return)),d&64&&$a&&(t=t.updateQueue,t!==null&&(d=t.callbacks,d!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var w=la;if(Cr(n,t),Tr(t),d&512&&(ai||l===null||La(l,l.return)),d&4){var A=l!==null?l.memoizedState:null;if(d=t.memoizedState,l===null)if(d===null)if(t.stateNode===null){t:{d=t.type,l=t.memoizedProps,w=w.ownerDocument||w;e:switch(d){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Oi]||A[Vn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(d),w.head.insertBefore(A,w.querySelector("head > title"))),zi(A,d,l),A[Vn]=t,Qe(A),d=A;break t;case"link":var R=ag("link","href",w).get(d+(l.href||""));if(R){for(var F=0;F<R.length;F++)if(A=R[F],A.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&A.getAttribute("rel")===(l.rel==null?null:l.rel)&&A.getAttribute("title")===(l.title==null?null:l.title)&&A.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(F,1);break e}}A=w.createElement(d),zi(A,d,l),w.head.appendChild(A);break;case"meta":if(R=ag("meta","content",w).get(d+(l.content||""))){for(F=0;F<R.length;F++)if(A=R[F],A.getAttribute("content")===(l.content==null?null:""+l.content)&&A.getAttribute("name")===(l.name==null?null:l.name)&&A.getAttribute("property")===(l.property==null?null:l.property)&&A.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&A.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(F,1);break e}}A=w.createElement(d),zi(A,d,l),w.head.appendChild(A);break;default:throw Error(m(468,d))}A[Vn]=t,Qe(A),d=A}t.stateNode=d}else sg(w,t.type,t.stateNode);else t.stateNode=rg(w,d,t.memoizedProps);else A!==d?(A===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):A.count--,d===null?sg(w,t.type,t.stateNode):rg(w,d,t.memoizedProps)):d===null&&t.stateNode!==null&&Of(t,t.memoizedProps,l.memoizedProps)}break;case 27:Cr(n,t),Tr(t),d&512&&(ai||l===null||La(l,l.return)),l!==null&&d&4&&Of(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Cr(n,t),Tr(t),d&512&&(ai||l===null||La(l,l.return)),t.flags&32){w=t.stateNode;try{Nn(w,"")}catch(Ct){An(t,t.return,Ct)}}d&4&&t.stateNode!=null&&(w=t.memoizedProps,Of(t,w,l!==null?l.memoizedProps:w)),d&1024&&(Lf=!0);break;case 6:if(Cr(n,t),Tr(t),d&4){if(t.stateNode===null)throw Error(m(162));d=t.memoizedProps,l=t.stateNode;try{l.nodeValue=d}catch(Ct){An(t,t.return,Ct)}}break;case 3:if(rc=null,w=la,la=nc(n.containerInfo),Cr(n,t),la=w,Tr(t),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(Ct){An(t,t.return,Ct)}Lf&&(Lf=!1,h1(t));break;case 4:d=la,la=nc(t.stateNode.containerInfo),Cr(n,t),Tr(t),la=d;break;case 12:Cr(n,t),Tr(t);break;case 13:Cr(n,t),Tr(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hf=oe()),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,Bf(t,d)));break;case 22:w=t.memoizedState!==null;var Q=l!==null&&l.memoizedState!==null,wt=$a,Rt=ai;if($a=wt||w,ai=Rt||Q,Cr(n,t),ai=Rt,$a=wt,Tr(t),d&8192)t:for(n=t.stateNode,n._visibility=w?n._visibility&-2:n._visibility|1,w&&(l===null||Q||$a||ai||fo(t)),l=null,n=t;;){if(n.tag===5||n.tag===26){if(l===null){Q=l=n;try{if(A=Q.stateNode,w)R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{F=Q.stateNode;var zt=Q.memoizedProps.style,St=zt!=null&&zt.hasOwnProperty("display")?zt.display:null;F.style.display=St==null||typeof St=="boolean"?"":(""+St).trim()}}catch(Ct){An(Q,Q.return,Ct)}}}else if(n.tag===6){if(l===null){Q=n;try{Q.stateNode.nodeValue=w?"":Q.memoizedProps}catch(Ct){An(Q,Q.return,Ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}d&4&&(d=t.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Bf(t,l))));break;case 19:Cr(n,t),Tr(t),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,Bf(t,d)));break;case 30:break;case 21:break;default:Cr(n,t),Tr(t)}}function Tr(t){var n=t.flags;if(n&2){try{for(var l,d=t.return;d!==null;){if(r1(d)){l=d;break}d=d.return}if(l==null)throw Error(m(160));switch(l.tag){case 27:var w=l.stateNode,A=Df(t);Vu(t,A,w);break;case 5:var R=l.stateNode;l.flags&32&&(Nn(R,""),l.flags&=-33);var F=Df(t);Vu(t,F,R);break;case 3:case 4:var Q=l.stateNode.containerInfo,wt=Df(t);Rf(t,wt,Q);break;default:throw Error(m(161))}}catch(Rt){An(t,t.return,Rt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function h1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;h1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)o1(t,n.alternate,n),n=n.sibling}function fo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ts(4,n,n.return),fo(n);break;case 1:La(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&n1(n,n.return,l),fo(n);break;case 27:kl(n.stateNode);case 26:case 5:La(n,n.return),fo(n);break;case 22:n.memoizedState===null&&fo(n);break;case 30:fo(n);break;default:fo(n)}t=t.sibling}}function Ns(t,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var d=n.alternate,w=t,A=n,R=A.flags;switch(A.tag){case 0:case 11:case 15:Ns(w,A,l),Ml(4,A);break;case 1:if(Ns(w,A,l),d=A,w=d.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(wt){An(d,d.return,wt)}if(d=A,w=d.updateQueue,w!==null){var F=d.stateNode;try{var Q=w.shared.hiddenCallbacks;if(Q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Q.length;w++)Hd(Q[w],F)}catch(wt){An(d,d.return,wt)}}l&&R&64&&e1(A),Nl(A,A.return);break;case 27:a1(A);case 26:case 5:Ns(w,A,l),l&&d===null&&R&4&&i1(A),Nl(A,A.return);break;case 12:Ns(w,A,l);break;case 13:Ns(w,A,l),l&&R&4&&c1(w,A);break;case 22:A.memoizedState===null&&Ns(w,A,l),Nl(A,A.return);break;case 30:break;default:Ns(w,A,l)}n=n.sibling}}function Pf(t,n){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&gl(l))}function zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function Ba(t,n,l,d){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)d1(t,n,l,d),n=n.sibling}function d1(t,n,l,d){var w=n.flags;switch(n.tag){case 0:case 11:case 15:Ba(t,n,l,d),w&2048&&Ml(9,n);break;case 1:Ba(t,n,l,d);break;case 3:Ba(t,n,l,d),w&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(w&2048){Ba(t,n,l,d),t=n.stateNode;try{var A=n.memoizedProps,R=A.id,F=A.onPostCommit;typeof F=="function"&&F(R,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){An(n,n.return,Q)}}else Ba(t,n,l,d);break;case 13:Ba(t,n,l,d);break;case 23:break;case 22:A=n.stateNode,R=n.alternate,n.memoizedState!==null?A._visibility&2?Ba(t,n,l,d):Il(t,n):A._visibility&2?Ba(t,n,l,d):(A._visibility|=2,zo(t,n,l,d,(n.subtreeFlags&10256)!==0)),w&2048&&Pf(R,n);break;case 24:Ba(t,n,l,d),w&2048&&zf(n.alternate,n);break;default:Ba(t,n,l,d)}}function zo(t,n,l,d,w){for(w=w&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var A=t,R=n,F=l,Q=d,wt=R.flags;switch(R.tag){case 0:case 11:case 15:zo(A,R,F,Q,w),Ml(8,R);break;case 23:break;case 22:var Rt=R.stateNode;R.memoizedState!==null?Rt._visibility&2?zo(A,R,F,Q,w):Il(A,R):(Rt._visibility|=2,zo(A,R,F,Q,w)),w&&wt&2048&&Pf(R.alternate,R);break;case 24:zo(A,R,F,Q,w),w&&wt&2048&&zf(R.alternate,R);break;default:zo(A,R,F,Q,w)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=t,d=n,w=d.flags;switch(d.tag){case 22:Il(l,d),w&2048&&Pf(d.alternate,d);break;case 24:Il(l,d),w&2048&&zf(d.alternate,d);break;default:Il(l,d)}n=n.sibling}}var Ol=8192;function ko(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)g1(t),t=t.sibling}function g1(t){switch(t.tag){case 26:ko(t),t.flags&Ol&&t.memoizedState!==null&&wx(la,t.memoizedState,t.memoizedProps);break;case 5:ko(t);break;case 3:case 4:var n=la;la=nc(t.stateNode.containerInfo),ko(t),la=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ol,Ol=16777216,ko(t),Ol=n):ko(t));break;default:ko(t)}}function m1(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var d=n[l];Mi=d,x1(d,t)}m1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p1(t),t=t.sibling}function p1(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Ts(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Gu(t)):Dl(t);break;default:Dl(t)}}function Gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var d=n[l];Mi=d,x1(d,t)}m1(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ts(8,n,n.return),Gu(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Gu(n));break;default:Gu(n)}t=t.sibling}}function x1(t,n){for(;Mi!==null;){var l=Mi;switch(l.tag){case 0:case 11:case 15:Ts(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:gl(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Mi=d;else t:for(l=t;Mi!==null;){d=Mi;var w=d.sibling,A=d.return;if(l1(d),d===l){Mi=null;break t}if(w!==null){w.return=A,Mi=w;break t}Mi=A}}}var P2={getCacheForType:function(t){var n=Vi(gi),l=n.data.get(t);return l===void 0&&(l=t(),n.data.set(t,l)),l}},z2=typeof WeakMap=="function"?WeakMap:Map,un=0,Tn=null,He=null,We=0,cn=0,Mr=null,Is=!1,Uo=!1,kf=!1,es=0,jn=0,Os=0,ho=0,Uf=0,Wr=0,Fo=0,Rl=null,dr=null,Ff=!1,Hf=0,Yu=1/0,Xu=null,Ds=null,Pi=0,Rs=null,Ho=null,Zo=0,Zf=0,Vf=null,_1=null,Ll=0,Gf=null;function Nr(){if((un&2)!==0&&We!==0)return We&-We;if(G.T!==null){var t=No;return t!==0?t:Kf()}return pr()}function y1(){Wr===0&&(Wr=(We&536870912)===0||ve?zr():536870912);var t=qr.current;return t!==null&&(t.flags|=32),Wr}function Ir(t,n,l){(t===Tn&&(cn===2||cn===9)||t.cancelPendingCommit!==null)&&(Vo(t,0),Ls(t,We,Wr,!1)),li(t,l),((un&2)===0||t!==Tn)&&(t===Tn&&((un&2)===0&&(ho|=l),jn===4&&Ls(t,We,Wr,!1)),Pa(t))}function w1(t,n,l){if((un&6)!==0)throw Error(m(327));var d=!l&&(n&124)===0&&(n&t.expiredLanes)===0||Ae(t,n),w=d?F2(t,n):jf(t,n,!0),A=d;do{if(w===0){Uo&&!d&&Ls(t,n,0,!1);break}else{if(l=t.current.alternate,A&&!k2(l)){w=jf(t,n,!1),A=!1;continue}if(w===2){if(A=n,t.errorRecoveryDisabledLanes&A)var R=0;else R=t.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){n=R;t:{var F=t;w=Rl;var Q=F.current.memoizedState.isDehydrated;if(Q&&(Vo(F,R).flags|=256),R=jf(F,R,!1),R!==2){if(kf&&!Q){F.errorRecoveryDisabledLanes|=A,ho|=A,w=4;break t}A=dr,dr=w,A!==null&&(dr===null?dr=A:dr.push.apply(dr,A))}w=R}if(A=!1,w!==2)continue}}if(w===1){Vo(t,0),Ls(t,n,0,!0);break}t:{switch(d=t,A=w,A){case 0:case 1:throw Error(m(345));case 4:if((n&4194048)!==n)break;case 6:Ls(d,n,Wr,!Is);break t;case 2:dr=null;break;case 3:case 5:break;default:throw Error(m(329))}if((n&62914560)===n&&(w=Hf+300-oe(),10<w)){if(Ls(d,n,Wr,!Is),be(d,0,!0)!==0)break t;d.timeoutHandle=W1(v1.bind(null,d,l,dr,Xu,Ff,n,Wr,ho,Fo,Is,A,2,-0,0),w);break t}v1(d,l,dr,Xu,Ff,n,Wr,ho,Fo,Is,A,0,-0,0)}}break}while(!0);Pa(t)}function v1(t,n,l,d,w,A,R,F,Q,wt,Rt,zt,St,Ct){if(t.timeoutHandle=-1,zt=n.subtreeFlags,(zt&8192||(zt&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:yx},g1(n),zt=vx(),zt!==null)){t.cancelPendingCommit=zt(M1.bind(null,t,n,A,l,d,w,R,F,Q,Rt,1,St,Ct)),Ls(t,A,R,!wt);return}M1(t,n,A,l,d,w,R,F,Q)}function k2(t){for(var n=t;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var w=l[d],A=w.getSnapshot;w=w.value;try{if(!c(A(),w))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(t,n,l,d){n&=~Uf,n&=~ho,t.suspendedLanes|=n,t.pingedLanes&=~n,d&&(t.warmLanes|=n),d=t.expirationTimes;for(var w=n;0<w;){var A=31-Be(w),R=1<<A;d[A]=-1,w&=~R}l!==0&&Ha(t,l,n)}function ju(){return(un&6)===0?(Bl(0),!1):!0}function Yf(){if(He!==null){if(cn===0)var t=He.return;else t=He,sa=jr=null,lf(t),Bo=null,bl=0,t=He;for(;t!==null;)t1(t.alternate,t),t=t.return;He=null}}function Vo(t,n){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,nx(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Yf(),Tn=t,He=l=Xr(t.current,null),We=n,cn=0,Mr=null,Is=!1,Uo=Ae(t,n),kf=!1,Fo=Wr=Uf=ho=Os=jn=0,dr=Rl=null,Ff=!1,(n&8)!==0&&(n|=n&32);var d=t.entangledLanes;if(d!==0)for(t=t.entanglements,d&=n;0<d;){var w=31-Be(d),A=1<<w;n|=t[w],d&=~A}return es=n,to(),l}function E1(t,n){Le=null,G.H=Lu,n===pl||n===Su?(n=Ud(),cn=3):n===Pd?(n=Ud(),cn=4):cn=n===F0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mr=n,He===null&&(jn=1,Uu(t,Ji(n,t.current)))}function A1(){var t=G.H;return G.H=Lu,t===null?Lu:t}function S1(){var t=G.A;return G.A=P2,t}function Xf(){jn=4,Is||(We&4194048)!==We&&qr.current!==null||(Uo=!0),(Os&134217727)===0&&(ho&134217727)===0||Tn===null||Ls(Tn,We,Wr,!1)}function jf(t,n,l){var d=un;un|=2;var w=A1(),A=S1();(Tn!==t||We!==n)&&(Xu=null,Vo(t,n)),n=!1;var R=jn;t:do try{if(cn!==0&&He!==null){var F=He,Q=Mr;switch(cn){case 8:Yf(),R=6;break t;case 3:case 2:case 9:case 6:qr.current===null&&(n=!0);var wt=cn;if(cn=0,Mr=null,Go(t,F,Q,wt),l&&Uo){R=0;break t}break;default:wt=cn,cn=0,Mr=null,Go(t,F,Q,wt)}}U2(),R=jn;break}catch(Rt){E1(t,Rt)}while(!0);return n&&t.shellSuspendCounter++,sa=jr=null,un=d,G.H=w,G.A=A,He===null&&(Tn=null,We=0,to()),R}function U2(){for(;He!==null;)b1(He)}function F2(t,n){var l=un;un|=2;var d=A1(),w=S1();Tn!==t||We!==n?(Xu=null,Yu=oe()+500,Vo(t,n)):Uo=Ae(t,n);t:do try{if(cn!==0&&He!==null){n=He;var A=Mr;e:switch(cn){case 1:cn=0,Mr=null,Go(t,n,A,1);break;case 2:case 9:if(zd(A)){cn=0,Mr=null,C1(n);break}n=function(){cn!==2&&cn!==9||Tn!==t||(cn=7),Pa(t)},A.then(n,n);break t;case 3:cn=7;break t;case 4:cn=5;break t;case 7:zd(A)?(cn=0,Mr=null,C1(n)):(cn=0,Mr=null,Go(t,n,A,7));break;case 5:var R=null;switch(He.tag){case 26:R=He.memoizedState;case 5:case 27:var F=He;if(!R||og(R)){cn=0,Mr=null;var Q=F.sibling;if(Q!==null)He=Q;else{var wt=F.return;wt!==null?(He=wt,qu(wt)):He=null}break e}}cn=0,Mr=null,Go(t,n,A,5);break;case 6:cn=0,Mr=null,Go(t,n,A,6);break;case 8:Yf(),jn=6;break t;default:throw Error(m(462))}}H2();break}catch(Rt){E1(t,Rt)}while(!0);return sa=jr=null,G.H=d,G.A=w,un=l,He!==null?0:(Tn=null,We=0,to(),jn)}function H2(){for(;He!==null&&!Xe();)b1(He)}function b1(t){var n=J0(t.alternate,t,es);t.memoizedProps=t.pendingProps,n===null?qu(t):He=n}function C1(t){var n=t,l=n.alternate;switch(n.tag){case 15:case 0:n=X0(l,n,n.pendingProps,n.type,void 0,We);break;case 11:n=X0(l,n,n.pendingProps,n.type.render,n.ref,We);break;case 5:lf(n);default:t1(l,n),n=He=hl(n,es),n=J0(l,n,es)}t.memoizedProps=t.pendingProps,n===null?qu(t):He=n}function Go(t,n,l,d){sa=jr=null,lf(n),Bo=null,bl=0;var w=n.return;try{if(I2(t,w,n,l,We)){jn=1,Uu(t,Ji(l,t.current)),He=null;return}}catch(A){if(w!==null)throw He=w,A;jn=1,Uu(t,Ji(l,t.current)),He=null;return}n.flags&32768?(ve||d===1?t=!0:Uo||(We&536870912)!==0?t=!1:(Is=t=!0,(d===2||d===9||d===3||d===6)&&(d=qr.current,d!==null&&d.tag===13&&(d.flags|=16384))),T1(n,t)):qu(n)}function qu(t){var n=t;do{if((n.flags&32768)!==0){T1(n,Is);return}t=n.return;var l=D2(n.alternate,n,es);if(l!==null){He=l;return}if(n=n.sibling,n!==null){He=n;return}He=n=t}while(n!==null);jn===0&&(jn=5)}function T1(t,n){do{var l=R2(t.alternate,t);if(l!==null){l.flags&=32767,He=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(t=t.sibling,t!==null)){He=t;return}He=t=l}while(t!==null);jn=6,He=null}function M1(t,n,l,d,w,A,R,F,Q){t.cancelPendingCommit=null;do Wu();while(Pi!==0);if((un&6)!==0)throw Error(m(327));if(n!==null){if(n===t.current)throw Error(m(177));if(A=n.lanes|n.childLanes,A|=br,rr(t,l,A,R,F,Q),t===Tn&&(He=Tn=null,We=0),Ho=n,Rs=t,Zo=l,Zf=A,Vf=w,_1=d,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y2(Qt,function(){return R1(),null})):(t.callbackNode=null,t.callbackPriority=0),d=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||d){d=G.T,G.T=null,w=J.p,J.p=2,R=un,un|=4;try{L2(t,n,l)}finally{un=R,J.p=w,G.T=d}}Pi=1,N1(),I1(),O1()}}function N1(){if(Pi===1){Pi=0;var t=Rs,n=Ho,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var d=J.p;J.p=2;var w=un;un|=4;try{f1(n,t);var A=ah,R=b(t.containerInfo),F=A.focusedElem,Q=A.selectionRange;if(R!==F&&F&&F.ownerDocument&&v(F.ownerDocument.documentElement,F)){if(Q!==null&&I(F)){var wt=Q.start,Rt=Q.end;if(Rt===void 0&&(Rt=wt),"selectionStart"in F)F.selectionStart=wt,F.selectionEnd=Math.min(Rt,F.value.length);else{var zt=F.ownerDocument||document,St=zt&&zt.defaultView||window;if(St.getSelection){var Ct=St.getSelection(),_e=F.textContent.length,ge=Math.min(Q.start,_e),pn=Q.end===void 0?ge:Math.min(Q.end,_e);!Ct.extend&&ge>pn&&(R=pn,pn=ge,ge=R);var dt=x(F,ge),ot=x(F,pn);if(dt&&ot&&(Ct.rangeCount!==1||Ct.anchorNode!==dt.node||Ct.anchorOffset!==dt.offset||Ct.focusNode!==ot.node||Ct.focusOffset!==ot.offset)){var yt=zt.createRange();yt.setStart(dt.node,dt.offset),Ct.removeAllRanges(),ge>pn?(Ct.addRange(yt),Ct.extend(ot.node,ot.offset)):(yt.setEnd(ot.node,ot.offset),Ct.addRange(yt))}}}}for(zt=[],Ct=F;Ct=Ct.parentNode;)Ct.nodeType===1&&zt.push({element:Ct,left:Ct.scrollLeft,top:Ct.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<zt.length;F++){var Bt=zt[F];Bt.element.scrollLeft=Bt.left,Bt.element.scrollTop=Bt.top}}oc=!!rh,ah=rh=null}finally{un=w,J.p=d,G.T=l}}t.current=n,Pi=2}}function I1(){if(Pi===2){Pi=0;var t=Rs,n=Ho,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var d=J.p;J.p=2;var w=un;un|=4;try{o1(t,n.alternate,n)}finally{un=w,J.p=d,G.T=l}}Pi=3}}function O1(){if(Pi===4||Pi===3){Pi=0,Kn();var t=Rs,n=Ho,l=Zo,d=_1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pi=5:(Pi=0,Ho=Rs=null,D1(t,t.pendingLanes));var w=t.pendingLanes;if(w===0&&(Ds=null),Dn(l),n=n.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(an,n,void 0,(n.current.flags&128)===128)}catch{}if(d!==null){n=G.T,w=J.p,J.p=2,G.T=null;try{for(var A=t.onRecoverableError,R=0;R<d.length;R++){var F=d[R];A(F.value,{componentStack:F.stack})}}finally{G.T=n,J.p=w}}(Zo&3)!==0&&Wu(),Pa(t),w=t.pendingLanes,(l&4194090)!==0&&(w&42)!==0?t===Gf?Ll++:(Ll=0,Gf=t):Ll=0,Bl(0)}}function D1(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Wu(t){return N1(),I1(),O1(),R1()}function R1(){if(Pi!==5)return!1;var t=Rs,n=Zf;Zf=0;var l=Dn(Zo),d=G.T,w=J.p;try{J.p=32>l?32:l,G.T=null,l=Vf,Vf=null;var A=Rs,R=Zo;if(Pi=0,Ho=Rs=null,Zo=0,(un&6)!==0)throw Error(m(331));var F=un;if(un|=4,p1(A.current),d1(A,A.current,R,l),un=F,Bl(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(an,A)}catch{}return!0}finally{J.p=w,G.T=d,D1(t,n)}}function L1(t,n,l){n=Ji(l,n),n=Ef(t.stateNode,n,2),t=As(t,n,2),t!==null&&(li(t,2),Pa(t))}function An(t,n,l){if(t.tag===3)L1(t,t,l);else for(;n!==null;){if(n.tag===3){L1(n,t,l);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))){t=Ji(l,t),l=k0(2),d=As(n,l,2),d!==null&&(U0(l,d,n,t),li(d,2),Pa(d));break}}n=n.return}}function qf(t,n,l){var d=t.pingCache;if(d===null){d=t.pingCache=new z2;var w=new Set;d.set(n,w)}else w=d.get(n),w===void 0&&(w=new Set,d.set(n,w));w.has(l)||(kf=!0,w.add(l),t=Z2.bind(null,t,n,l),n.then(t,t))}function Z2(t,n,l){var d=t.pingCache;d!==null&&d.delete(n),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Tn===t&&(We&l)===l&&(jn===4||jn===3&&(We&62914560)===We&&300>oe()-Hf?(un&2)===0&&Vo(t,0):Uf|=l,Fo===We&&(Fo=0)),Pa(t)}function B1(t,n){n===0&&(n=ir()),t=xs(t,n),t!==null&&(li(t,n),Pa(t))}function V2(t){var n=t.memoizedState,l=0;n!==null&&(l=n.retryLane),B1(t,l)}function G2(t,n){var l=0;switch(t.tag){case 13:var d=t.stateNode,w=t.memoizedState;w!==null&&(l=w.retryLane);break;case 19:d=t.stateNode;break;case 22:d=t.stateNode._retryCache;break;default:throw Error(m(314))}d!==null&&d.delete(n),B1(t,l)}function Y2(t,n){return de(t,n)}var Qu=null,Yo=null,Wf=!1,Ku=!1,Qf=!1,go=0;function Pa(t){t!==Yo&&t.next===null&&(Yo===null?Qu=Yo=t:Yo=Yo.next=t),Ku=!0,Wf||(Wf=!0,j2())}function Bl(t,n){if(!Qf&&Ku){Qf=!0;do for(var l=!1,d=Qu;d!==null;){if(t!==0){var w=d.pendingLanes;if(w===0)var A=0;else{var R=d.suspendedLanes,F=d.pingedLanes;A=(1<<31-Be(42|t)+1)-1,A&=w&~(R&~F),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(l=!0,U1(d,A))}else A=We,A=be(d,d===Tn?A:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(A&3)===0||Ae(d,A)||(l=!0,U1(d,A));d=d.next}while(l);Qf=!1}}function X2(){P1()}function P1(){Ku=Wf=!1;var t=0;go!==0&&(ex()&&(t=go),go=0);for(var n=oe(),l=null,d=Qu;d!==null;){var w=d.next,A=z1(d,n);A===0?(d.next=null,l===null?Qu=w:l.next=w,w===null&&(Yo=l)):(l=d,(t!==0||(A&3)!==0)&&(Ku=!0)),d=w}Bl(t)}function z1(t,n){for(var l=t.suspendedLanes,d=t.pingedLanes,w=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var R=31-Be(A),F=1<<R,Q=w[R];Q===-1?((F&l)===0||(F&d)!==0)&&(w[R]=Xi(F,n)):Q<=n&&(t.expiredLanes|=F),A&=~F}if(n=Tn,l=We,l=be(t,t===n?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),d=t.callbackNode,l===0||t===n&&(cn===2||cn===9)||t.cancelPendingCommit!==null)return d!==null&&d!==null&&Mn(d),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Ae(t,l)){if(n=l&-l,n===t.callbackPriority)return n;switch(d!==null&&Mn(d),Dn(l)){case 2:case 8:l=pi;break;case 32:l=Qt;break;case 268435456:l=Yi;break;default:l=Qt}return d=k1.bind(null,t),l=de(l,d),t.callbackPriority=n,t.callbackNode=l,n}return d!==null&&d!==null&&Mn(d),t.callbackPriority=2,t.callbackNode=null,2}function k1(t,n){if(Pi!==0&&Pi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Wu()&&t.callbackNode!==l)return null;var d=We;return d=be(t,t===Tn?d:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),d===0?null:(w1(t,d,n),z1(t,oe()),t.callbackNode!=null&&t.callbackNode===l?k1.bind(null,t):null)}function U1(t,n){if(Wu())return null;w1(t,n,!0)}function j2(){ix(function(){(un&6)!==0?de(fe,X2):P1()})}function Kf(){return go===0&&(go=zr()),go}function F1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function H1(t,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,t.id&&l.setAttribute("form",t.id),n.parentNode.insertBefore(l,n),t=new FormData(t),l.parentNode.removeChild(l),t}function q2(t,n,l,d,w){if(n==="submit"&&l&&l.stateNode===w){var A=F1((w[bn]||null).action),R=d.submitter;R&&(n=(n=R[bn]||null)?F1(n.formAction):R.getAttribute("formAction"),n!==null&&(A=n,R=null));var F=new yr("action","action",null,d,w);t.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(go!==0){var Q=R?H1(w,R):new FormData(w);xf(l,{pending:!0,data:Q,method:w.method,action:A},null,Q)}}else typeof A=="function"&&(F.preventDefault(),Q=R?H1(w,R):new FormData(w),xf(l,{pending:!0,data:Q,method:w.method,action:A},A,Q))},currentTarget:w}]})}}for(var Jf=0;Jf<Zi.length;Jf++){var $f=Zi[Jf],W2=$f.toLowerCase(),Q2=$f[0].toUpperCase()+$f.slice(1);Ki(W2,"on"+Q2)}Ki(we,"onAnimationEnd"),Ki(dn,"onAnimationIteration"),Ki(hi,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(bi,"onTransitionRun"),Ki(qe,"onTransitionStart"),Ki(ii,"onTransitionCancel"),Ki(di,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Z1(t,n){n=(n&4)!==0;for(var l=0;l<t.length;l++){var d=t[l],w=d.event;d=d.listeners;t:{var A=void 0;if(n)for(var R=d.length-1;0<=R;R--){var F=d[R],Q=F.instance,wt=F.currentTarget;if(F=F.listener,Q!==A&&w.isPropagationStopped())break t;A=F,w.currentTarget=wt;try{A(w)}catch(Rt){ku(Rt)}w.currentTarget=null,A=Q}else for(R=0;R<d.length;R++){if(F=d[R],Q=F.instance,wt=F.currentTarget,F=F.listener,Q!==A&&w.isPropagationStopped())break t;A=F,w.currentTarget=wt;try{A(w)}catch(Rt){ku(Rt)}w.currentTarget=null,A=Q}}}}function Ze(t,n){var l=n[$e];l===void 0&&(l=n[$e]=new Set);var d=t+"__bubble";l.has(d)||(V1(n,t,2,!1),l.add(d))}function th(t,n,l){var d=0;n&&(d|=4),V1(l,t,d,n)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function eh(t){if(!t[Ju]){t[Ju]=!0,ls.forEach(function(l){l!=="selectionchange"&&(K2.has(l)||th(l,!1,t),th(l,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ju]||(n[Ju]=!0,th("selectionchange",!1,n))}}function V1(t,n,l,d){switch(dg(n)){case 2:var w=Sx;break;case 8:w=bx;break;default:w=mh}l=w.bind(null,n,l,t),w=void 0,!xe||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(w=!0),d?w!==void 0?t.addEventListener(n,l,{capture:!0,passive:w}):t.addEventListener(n,l,!0):w!==void 0?t.addEventListener(n,l,{passive:w}):t.addEventListener(n,l,!1)}function nh(t,n,l,d,w){var A=d;if((n&1)===0&&(n&2)===0&&d!==null)t:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var F=d.stateNode.containerInfo;if(F===w)break;if(R===4)for(R=d.return;R!==null;){var Q=R.tag;if((Q===3||Q===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;F!==null;){if(R=hn(F),R===null)return;if(Q=R.tag,Q===5||Q===6||Q===26||Q===27){d=A=R;continue t}F=F.parentNode}}d=d.return}Yn(function(){var wt=A,Rt=xr(l),zt=[];t:{var St=ra.get(t);if(St!==void 0){var Ct=yr,_e=t;switch(t){case"keypress":if(Ln(l)===0)break t;case"keydown":case"keyup":Ct=Ks;break;case"focusin":_e="focus",Ct=va;break;case"focusout":_e="blur",Ct=va;break;case"beforeblur":case"afterblur":Ct=va;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=Ke;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=en;break;case we:case dn:case hi:Ct=ul;break;case di:Ct=cl;break;case"scroll":case"scrollend":Ct=wi;break;case"wheel":Ct=Yr;break;case"copy":case"cut":case"paste":Ct=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Aa;break;case"toggle":case"beforetoggle":Ct=ia}var ge=(n&4)!==0,pn=!ge&&(t==="scroll"||t==="scrollend"),dt=ge?St!==null?St+"Capture":null:St;ge=[];for(var ot=wt,yt;ot!==null;){var Bt=ot;if(yt=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||yt===null||dt===null||(Bt=jt(ot,dt),Bt!=null&&ge.push(zl(ot,Bt,yt))),pn)break;ot=ot.return}0<ge.length&&(St=new Ct(St,_e,null,l,Rt),zt.push({event:St,listeners:ge}))}}if((n&7)===0){t:{if(St=t==="mouseover"||t==="pointerover",Ct=t==="mouseout"||t==="pointerout",St&&l!==$r&&(_e=l.relatedTarget||l.fromElement)&&(hn(_e)||_e[ar]))break t;if((Ct||St)&&(St=Rt.window===Rt?Rt:(St=Rt.ownerDocument)?St.defaultView||St.parentWindow:window,Ct?(_e=l.relatedTarget||l.toElement,Ct=wt,_e=_e?hn(_e):null,_e!==null&&(pn=_(_e),ge=_e.tag,_e!==pn||ge!==5&&ge!==27&&ge!==6)&&(_e=null)):(Ct=null,_e=wt),Ct!==_e)){if(ge=wa,Bt="onMouseLeave",dt="onMouseEnter",ot="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Aa,Bt="onPointerLeave",dt="onPointerEnter",ot="pointer"),pn=Ct==null?St:ci(Ct),yt=_e==null?St:ci(_e),St=new ge(Bt,ot+"leave",Ct,l,Rt),St.target=pn,St.relatedTarget=yt,Bt=null,hn(Rt)===wt&&(ge=new ge(dt,ot+"enter",_e,l,Rt),ge.target=yt,ge.relatedTarget=pn,Bt=ge),pn=Bt,Ct&&_e)e:{for(ge=Ct,dt=_e,ot=0,yt=ge;yt;yt=Xo(yt))ot++;for(yt=0,Bt=dt;Bt;Bt=Xo(Bt))yt++;for(;0<ot-yt;)ge=Xo(ge),ot--;for(;0<yt-ot;)dt=Xo(dt),yt--;for(;ot--;){if(ge===dt||dt!==null&&ge===dt.alternate)break e;ge=Xo(ge),dt=Xo(dt)}ge=null}else ge=null;Ct!==null&&G1(zt,St,Ct,ge,!1),_e!==null&&pn!==null&&G1(zt,pn,_e,ge,!0)}}t:{if(St=wt?ci(wt):window,Ct=St.nodeName&&St.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&St.type==="file")var ie=Ma;else if(ur(St))if(ms)ie=i;else{ie=B;var Ue=Na}else Ct=St.nodeName,!Ct||Ct.toLowerCase()!=="input"||St.type!=="checkbox"&&St.type!=="radio"?wt&&re(wt.elementType)&&(ie=Ma):ie=e;if(ie&&(ie=ie(t,wt))){Li(zt,ie,l,Rt);break t}Ue&&Ue(t,St,wt),t==="focusout"&&wt&&St.type==="number"&&wt.memoizedProps.value!=null&&mt(St,"number",St.value)}switch(Ue=wt?ci(wt):window,t){case"focusin":(ur(Ue)||Ue.contentEditable==="true")&&(z=Ue,Y=wt,K=null);break;case"focusout":K=Y=z=null;break;case"mousedown":it=!0;break;case"contextmenu":case"mouseup":case"dragend":it=!1,pt(zt,l,Rt);break;case"selectionchange":if(P)break;case"keydown":case"keyup":pt(zt,l,Rt)}var ue;if(Er)t:{switch(t){case"compositionstart":var me="onCompositionStart";break t;case"compositionend":me="onCompositionEnd";break t;case"compositionupdate":me="onCompositionUpdate";break t}me=void 0}else Sa?Ar(t,l)&&(me="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(me="onCompositionStart");me&&(hs&&l.locale!=="ko"&&(Sa||me!=="onCompositionStart"?me==="onCompositionEnd"&&Sa&&(ue=Hi()):(or=Rt,qi="value"in or?or.value:or.textContent,Sa=!0)),Ue=$u(wt,me),0<Ue.length&&(me=new Ei(me,t,null,l,Rt),zt.push({event:me,listeners:Ue}),ue?me.data=ue:(ue=gs(l),ue!==null&&(me.data=ue)))),(ue=fs?ba(t,l):fl(t,l))&&(me=$u(wt,"onBeforeInput"),0<me.length&&(Ue=new Ei("onBeforeInput","beforeinput",null,l,Rt),zt.push({event:Ue,listeners:me}),Ue.data=ue)),q2(zt,t,wt,l,Rt)}Z1(zt,n)})}function zl(t,n,l){return{instance:t,listener:n,currentTarget:l}}function $u(t,n){for(var l=n+"Capture",d=[];t!==null;){var w=t,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=jt(t,l),w!=null&&d.unshift(zl(t,w,A)),w=jt(t,n),w!=null&&d.push(zl(t,w,A))),t.tag===3)return d;t=t.return}return[]}function Xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G1(t,n,l,d,w){for(var A=n._reactName,R=[];l!==null&&l!==d;){var F=l,Q=F.alternate,wt=F.stateNode;if(F=F.tag,Q!==null&&Q===d)break;F!==5&&F!==26&&F!==27||wt===null||(Q=wt,w?(wt=jt(l,A),wt!=null&&R.unshift(zl(l,wt,Q))):w||(wt=jt(l,A),wt!=null&&R.push(zl(l,wt,Q)))),l=l.return}R.length!==0&&t.push({event:n,listeners:R})}var J2=/\r\n?/g,$2=/\u0000|\uFFFD/g;function Y1(t){return(typeof t=="string"?t:""+t).replace(J2,`
`).replace($2,"")}function X1(t,n){return n=Y1(n),Y1(t)===n}function tc(){}function mn(t,n,l,d,w,A){switch(l){case"children":typeof d=="string"?n==="body"||n==="textarea"&&d===""||Nn(t,d):(typeof d=="number"||typeof d=="bigint")&&n!=="body"&&Nn(t,""+d);break;case"className":ma(t,"class",d);break;case"tabIndex":ma(t,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(t,l,d);break;case"style":ti(t,d,A);break;case"data":if(n!=="object"){ma(t,"data",d);break}case"src":case"href":if(d===""&&(n!=="a"||l!=="href")){t.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){t.removeAttribute(l);break}d=_a(""+d),t.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(l==="formAction"?(n!=="input"&&mn(t,n,"name",w.name,w,null),mn(t,n,"formEncType",w.formEncType,w,null),mn(t,n,"formMethod",w.formMethod,w,null),mn(t,n,"formTarget",w.formTarget,w,null)):(mn(t,n,"encType",w.encType,w,null),mn(t,n,"method",w.method,w,null),mn(t,n,"target",w.target,w,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){t.removeAttribute(l);break}d=_a(""+d),t.setAttribute(l,d);break;case"onClick":d!=null&&(t.onclick=tc);break;case"onScroll":d!=null&&Ze("scroll",t);break;case"onScrollEnd":d!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(m(61));if(l=d.__html,l!=null){if(w.children!=null)throw Error(m(60));t.innerHTML=l}}break;case"multiple":t.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":t.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){t.removeAttribute("xlink:href");break}l=_a(""+d),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(l,""+d):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":d===!0?t.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(l,d):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?t.setAttribute(l,d):t.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?t.removeAttribute(l):t.setAttribute(l,d);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),Pt(t,"popover",d);break;case"xlinkActuate":Ge(t,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ge(t,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ge(t,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ge(t,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ge(t,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ge(t,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ge(t,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ge(t,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ge(t,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Pt(t,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ln.get(l)||l,Pt(t,l,d))}}function ih(t,n,l,d,w,A){switch(l){case"style":ti(t,d,A);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(m(61));if(l=d.__html,l!=null){if(w.children!=null)throw Error(m(60));t.innerHTML=l}}break;case"children":typeof d=="string"?Nn(t,d):(typeof d=="number"||typeof d=="bigint")&&Nn(t,""+d);break;case"onScroll":d!=null&&Ze("scroll",t);break;case"onScrollEnd":d!=null&&Ze("scrollend",t);break;case"onClick":d!=null&&(t.onclick=tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!us.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(w=l.endsWith("Capture"),n=l.slice(2,w?l.length-7:void 0),A=t[bn]||null,A=A!=null?A[l]:null,typeof A=="function"&&t.removeEventListener(n,A,w),typeof d=="function")){typeof A!="function"&&A!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(n,d,w);break t}l in t?t[l]=d:d===!0?t.setAttribute(l,""):Pt(t,l,d)}}}function zi(t,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var d=!1,w=!1,A;for(A in l)if(l.hasOwnProperty(A)){var R=l[A];if(R!=null)switch(A){case"src":d=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,n));default:mn(t,n,A,R,l,null)}}w&&mn(t,n,"srcSet",l.srcSet,l,null),d&&mn(t,n,"src",l.src,l,null);return;case"input":Ze("invalid",t);var F=A=R=w=null,Q=null,wt=null;for(d in l)if(l.hasOwnProperty(d)){var Rt=l[d];if(Rt!=null)switch(d){case"name":w=Rt;break;case"type":R=Rt;break;case"checked":Q=Rt;break;case"defaultChecked":wt=Rt;break;case"value":A=Rt;break;case"defaultValue":F=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(m(137,n));break;default:mn(t,n,d,Rt,l,null)}}$n(t,A,F,Q,wt,R,w,!1),pa(t);return;case"select":Ze("invalid",t),d=R=A=null;for(w in l)if(l.hasOwnProperty(w)&&(F=l[w],F!=null))switch(w){case"value":A=F;break;case"defaultValue":R=F;break;case"multiple":d=F;default:mn(t,n,w,F,l,null)}n=A,l=R,t.multiple=!!d,n!=null?Z(t,!!d,n,!1):l!=null&&Z(t,!!d,l,!0);return;case"textarea":Ze("invalid",t),A=w=d=null;for(R in l)if(l.hasOwnProperty(R)&&(F=l[R],F!=null))switch(R){case"value":d=F;break;case"defaultValue":w=F;break;case"children":A=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(m(91));break;default:mn(t,n,R,F,l,null)}on(t,d,w,A),pa(t);return;case"option":for(Q in l)if(l.hasOwnProperty(Q)&&(d=l[Q],d!=null))switch(Q){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:mn(t,n,Q,d,l,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(d=0;d<Pl.length;d++)Ze(Pl[d],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wt in l)if(l.hasOwnProperty(wt)&&(d=l[wt],d!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,n));default:mn(t,n,wt,d,l,null)}return;default:if(re(n)){for(Rt in l)l.hasOwnProperty(Rt)&&(d=l[Rt],d!==void 0&&ih(t,n,Rt,d,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(d=l[F],d!=null&&mn(t,n,F,d,l,null))}function tx(t,n,l,d){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,R=null,F=null,Q=null,wt=null,Rt=null;for(Ct in l){var zt=l[Ct];if(l.hasOwnProperty(Ct)&&zt!=null)switch(Ct){case"checked":break;case"value":break;case"defaultValue":Q=zt;default:d.hasOwnProperty(Ct)||mn(t,n,Ct,null,d,zt)}}for(var St in d){var Ct=d[St];if(zt=l[St],d.hasOwnProperty(St)&&(Ct!=null||zt!=null))switch(St){case"type":A=Ct;break;case"name":w=Ct;break;case"checked":wt=Ct;break;case"defaultChecked":Rt=Ct;break;case"value":R=Ct;break;case"defaultValue":F=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(m(137,n));break;default:Ct!==zt&&mn(t,n,St,Ct,d,zt)}}Ce(t,R,F,Q,wt,Rt,A,w);return;case"select":Ct=R=F=St=null;for(A in l)if(Q=l[A],l.hasOwnProperty(A)&&Q!=null)switch(A){case"value":break;case"multiple":Ct=Q;default:d.hasOwnProperty(A)||mn(t,n,A,null,d,Q)}for(w in d)if(A=d[w],Q=l[w],d.hasOwnProperty(w)&&(A!=null||Q!=null))switch(w){case"value":St=A;break;case"defaultValue":F=A;break;case"multiple":R=A;default:A!==Q&&mn(t,n,w,A,d,Q)}n=F,l=R,d=Ct,St!=null?Z(t,!!l,St,!1):!!d!=!!l&&(n!=null?Z(t,!!l,n,!0):Z(t,!!l,l?[]:"",!1));return;case"textarea":Ct=St=null;for(F in l)if(w=l[F],l.hasOwnProperty(F)&&w!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:mn(t,n,F,null,d,w)}for(R in d)if(w=d[R],A=l[R],d.hasOwnProperty(R)&&(w!=null||A!=null))switch(R){case"value":St=w;break;case"defaultValue":Ct=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(m(91));break;default:w!==A&&mn(t,n,R,w,d,A)}Wt(t,St,Ct);return;case"option":for(var _e in l)if(St=l[_e],l.hasOwnProperty(_e)&&St!=null&&!d.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:mn(t,n,_e,null,d,St)}for(Q in d)if(St=d[Q],Ct=l[Q],d.hasOwnProperty(Q)&&St!==Ct&&(St!=null||Ct!=null))switch(Q){case"selected":t.selected=St&&typeof St!="function"&&typeof St!="symbol";break;default:mn(t,n,Q,St,d,Ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in l)St=l[ge],l.hasOwnProperty(ge)&&St!=null&&!d.hasOwnProperty(ge)&&mn(t,n,ge,null,d,St);for(wt in d)if(St=d[wt],Ct=l[wt],d.hasOwnProperty(wt)&&St!==Ct&&(St!=null||Ct!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(m(137,n));break;default:mn(t,n,wt,St,d,Ct)}return;default:if(re(n)){for(var pn in l)St=l[pn],l.hasOwnProperty(pn)&&St!==void 0&&!d.hasOwnProperty(pn)&&ih(t,n,pn,void 0,d,St);for(Rt in d)St=d[Rt],Ct=l[Rt],!d.hasOwnProperty(Rt)||St===Ct||St===void 0&&Ct===void 0||ih(t,n,Rt,St,d,Ct);return}}for(var dt in l)St=l[dt],l.hasOwnProperty(dt)&&St!=null&&!d.hasOwnProperty(dt)&&mn(t,n,dt,null,d,St);for(zt in d)St=d[zt],Ct=l[zt],!d.hasOwnProperty(zt)||St===Ct||St==null&&Ct==null||mn(t,n,zt,St,d,Ct)}var rh=null,ah=null;function ec(t){return t.nodeType===9?t:t.ownerDocument}function j1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q1(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var oh=null;function ex(){var t=window.event;return t&&t.type==="popstate"?t===oh?!1:(oh=t,!0):(oh=null,!1)}var W1=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(t){return Q1.resolve(null).then(t).catch(rx)}:W1;function rx(t){setTimeout(function(){throw t})}function Bs(t){return t==="head"}function K1(t,n){var l=n,d=0,w=0;do{var A=l.nextSibling;if(t.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(0<d&&8>d){l=d;var R=t.ownerDocument;if(l&1&&kl(R.documentElement),l&2&&kl(R.body),l&4)for(l=R.head,kl(l),R=l.firstChild;R;){var F=R.nextSibling,Q=R.nodeName;R[Oi]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=F}}if(w===0){t.removeChild(A),Xl(n);return}w--}else l==="$"||l==="$?"||l==="$!"?w++:d=l.charCodeAt(0)-48;else d=0;l=A}while(l);Xl(n)}function lh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lh(l),Ur(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function ax(t,n,l,d){for(;t.nodeType===1;){var w=l;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!d&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(d){if(!t[Oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==w.rel||t.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||t.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||t.getAttribute("title")!==(w.title==null?null:w.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(w.src==null?null:w.src)||t.getAttribute("type")!==(w.type==null?null:w.type)||t.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=ua(t.nextSibling),t===null)break}return null}function sx(t,n,l){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=ua(t.nextSibling),t===null))return null;return t}function uh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ox(t,n){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")n();else{var d=function(){n(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),t._reactRetry=d}}function ua(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var ch=null;function J1(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return t;n--}else l==="/$"&&n++}t=t.previousSibling}return null}function $1(t,n,l){switch(n=ec(l),t){case"html":if(t=n.documentElement,!t)throw Error(m(452));return t;case"head":if(t=n.head,!t)throw Error(m(453));return t;case"body":if(t=n.body,!t)throw Error(m(454));return t;default:throw Error(m(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ur(t)}var Qr=new Map,tg=new Set;function nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=J.d;J.d={f:lx,r:ux,D:cx,C:fx,L:hx,m:dx,X:mx,S:gx,M:px};function lx(){var t=ns.f(),n=ju();return t||n}function ux(t){var n=_i(t);n!==null&&n.tag===5&&n.type==="form"?w0(n):ns.r(t)}var jo=typeof document>"u"?null:document;function eg(t,n,l){var d=jo;if(d&&typeof n=="string"&&n){var w=Rn(n);w='link[rel="'+t+'"][href="'+w+'"]',typeof l=="string"&&(w+='[crossorigin="'+l+'"]'),tg.has(w)||(tg.add(w),t={rel:t,crossOrigin:l,href:n},d.querySelector(w)===null&&(n=d.createElement("link"),zi(n,"link",t),Qe(n),d.head.appendChild(n)))}}function cx(t){ns.D(t),eg("dns-prefetch",t,null)}function fx(t,n){ns.C(t,n),eg("preconnect",t,n)}function hx(t,n,l){ns.L(t,n,l);var d=jo;if(d&&t&&n){var w='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(w+='[imagesrcset="'+Rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(w+='[imagesizes="'+Rn(l.imageSizes)+'"]')):w+='[href="'+Rn(t)+'"]';var A=w;switch(n){case"style":A=qo(t);break;case"script":A=Wo(t)}Qr.has(A)||(t=N({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:t,as:n},l),Qr.set(A,t),d.querySelector(w)!==null||n==="style"&&d.querySelector(Ul(A))||n==="script"&&d.querySelector(Fl(A))||(n=d.createElement("link"),zi(n,"link",t),Qe(n),d.head.appendChild(n)))}}function dx(t,n){ns.m(t,n);var l=jo;if(l&&t){var d=n&&typeof n.as=="string"?n.as:"script",w='link[rel="modulepreload"][as="'+Rn(d)+'"][href="'+Rn(t)+'"]',A=w;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Wo(t)}if(!Qr.has(A)&&(t=N({rel:"modulepreload",href:t},n),Qr.set(A,t),l.querySelector(w)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fl(A)))return}d=l.createElement("link"),zi(d,"link",t),Qe(d),l.head.appendChild(d)}}}function gx(t,n,l){ns.S(t,n,l);var d=jo;if(d&&t){var w=Fi(d).hoistableStyles,A=qo(t);n=n||"default";var R=w.get(A);if(!R){var F={loading:0,preload:null};if(R=d.querySelector(Ul(A)))F.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":n},l),(l=Qr.get(A))&&fh(t,l);var Q=R=d.createElement("link");Qe(Q),zi(Q,"link",t),Q._p=new Promise(function(wt,Rt){Q.onload=wt,Q.onerror=Rt}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,ic(R,n,d)}R={type:"stylesheet",instance:R,count:1,state:F},w.set(A,R)}}}function mx(t,n){ns.X(t,n);var l=jo;if(l&&t){var d=Fi(l).hoistableScripts,w=Wo(t),A=d.get(w);A||(A=l.querySelector(Fl(w)),A||(t=N({src:t,async:!0},n),(n=Qr.get(w))&&hh(t,n),A=l.createElement("script"),Qe(A),zi(A,"link",t),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},d.set(w,A))}}function px(t,n){ns.M(t,n);var l=jo;if(l&&t){var d=Fi(l).hoistableScripts,w=Wo(t),A=d.get(w);A||(A=l.querySelector(Fl(w)),A||(t=N({src:t,async:!0,type:"module"},n),(n=Qr.get(w))&&hh(t,n),A=l.createElement("script"),Qe(A),zi(A,"link",t),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},d.set(w,A))}}function ng(t,n,l,d){var w=(w=_t.current)?nc(w):null;if(!w)throw Error(m(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=qo(l.href),l=Fi(w).hoistableStyles,d=l.get(n),d||(d={type:"style",instance:null,count:0,state:null},l.set(n,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=qo(l.href);var A=Fi(w).hoistableStyles,R=A.get(t);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,R),(A=w.querySelector(Ul(t)))&&!A._p&&(R.instance=A,R.state.loading=5),Qr.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Qr.set(t,l),A||xx(w,t,l,R.state))),n&&d===null)throw Error(m(528,""));return R}if(n&&d!==null)throw Error(m(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wo(l),l=Fi(w).hoistableScripts,d=l.get(n),d||(d={type:"script",instance:null,count:0,state:null},l.set(n,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,t))}}function qo(t){return'href="'+Rn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function ig(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function xx(t,n,l,d){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?d.loading=1:(n=t.createElement("link"),d.preload=n,n.addEventListener("load",function(){return d.loading|=1}),n.addEventListener("error",function(){return d.loading|=2}),zi(n,"link",l),Qe(n),t.head.appendChild(n))}function Wo(t){return'[src="'+Rn(t)+'"]'}function Fl(t){return"script[async]"+t}function rg(t,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var d=t.querySelector('style[data-href~="'+Rn(l.href)+'"]');if(d)return n.instance=d,Qe(d),d;var w=N({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(t.ownerDocument||t).createElement("style"),Qe(d),zi(d,"style",w),ic(d,l.precedence,t),n.instance=d;case"stylesheet":w=qo(l.href);var A=t.querySelector(Ul(w));if(A)return n.state.loading|=4,n.instance=A,Qe(A),A;d=ig(l),(w=Qr.get(w))&&fh(d,w),A=(t.ownerDocument||t).createElement("link"),Qe(A);var R=A;return R._p=new Promise(function(F,Q){R.onload=F,R.onerror=Q}),zi(A,"link",d),n.state.loading|=4,ic(A,l.precedence,t),n.instance=A;case"script":return A=Wo(l.src),(w=t.querySelector(Fl(A)))?(n.instance=w,Qe(w),w):(d=l,(w=Qr.get(A))&&(d=N({},l),hh(d,w)),t=t.ownerDocument||t,w=t.createElement("script"),Qe(w),zi(w,"link",d),t.head.appendChild(w),n.instance=w);case"void":return null;default:throw Error(m(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(d=n.instance,n.state.loading|=4,ic(d,l.precedence,t));return n.instance}function ic(t,n,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=d.length?d[d.length-1]:null,A=w,R=0;R<d.length;R++){var F=d[R];if(F.dataset.precedence===n)A=F;else if(A!==w)break}A?A.parentNode.insertBefore(t,A.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(t,n.firstChild))}function fh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rc=null;function ag(t,n,l){if(rc===null){var d=new Map,w=rc=new Map;w.set(l,d)}else w=rc,d=w.get(l),d||(d=new Map,w.set(l,d));if(d.has(t))return d;for(d.set(t,null),l=l.getElementsByTagName(t),w=0;w<l.length;w++){var A=l[w];if(!(A[Oi]||A[Vn]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var R=A.getAttribute(n)||"";R=t+R;var F=d.get(R);F?F.push(A):d.set(R,[A])}}return d}function sg(t,n,l){t=t.ownerDocument||t,t.head.insertBefore(l,n==="title"?t.querySelector("head > title"):null)}function _x(t,n,l){if(l===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function og(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hl=null;function yx(){}function wx(t,n,l){if(Hl===null)throw Error(m(475));var d=Hl;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var w=qo(l.href),A=t.querySelector(Ul(w));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(d.count++,d=ac.bind(d),t.then(d,d)),n.state.loading|=4,n.instance=A,Qe(A);return}A=t.ownerDocument||t,l=ig(l),(w=Qr.get(w))&&fh(l,w),A=A.createElement("link"),Qe(A);var R=A;R._p=new Promise(function(F,Q){R.onload=F,R.onerror=Q}),zi(A,"link",l),n.instance=A}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(d.count++,n=ac.bind(d),t.addEventListener("load",n),t.addEventListener("error",n))}}function vx(){if(Hl===null)throw Error(m(475));var t=Hl;return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count?function(n){var l=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(l)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sc=null;function dh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sc=new Map,n.forEach(Ex,t),sc=null,ac.call(t))}function Ex(t,n){if(!(n.state.loading&4)){var l=sc.get(t);if(l)var d=l.get(null);else{l=new Map,sc.set(t,l);for(var w=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var R=w[A];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),d=R)}d&&l.set(null,d)}w=n.instance,R=w.getAttribute("data-precedence"),A=l.get(R)||d,A===d&&l.set(null,w),l.set(R,w),this.count++,d=ac.bind(this),w.addEventListener("load",d),w.addEventListener("error",d),A?A.parentNode.insertBefore(w,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(w,t.firstChild)),n.state.loading|=4}}var Zl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Ax(t,n,l,d,w,A,R,F){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=d,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function lg(t,n,l,d,w,A,R,F,Q,wt,Rt,zt){return t=new Ax(t,n,l,R,F,Q,wt,zt),n=1,A===!0&&(n|=24),A=tr(3,null,null,n),t.current=A,A.stateNode=t,n=jc(),n.refCount++,t.pooledCache=n,n.refCount++,A.memoizedState={element:d,isDehydrated:l,cache:n},Kc(A),t}function ug(t){return t?(t=ja,t):ja}function cg(t,n,l,d,w,A){w=ug(w),d.context===null?d.context=w:d.pendingContext=w,d=Es(n),d.payload={element:l},A=A===void 0?null:A,A!==null&&(d.callback=A),l=As(t,d,n),l!==null&&(Ir(l,t,n),_l(l,t,n))}function fg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<n?l:n}}function gh(t,n){fg(t,n),(t=t.alternate)&&fg(t,n)}function hg(t){if(t.tag===13){var n=xs(t,67108864);n!==null&&Ir(n,t,67108864),gh(t,67108864)}}var oc=!0;function Sx(t,n,l,d){var w=G.T;G.T=null;var A=J.p;try{J.p=2,mh(t,n,l,d)}finally{J.p=A,G.T=w}}function bx(t,n,l,d){var w=G.T;G.T=null;var A=J.p;try{J.p=8,mh(t,n,l,d)}finally{J.p=A,G.T=w}}function mh(t,n,l,d){if(oc){var w=ph(d);if(w===null)nh(t,n,d,lc,l),gg(t,d);else if(Tx(w,t,n,l,d))d.stopPropagation();else if(gg(t,d),n&4&&-1<Cx.indexOf(t)){for(;w!==null;){var A=_i(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var R=Pe(A.pendingLanes);if(R!==0){var F=A;for(F.pendingLanes|=2,F.entangledLanes|=2;R;){var Q=1<<31-Be(R);F.entanglements[1]|=Q,R&=~Q}Pa(A),(un&6)===0&&(Yu=oe()+500,Bl(0))}}break;case 13:F=xs(A,2),F!==null&&Ir(F,A,2),ju(),gh(A,2)}if(A=ph(d),A===null&&nh(t,n,d,lc,l),A===w)break;w=A}w!==null&&d.stopPropagation()}else nh(t,n,d,null,l)}}function ph(t){return t=xr(t),xh(t)}var lc=null;function xh(t){if(lc=null,t=hn(t),t!==null){var n=_(t);if(n===null)t=null;else{var l=n.tag;if(l===13){if(t=E(n),t!==null)return t;t=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return lc=t,null}function dg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case fe:return 2;case pi:return 8;case Qt:case Ui:return 32;case Yi:return 268435456;default:return 32}default:return 32}}var _h=!1,Ps=null,zs=null,ks=null,Vl=new Map,Gl=new Map,Us=[],Cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gg(t,n){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Yl(t,n,l,d,w,A){return t===null||t.nativeEvent!==A?(t={blockedOn:n,domEventName:l,eventSystemFlags:d,nativeEvent:A,targetContainers:[w]},n!==null&&(n=_i(n),n!==null&&hg(n)),t):(t.eventSystemFlags|=d,n=t.targetContainers,w!==null&&n.indexOf(w)===-1&&n.push(w),t)}function Tx(t,n,l,d,w){switch(n){case"focusin":return Ps=Yl(Ps,t,n,l,d,w),!0;case"dragenter":return zs=Yl(zs,t,n,l,d,w),!0;case"mouseover":return ks=Yl(ks,t,n,l,d,w),!0;case"pointerover":var A=w.pointerId;return Vl.set(A,Yl(Vl.get(A)||null,t,n,l,d,w)),!0;case"gotpointercapture":return A=w.pointerId,Gl.set(A,Yl(Gl.get(A)||null,t,n,l,d,w)),!0}return!1}function mg(t){var n=hn(t.target);if(n!==null){var l=_(n);if(l!==null){if(n=l.tag,n===13){if(n=E(l),n!==null){t.blockedOn=n,kr(t.priority,function(){if(l.tag===13){var d=Nr();d=Jr(d);var w=xs(l,d);w!==null&&Ir(w,l,d),gh(l,d)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var l=ph(t.nativeEvent);if(l===null){l=t.nativeEvent;var d=new l.constructor(l.type,l);$r=d,l.target.dispatchEvent(d),$r=null}else return n=_i(l),n!==null&&hg(n),t.blockedOn=l,!1;n.shift()}return!0}function pg(t,n,l){uc(t)&&l.delete(n)}function Mx(){_h=!1,Ps!==null&&uc(Ps)&&(Ps=null),zs!==null&&uc(zs)&&(zs=null),ks!==null&&uc(ks)&&(ks=null),Vl.forEach(pg),Gl.forEach(pg)}function cc(t,n){t.blockedOn===n&&(t.blockedOn=null,_h||(_h=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mx)))}var fc=null;function xg(t){fc!==t&&(fc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){fc===t&&(fc=null);for(var n=0;n<t.length;n+=3){var l=t[n],d=t[n+1],w=t[n+2];if(typeof d!="function"){if(xh(d||l)===null)continue;break}var A=_i(l);A!==null&&(t.splice(n,3),n-=3,xf(A,{pending:!0,data:w,method:l.method,action:d},d,w))}}))}function Xl(t){function n(Q){return cc(Q,t)}Ps!==null&&cc(Ps,t),zs!==null&&cc(zs,t),ks!==null&&cc(ks,t),Vl.forEach(n),Gl.forEach(n);for(var l=0;l<Us.length;l++){var d=Us[l];d.blockedOn===t&&(d.blockedOn=null)}for(;0<Us.length&&(l=Us[0],l.blockedOn===null);)mg(l),l.blockedOn===null&&Us.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var w=l[d],A=l[d+1],R=w[bn]||null;if(typeof A=="function")R||xg(l);else if(R){var F=null;if(A&&A.hasAttribute("formAction")){if(w=A,R=A[bn]||null)F=R.formAction;else if(xh(w)!==null)continue}else F=R.action;typeof F=="function"?l[d+1]=F:(l.splice(d,3),d-=3),xg(l)}}}function yh(t){this._internalRoot=t}hc.prototype.render=yh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(m(409));var l=n.current,d=Nr();cg(l,d,t,n,null,null)},hc.prototype.unmount=yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cg(t.current,2,null,t,null,null),ju(),n[ar]=null}};function hc(t){this._internalRoot=t}hc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pr();t={blockedOn:null,target:t,priority:n};for(var l=0;l<Us.length&&n!==0&&n<Us[l].priority;l++);Us.splice(l,0,t),l===0&&mg(t)}};var _g=o.version;if(_g!=="19.1.0")throw Error(m(527,_g,"19.1.0"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(m(188)):(t=Object.keys(t).join(","),Error(m(268,t)));return t=M(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Nx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{an=dc.inject(Nx),_n=dc}catch{}}return ql.createRoot=function(t,n){if(!p(t))throw Error(m(299));var l=!1,d="",w=L0,A=B0,R=P0,F=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onUncaughtError!==void 0&&(w=n.onUncaughtError),n.onCaughtError!==void 0&&(A=n.onCaughtError),n.onRecoverableError!==void 0&&(R=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(F=n.unstable_transitionCallbacks)),n=lg(t,1,!1,null,null,l,d,w,A,R,F,null),t[ar]=n.current,eh(t),new yh(n)},ql.hydrateRoot=function(t,n,l){if(!p(t))throw Error(m(299));var d=!1,w="",A=L0,R=B0,F=P0,Q=null,wt=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Q=l.unstable_transitionCallbacks),l.formState!==void 0&&(wt=l.formState)),n=lg(t,1,!0,n,l??null,d,w,A,R,F,Q,wt),n.context=ug(null),l=n.current,d=Nr(),d=Jr(d),w=Es(d),w.callback=null,As(l,w,d),l=d,n.current.lanes=l,li(n,l),Pa(n),t[ar]=n.current,eh(t),new hc(n)},ql.version="19.1.0",ql}var Mg;function Ux(){if(Mg)return Eh.exports;Mg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),Eh.exports=kx(),Eh.exports}var Fx=Ux();function Hx(a){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];a&&a.addEventListener&&a.addEventListener.apply(a,o)}function Zx(a){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];a&&a.removeEventListener&&a.removeEventListener.apply(a,o)}var Ch=typeof window<"u",Vx=function(a){xt.useEffect(a,[])},Gx=function(a){var o=xt.useRef(a);o.current=a,Vx(function(){return function(){return o.current()}})},Yx=function(a){var o=xt.useRef(0),u=xt.useState(a),m=u[0],p=u[1],_=xt.useCallback(function(E){cancelAnimationFrame(o.current),o.current=requestAnimationFrame(function(){p(E)})},[]);return Gx(function(){cancelAnimationFrame(o.current)}),[m,_]},Xx=function(a){var o={},u=o.initialWidth,m=u===void 0?1/0:u,p=o.initialHeight,_=p===void 0?1/0:p,E=o.onChange,T=Yx({width:Ch?window.innerWidth:m,height:Ch?window.innerHeight:_}),M=T[0],S=T[1];return xt.useEffect(function(){if(Ch){var N=function(){var D=window.innerWidth,H=window.innerHeight;S({width:D,height:H}),E&&E(D,H)};return Hx(window,"resize",N),function(){Zx(window,"resize",N)}}},[]),M},Th,Ng;function jx(){if(Ng)return Th;Ng=1;var a={linear:function(o,u,m,p){var _=m-u;return _*o/p+u},easeInQuad:function(o,u,m,p){var _=m-u;return _*(o/=p)*o+u},easeOutQuad:function(o,u,m,p){var _=m-u;return-_*(o/=p)*(o-2)+u},easeInOutQuad:function(o,u,m,p){var _=m-u;return(o/=p/2)<1?_/2*o*o+u:-_/2*(--o*(o-2)-1)+u},easeInCubic:function(o,u,m,p){var _=m-u;return _*(o/=p)*o*o+u},easeOutCubic:function(o,u,m,p){var _=m-u;return _*((o=o/p-1)*o*o+1)+u},easeInOutCubic:function(o,u,m,p){var _=m-u;return(o/=p/2)<1?_/2*o*o*o+u:_/2*((o-=2)*o*o+2)+u},easeInQuart:function(o,u,m,p){var _=m-u;return _*(o/=p)*o*o*o+u},easeOutQuart:function(o,u,m,p){var _=m-u;return-_*((o=o/p-1)*o*o*o-1)+u},easeInOutQuart:function(o,u,m,p){var _=m-u;return(o/=p/2)<1?_/2*o*o*o*o+u:-_/2*((o-=2)*o*o*o-2)+u},easeInQuint:function(o,u,m,p){var _=m-u;return _*(o/=p)*o*o*o*o+u},easeOutQuint:function(o,u,m,p){var _=m-u;return _*((o=o/p-1)*o*o*o*o+1)+u},easeInOutQuint:function(o,u,m,p){var _=m-u;return(o/=p/2)<1?_/2*o*o*o*o*o+u:_/2*((o-=2)*o*o*o*o+2)+u},easeInSine:function(o,u,m,p){var _=m-u;return-_*Math.cos(o/p*(Math.PI/2))+_+u},easeOutSine:function(o,u,m,p){var _=m-u;return _*Math.sin(o/p*(Math.PI/2))+u},easeInOutSine:function(o,u,m,p){var _=m-u;return-_/2*(Math.cos(Math.PI*o/p)-1)+u},easeInExpo:function(o,u,m,p){var _=m-u;return o==0?u:_*Math.pow(2,10*(o/p-1))+u},easeOutExpo:function(o,u,m,p){var _=m-u;return o==p?u+_:_*(-Math.pow(2,-10*o/p)+1)+u},easeInOutExpo:function(o,u,m,p){var _=m-u;return o===0?u:o===p?u+_:(o/=p/2)<1?_/2*Math.pow(2,10*(o-1))+u:_/2*(-Math.pow(2,-10*--o)+2)+u},easeInCirc:function(o,u,m,p){var _=m-u;return-_*(Math.sqrt(1-(o/=p)*o)-1)+u},easeOutCirc:function(o,u,m,p){var _=m-u;return _*Math.sqrt(1-(o=o/p-1)*o)+u},easeInOutCirc:function(o,u,m,p){var _=m-u;return(o/=p/2)<1?-_/2*(Math.sqrt(1-o*o)-1)+u:_/2*(Math.sqrt(1-(o-=2)*o)+1)+u},easeInElastic:function(o,u,m,p){var _=m-u,E,T,M;return M=1.70158,T=0,E=_,o===0?u:(o/=p)===1?u+_:(T||(T=p*.3),E<Math.abs(_)?(E=_,M=T/4):M=T/(2*Math.PI)*Math.asin(_/E),-(E*Math.pow(2,10*(o-=1))*Math.sin((o*p-M)*(2*Math.PI)/T))+u)},easeOutElastic:function(o,u,m,p){var _=m-u,E,T,M;return M=1.70158,T=0,E=_,o===0?u:(o/=p)===1?u+_:(T||(T=p*.3),E<Math.abs(_)?(E=_,M=T/4):M=T/(2*Math.PI)*Math.asin(_/E),E*Math.pow(2,-10*o)*Math.sin((o*p-M)*(2*Math.PI)/T)+_+u)},easeInOutElastic:function(o,u,m,p){var _=m-u,E,T,M;return M=1.70158,T=0,E=_,o===0?u:(o/=p/2)===2?u+_:(T||(T=p*(.3*1.5)),E<Math.abs(_)?(E=_,M=T/4):M=T/(2*Math.PI)*Math.asin(_/E),o<1?-.5*(E*Math.pow(2,10*(o-=1))*Math.sin((o*p-M)*(2*Math.PI)/T))+u:E*Math.pow(2,-10*(o-=1))*Math.sin((o*p-M)*(2*Math.PI)/T)*.5+_+u)},easeInBack:function(o,u,m,p,_){var E=m-u;return _===void 0&&(_=1.70158),E*(o/=p)*o*((_+1)*o-_)+u},easeOutBack:function(o,u,m,p,_){var E=m-u;return _===void 0&&(_=1.70158),E*((o=o/p-1)*o*((_+1)*o+_)+1)+u},easeInOutBack:function(o,u,m,p,_){var E=m-u;return _===void 0&&(_=1.70158),(o/=p/2)<1?E/2*(o*o*(((_*=1.525)+1)*o-_))+u:E/2*((o-=2)*o*(((_*=1.525)+1)*o+_)+2)+u},easeInBounce:function(o,u,m,p){var _=m-u,E;return E=a.easeOutBounce(p-o,0,_,p),_-E+u},easeOutBounce:function(o,u,m,p){var _=m-u;return(o/=p)<1/2.75?_*(7.5625*o*o)+u:o<2/2.75?_*(7.5625*(o-=1.5/2.75)*o+.75)+u:o<2.5/2.75?_*(7.5625*(o-=2.25/2.75)*o+.9375)+u:_*(7.5625*(o-=2.625/2.75)*o+.984375)+u},easeInOutBounce:function(o,u,m,p){var _=m-u,E;return o<p/2?(E=a.easeInBounce(o*2,0,_,p),E*.5+u):(E=a.easeOutBounce(o*2-p,0,_,p),E*.5+_*.5+u)}};return Th=a,Th}var qx=jx();function Wx(a){return a*Math.PI/180}function Or(a,o){return a+Math.random()*(o-a)}function Qx(a,o){return Math.floor(a+Math.random()*(o-a+1))}var ru;(function(a){a[a.Circle=0]="Circle",a[a.Square=1]="Square",a[a.Strip=2]="Strip"})(ru||(ru={}));var Vs;(function(a){a[a.Positive=1]="Positive",a[a.Negative=-1]="Negative"})(Vs||(Vs={}));const Kx=1e3/60;class Jx{constructor(o,u,m,p){this.getOptions=u;const{colors:_,initialVelocityX:E,initialVelocityY:T}=this.getOptions();this.context=o,this.x=m,this.y=p,this.w=Or(5,20),this.h=Or(5,20),this.radius=Or(5,10),this.vx=typeof E=="number"?Or(-E,E):Or(E.min,E.max),this.vy=typeof T=="number"?Or(-T,0):Or(T.min,T.max),this.shape=Qx(0,2),this.angle=Wx(Or(0,360)),this.angularSpin=Or(-.2,.2),this.color=_[Math.floor(Math.random()*_.length)],this.rotateY=Or(0,1),this.rotationDirection=Or(0,1)?Vs.Positive:Vs.Negative}update(o){const{gravity:u,wind:m,friction:p,opacity:_,drawShape:E}=this.getOptions(),T=o/Kx;this.x+=this.vx*T,this.y+=this.vy*T,this.vy+=u*T,this.vx+=m*T,this.vx*=p**T,this.vy*=p**T,this.rotateY>=1&&this.rotationDirection===Vs.Positive?this.rotationDirection=Vs.Negative:this.rotateY<=-1&&this.rotationDirection===Vs.Negative&&(this.rotationDirection=Vs.Positive);const M=.1*this.rotationDirection*T;if(this.rotateY+=M,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=_,this.context.lineCap="round",this.context.lineWidth=2,E&&typeof E=="function")E.call(this,this.context);else switch(this.shape){case ru.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case ru.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case ru.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class $x{constructor(o,u){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=p=>{this.particles.splice(p,1)},this.getParticle=()=>{const p=Or(this.x,this.w+this.x),_=Or(this.y,this.h+this.y);return new Jx(this.context,this.getOptions,p,_)},this.animate=p=>{const{canvas:_,context:E,particlesGenerated:T,lastNumberOfPieces:M}=this,{run:S,recycle:N,numberOfPieces:D,debug:H,tweenFunction:V,tweenDuration:rt}=this.getOptions();if(!S)return!1;const j=this.particles.length,at=N?j:T;if(at<D){M!==D&&(this.tweenProgress=0,this.tweenFrom=at,this.lastNumberOfPieces=D),this.tweenProgress=Math.min(rt,Math.max(0,this.tweenProgress+p));const et=V(this.tweenProgress,this.tweenFrom,D,rt),lt=Math.round(et-at);for(let tt=0;tt<lt;tt++)this.particles.push(this.getParticle());this.particlesGenerated+=lt}H&&(E.font="12px sans-serif",E.fillStyle="#333",E.textAlign="right",E.fillText(`Particles: ${j}`,_.width-10,_.height-20));for(let et=this.particles.length-1;et>=0;et--){const lt=this.particles[et];lt.update(p),(lt.y>_.height||lt.y<-100||lt.x>_.width+100||lt.x<-100)&&(N&&at<=D?this.particles[et]=this.getParticle():this.removeParticleAt(et))}return j>0||at<D},this.canvas=o;const m=this.canvas.getContext("2d");if(!m)throw new Error("Could not get canvas context");this.context=m,this.getOptions=u}}const sd={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:qx.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class t_{constructor(o,u){this.lastFrameTime=0,this.setOptionsWithDefaults=p=>{const _={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={..._,...sd,...p},Object.assign(this,p.confettiSource)},this.update=(p=0)=>{const{options:{run:_,onConfettiComplete:E,frameRate:T},canvas:M,context:S}=this,N=Math.min(p-this.lastFrameTime,50);if(T&&N<1e3/T){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=p-(T?N%T:0),_&&(S.fillStyle="white",S.clearRect(0,0,M.width,M.height)),this.generator.animate(N)?this.rafId=requestAnimationFrame(this.update):(E&&typeof E=="function"&&this.generator.particlesGenerated>0&&E.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=o;const m=this.canvas.getContext("2d");if(!m)throw new Error("Could not get canvas context");this.context=m,this.generator=new $x(this.canvas,()=>this.options),this.options=u,this.update()}get options(){return this._options}set options(o){var p,_;const u=(p=this._options)==null?void 0:p.run,m=(_=this._options)==null?void 0:_.recycle;this.setOptionsWithDefaults(o),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof o.recycle=="boolean"&&o.recycle&&m===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof o.run=="boolean"&&o.run&&u===!1&&this.update()}}const e_=Ft.createRef();class od extends Ft.Component{constructor(o){super(o),this.canvas=Ft.createRef(),this.canvas=o.canvasRef||e_}componentDidMount(){if(this.canvas.current){const o=Mh(this.props)[0];this.confetti=new t_(this.canvas.current,o)}}componentDidUpdate(){const o=Mh(this.props)[0];this.confetti&&(this.confetti.options=o)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[o,u]=Mh(this.props),m={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...u.style};return Ee.jsx("canvas",{width:o.width,height:o.height,ref:this.canvas,...u,style:m})}}od.defaultProps={...sd};od.displayName="ReactConfetti";function Mh(a){const o={},u={},m={},p=[...Object.keys(sd),"confettiSource","drawShape","onConfettiComplete","frameRate"],_=["canvasRef"];for(const E in a){const T=a[E];p.includes(E)?o[E]=T:_.includes(E)?_[E]=T:m[E]=T}return[o,m,u]}const n_=Ft.forwardRef((a,o)=>Ee.jsx(od,{canvasRef:o,...a}));var te;(function(a){a[a.QR_CODE=0]="QR_CODE",a[a.AZTEC=1]="AZTEC",a[a.CODABAR=2]="CODABAR",a[a.CODE_39=3]="CODE_39",a[a.CODE_93=4]="CODE_93",a[a.CODE_128=5]="CODE_128",a[a.DATA_MATRIX=6]="DATA_MATRIX",a[a.MAXICODE=7]="MAXICODE",a[a.ITF=8]="ITF",a[a.EAN_13=9]="EAN_13",a[a.EAN_8=10]="EAN_8",a[a.PDF_417=11]="PDF_417",a[a.RSS_14=12]="RSS_14",a[a.RSS_EXPANDED=13]="RSS_EXPANDED",a[a.UPC_A=14]="UPC_A",a[a.UPC_E=15]="UPC_E",a[a.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var Ig=new Map([[te.QR_CODE,"QR_CODE"],[te.AZTEC,"AZTEC"],[te.CODABAR,"CODABAR"],[te.CODE_39,"CODE_39"],[te.CODE_93,"CODE_93"],[te.CODE_128,"CODE_128"],[te.DATA_MATRIX,"DATA_MATRIX"],[te.MAXICODE,"MAXICODE"],[te.ITF,"ITF"],[te.EAN_13,"EAN_13"],[te.EAN_8,"EAN_8"],[te.PDF_417,"PDF_417"],[te.RSS_14,"RSS_14"],[te.RSS_EXPANDED,"RSS_EXPANDED"],[te.UPC_A,"UPC_A"],[te.UPC_E,"UPC_E"],[te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Og;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.URL=1]="URL"})(Og||(Og={}));function i_(a){return Object.values(te).includes(a)}var Ws;(function(a){a[a.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",a[a.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ws||(Ws={}));var ca=function(){function a(){}return a.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",a.SCAN_DEFAULT_FPS=2,a.DEFAULT_DISABLE_FLIP=!1,a.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,a.DEFAULT_SUPPORTED_SCAN_TYPE=[Ws.SCAN_TYPE_CAMERA,Ws.SCAN_TYPE_FILE],a}(),Zm=function(){function a(o,u){this.format=o,this.formatName=u}return a.prototype.toString=function(){return this.formatName},a.create=function(o){if(!Ig.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new a(o,Ig.get(o))},a}(),Dg=function(){function a(){}return a.createFromText=function(o){var u={text:o};return{decodedText:o,result:u}},a.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},a}(),Vh;(function(a){a[a.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",a[a.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",a[a.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Vh||(Vh={}));var Vm=function(){function a(){}return a.createFrom=function(o){return{errorMessage:o,type:Vh.UNKWOWN_ERROR}},a}(),Gm=function(){function a(o){this.verbose=o}return a.prototype.log=function(o){this.verbose&&console.log(o)},a.prototype.warn=function(o){this.verbose&&console.warn(o)},a.prototype.logError=function(o,u){(this.verbose||u===!0)&&console.error(o)},a.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},a}();function za(a){return typeof a>"u"||a===null}function r_(a,o,u){return a>u?u:a<o?o:a}var tl=function(){function a(){}return a.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},a.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},a.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},a.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},a.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},a.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},a.scannerPaused=function(){return"Scanner paused"},a}(),fn=function(){function a(){}return a.scanningStatus=function(){return"Scanning"},a.idleStatus=function(){return"Idle"},a.errorStatus=function(){return"Error"},a.permissionStatus=function(){return"Permission"},a.noCameraFoundErrorStatus=function(){return"No Cameras"},a.lastMatch=function(o){return"Last Match: ".concat(o)},a.codeScannerTitle=function(){return"Code Scanner"},a.cameraPermissionTitle=function(){return"Request Camera Permissions"},a.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},a.noCameraFound=function(){return"No camera found"},a.scanButtonStopScanningText=function(){return"Stop Scanning"},a.scanButtonStartScanningText=function(){return"Start Scanning"},a.torchOnButton=function(){return"Switch On Torch"},a.torchOffButton=function(){return"Switch Off Torch"},a.torchOnFailedMessage=function(){return"Failed to turn on torch"},a.torchOffFailedMessage=function(){return"Failed to turn off torch"},a.scanButtonScanningStarting=function(){return"Launching Camera..."},a.textIfCameraScanSelected=function(){return"Scan an Image File"},a.textIfFileScanSelected=function(){return"Scan using camera directly"},a.selectCamera=function(){return"Select Camera"},a.fileSelectionChooseImage=function(){return"Choose Image"},a.fileSelectionChooseAnother=function(){return"Choose Another"},a.fileSelectionNoImageSelected=function(){return"No image choosen"},a.anonymousCameraPrefix=function(){return"Anonymous Camera"},a.dragAndDropMessage=function(){return"Or drop an image to scan"},a.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},a.zoom=function(){return"zoom"},a.loadingImage=function(){return"Loading image..."},a.cameraScanAltText=function(){return"Camera based scan"},a.fileScanAltText=function(){return"Fule based scan"},a}(),Rg=function(){function a(){}return a.poweredBy=function(){return"Powered by "},a.reportIssues=function(){return"Report issues"},a}(),Ym=function(){function a(){}return a.isMediaStreamConstraintsValid=function(o,u){if(typeof o!="object"){var m=typeof o;return u.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(m,"."),!0),!1}for(var p=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],_=new Set(p),E=Object.keys(o),T=0,M=E;T<M.length;T++){var S=M[T];if(_.has(S))return u.logError("".concat(S," is not supported videoConstaints."),!0),!1}return!0},a}(),tu={exports:{}},a_=tu.exports,Lg;function s_(){return Lg||(Lg=1,function(a,o){(function(u,m){m(o)})(a_,function(u){function m(B){return B==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,e){B.__proto__=e}||function(B,e){for(var i in e)e.hasOwnProperty(i)&&(B[i]=e[i])};function _(B,e){p(B,e);function i(){this.constructor=B}B.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function E(B,e){var i=Object.setPrototypeOf;i?i(B,e):B.__proto__=e}function T(B,e){e===void 0&&(e=B.constructor);var i=Error.captureStackTrace;i&&i(B,e)}var M=function(B){_(e,B);function e(i){var s=this.constructor,c=B.call(this,i)||this;return Object.defineProperty(c,"name",{value:s.name,enumerable:!1}),E(c,s.prototype),T(c),c}return e}(Error);class S extends M{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}S.kind="Exception";class N extends S{}N.kind="ArgumentException";class D extends S{}D.kind="IllegalArgumentException";class H{constructor(e){if(this.binarizer=e,e===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,i){return this.binarizer.getBlackRow(e,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,i,s,c){const f=this.binarizer.getLuminanceSource().crop(e,i,s,c);return new H(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new H(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new H(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class V extends S{static getChecksumInstance(){return new V}}V.kind="ChecksumException";class rt{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,i,s,c,f){for(;f--;)s[c++]=e[i++]}static currentTimeMillis(){return Date.now()}}class at extends S{}at.kind="IndexOutOfBoundsException";class et extends at{constructor(e=void 0,i=void 0){super(i),this.index=e,this.message=i}}et.kind="ArrayIndexOutOfBoundsException";class lt{static fill(e,i){for(let s=0,c=e.length;s<c;s++)e[s]=i}static fillWithin(e,i,s,c){lt.rangeCheck(e.length,i,s);for(let f=i;f<s;f++)e[f]=c}static rangeCheck(e,i,s){if(i>s)throw new D("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new et(i);if(s>e)throw new et(s)}static asList(...e){return e}static create(e,i,s){return Array.from({length:e}).map(f=>Array.from({length:i}).fill(s))}static createInt32Array(e,i,s){return Array.from({length:e}).map(f=>Int32Array.from({length:i}).fill(s))}static equals(e,i){if(!e||!i||!e.length||!i.length||e.length!==i.length)return!1;for(let s=0,c=e.length;s<c;s++)if(e[s]!==i[s])return!1;return!0}static hashCode(e){if(e===null)return 0;let i=1;for(const s of e)i=31*i+s;return i}static fillUint8Array(e,i){for(let s=0;s!==e.length;s++)e[s]=i}static copyOf(e,i){return e.slice(0,i)}static copyOfUint8Array(e,i){if(e.length<=i){const s=new Uint8Array(i);return s.set(e),s}return e.slice(0,i)}static copyOfRange(e,i,s){const c=s-i,f=new Int32Array(c);return j.arraycopy(e,i,f,0,c),f}static binarySearch(e,i,s){s===void 0&&(s=lt.numberComparator);let c=0,f=e.length-1;for(;c<=f;){const g=f+c>>1,x=s(i,e[g]);if(x>0)c=g+1;else if(x<0)f=g-1;else return g}return-c-1}static numberComparator(e,i){return e-i}}class tt{static numberOfTrailingZeros(e){let i;if(e===0)return 32;let s=31;return i=e<<16,i!==0&&(s-=16,e=i),i=e<<8,i!==0&&(s-=8,e=i),i=e<<4,i!==0&&(s-=4,e=i),i=e<<2,i!==0&&(s-=2,e=i),s-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let i=1;return e>>>16||(i+=16,e<<=16),e>>>24||(i+=8,e<<=8),e>>>28||(i+=4,e<<=4),e>>>30||(i+=2,e<<=2),i-=e>>>31,i}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,i){return Math.trunc(e/i)}static parseInt(e,i=void 0){return parseInt(e,i)}}tt.MIN_VALUE_32_BITS=-2147483648,tt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class nt{constructor(e,i){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,i==null?this.bits=nt.makeArray(e):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const i=nt.makeArray(e);j.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const i=this.size;if(e>=i)return i;const s=this.bits;let c=Math.floor(e/32),f=s[c];f&=~((1<<(e&31))-1);const g=s.length;for(;f===0;){if(++c===g)return i;f=s[c]}const x=c*32+tt.numberOfTrailingZeros(f);return x>i?i:x}getNextUnset(e){const i=this.size;if(e>=i)return i;const s=this.bits;let c=Math.floor(e/32),f=~s[c];f&=~((1<<(e&31))-1);const g=s.length;for(;f===0;){if(++c===g)return i;f=~s[c]}const x=c*32+tt.numberOfTrailingZeros(f);return x>i?i:x}setBulk(e,i){this.bits[Math.floor(e/32)]=i}setRange(e,i){if(i<e||e<0||i>this.size)throw new D;if(i===e)return;i--;const s=Math.floor(e/32),c=Math.floor(i/32),f=this.bits;for(let g=s;g<=c;g++){const x=g>s?0:e&31,b=(2<<(g<c?31:i&31))-(1<<x);f[g]|=b}}clear(){const e=this.bits.length,i=this.bits;for(let s=0;s<e;s++)i[s]=0}isRange(e,i,s){if(i<e||e<0||i>this.size)throw new D;if(i===e)return!0;i--;const c=Math.floor(e/32),f=Math.floor(i/32),g=this.bits;for(let x=c;x<=f;x++){const v=x>c?0:e&31,I=(2<<(x<f?31:i&31))-(1<<v)&4294967295;if((g[x]&I)!==(s?I:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,i){if(i<0||i>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((e>>s-1&1)===1)}appendBitArray(e){const i=e.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(e.get(s))}xor(e){if(this.size!==e.size)throw new D("Sizes don't match");const i=this.bits;for(let s=0,c=i.length;s<c;s++)i[s]^=e.bits[s]}toBytes(e,i,s,c){for(let f=0;f<c;f++){let g=0;for(let x=0;x<8;x++)this.get(e)&&(g|=1<<7-x),e++;i[s+f]=g}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,c=this.bits;for(let f=0;f<s;f++){let g=c[f];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,e[i-f]=g}if(this.size!==s*32){const f=s*32-this.size;let g=e[0]>>>f;for(let x=1;x<s;x++){const v=e[x];g|=v<<32-f,e[x-1]=g,g=v>>>f}e[s-1]=g}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof nt))return!1;const i=e;return this.size===i.size&&lt.equals(this.bits,i.bits)}hashCode(){return 31*this.size+lt.hashCode(this.bits)}toString(){let e="";for(let i=0,s=this.size;i<s;i++)(i&7)===0&&(e+=" "),e+=this.get(i)?"X":".";return e}clone(){return new nt(this.size,this.bits.slice())}}var bt;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(bt||(bt={}));var Nt=bt;class ft extends S{static getFormatInstance(){return new ft}}ft.kind="FormatException";var Ot;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(Ot||(Ot={}));class st{constructor(e,i,s,...c){this.valueIdentifier=e,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,st.VALUE_IDENTIFIER_TO_ECI.set(e,this),st.NAME_TO_ECI.set(s,this);const f=this.values;for(let g=0,x=f.length;g!==x;g++){const v=f[g];st.VALUES_TO_ECI.set(v,this)}for(const g of c)st.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new ft("incorect value");const i=st.VALUES_TO_ECI.get(e);if(i===void 0)throw new ft("incorect value");return i}static getCharacterSetECIByName(e){const i=st.NAME_TO_ECI.get(e);if(i===void 0)throw new ft("incorect value");return i}equals(e){if(!(e instanceof st))return!1;const i=e;return this.getName()===i.getName()}}st.VALUE_IDENTIFIER_TO_ECI=new Map,st.VALUES_TO_ECI=new Map,st.NAME_TO_ECI=new Map,st.Cp437=new st(Ot.Cp437,Int32Array.from([0,2]),"Cp437"),st.ISO8859_1=new st(Ot.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),st.ISO8859_2=new st(Ot.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),st.ISO8859_3=new st(Ot.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),st.ISO8859_4=new st(Ot.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),st.ISO8859_5=new st(Ot.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),st.ISO8859_6=new st(Ot.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),st.ISO8859_7=new st(Ot.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),st.ISO8859_8=new st(Ot.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),st.ISO8859_9=new st(Ot.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),st.ISO8859_10=new st(Ot.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),st.ISO8859_11=new st(Ot.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),st.ISO8859_13=new st(Ot.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),st.ISO8859_14=new st(Ot.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),st.ISO8859_15=new st(Ot.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),st.ISO8859_16=new st(Ot.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),st.SJIS=new st(Ot.SJIS,20,"SJIS","Shift_JIS"),st.Cp1250=new st(Ot.Cp1250,21,"Cp1250","windows-1250"),st.Cp1251=new st(Ot.Cp1251,22,"Cp1251","windows-1251"),st.Cp1252=new st(Ot.Cp1252,23,"Cp1252","windows-1252"),st.Cp1256=new st(Ot.Cp1256,24,"Cp1256","windows-1256"),st.UnicodeBigUnmarked=new st(Ot.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),st.UTF8=new st(Ot.UTF8,26,"UTF8","UTF-8"),st.ASCII=new st(Ot.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),st.Big5=new st(Ot.Big5,28,"Big5"),st.GB18030=new st(Ot.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),st.EUC_KR=new st(Ot.EUC_KR,30,"EUC_KR","EUC-KR");class Yt extends S{}Yt.kind="UnsupportedOperationException";class Dt{static decode(e,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)}static shouldDecodeOnFallback(e){return!Dt.isBrowser()&&e==="ISO-8859-1"}static encode(e,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof st?e:st.getCharacterSetECIByName(e)}static decodeFallback(e,i){const s=this.encodingCharacterSet(i);if(Dt.isDecodeFallbackSupported(s)){let c="";for(let f=0,g=e.length;f<g;f++){let x=e[f].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(s.equals(st.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Yt(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(st.UTF8)||e.equals(st.ISO8859_1)||e.equals(st.ASCII)}static encodeFallback(e){const s=btoa(unescape(encodeURIComponent(e))).split(""),c=[];for(let f=0;f<s.length;f++)c.push(s[f].charCodeAt(0));return new Uint8Array(c)}}class Tt{static castAsNonUtf8Char(e,i=null){const s=i?i.getName():this.ISO88591;return Dt.decode(new Uint8Array([e]),s)}static guessEncoding(e,i){if(i!=null&&i.get(Nt.CHARACTER_SET)!==void 0)return i.get(Nt.CHARACTER_SET).toString();const s=e.length;let c=!0,f=!0,g=!0,x=0,v=0,b=0,I=0,P=0,z=0,Y=0,K=0,it=0,pt=0,Et=0;const Zt=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Gt=0;Gt<s&&(c||f||g);Gt++){const Ht=e[Gt]&255;g&&(x>0?(Ht&128)===0?g=!1:x--:(Ht&128)!==0&&((Ht&64)===0?g=!1:(x++,(Ht&32)===0?v++:(x++,(Ht&16)===0?b++:(x++,(Ht&8)===0?I++:g=!1))))),c&&(Ht>127&&Ht<160?c=!1:Ht>159&&(Ht<192||Ht===215||Ht===247)&&Et++),f&&(P>0?Ht<64||Ht===127||Ht>252?f=!1:P--:Ht===128||Ht===160||Ht>239?f=!1:Ht>160&&Ht<224?(z++,K=0,Y++,Y>it&&(it=Y)):Ht>127?(P++,Y=0,K++,K>pt&&(pt=K)):(Y=0,K=0))}return g&&x>0&&(g=!1),f&&P>0&&(f=!1),g&&(Zt||v+b+I>0)?Tt.UTF8:f&&(Tt.ASSUME_SHIFT_JIS||it>=3||pt>=3)?Tt.SHIFT_JIS:c&&f?it===2&&z===2||Et*10>=s?Tt.SHIFT_JIS:Tt.ISO88591:c?Tt.ISO88591:f?Tt.SHIFT_JIS:g?Tt.UTF8:Tt.PLATFORM_DEFAULT_ENCODING}static format(e,...i){let s=-1;function c(g,x,v,b,I,P){if(g==="%%")return"%";if(i[++s]===void 0)return;g=b?parseInt(b.substr(1)):void 0;let z=I?parseInt(I.substr(1)):void 0,Y;switch(P){case"s":Y=i[s];break;case"c":Y=i[s][0];break;case"f":Y=parseFloat(i[s]).toFixed(g);break;case"p":Y=parseFloat(i[s]).toPrecision(g);break;case"e":Y=parseFloat(i[s]).toExponential(g);break;case"x":Y=parseInt(i[s]).toString(z||16);break;case"d":Y=parseFloat(parseInt(i[s],z||10).toPrecision(g)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(z);let K=parseInt(v),it=v&&v[0]+""=="0"?"0":" ";for(;Y.length<K;)Y=x!==void 0?Y+it:it+Y;return Y}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(f,c)}static getBytes(e,i){return Dt.encode(e,i)}static getCharCode(e,i=0){return e.charCodeAt(i)}static getCharAt(e){return String.fromCharCode(e)}}Tt.SHIFT_JIS=st.SJIS.getName(),Tt.GB2312="GB2312",Tt.ISO88591=st.ISO8859_1.getName(),Tt.EUC_JP="EUC_JP",Tt.UTF8=st.UTF8.getName(),Tt.PLATFORM_DEFAULT_ENCODING=Tt.UTF8,Tt.ASSUME_SHIFT_JIS=!1;class Lt{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Tt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,i,s){for(let c=i;i<i+s;c++)this.append(e[c]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+1)}substring(e,i){return this.value.substring(e,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+i.length)}}class X{constructor(e,i,s,c){if(this.width=e,this.height=i,this.rowSize=s,this.bits=c,i==null&&(i=e),this.height=i,e<1||i<1)throw new D("Both dimensions must be greater than 0");s==null&&(s=Math.floor((e+31)/32)),this.rowSize=s,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const i=e.length,s=e[0].length,c=new X(s,i);for(let f=0;f<i;f++){const g=e[f];for(let x=0;x<s;x++)g[x]&&c.set(x,f)}return c}static parseFromString(e,i,s){if(e===null)throw new D("stringRepresentation cannot be null");const c=new Array(e.length);let f=0,g=0,x=-1,v=0,b=0;for(;b<e.length;)if(e.charAt(b)===`
`||e.charAt(b)==="\r"){if(f>g){if(x===-1)x=f-g;else if(f-g!==x)throw new D("row lengths do not match");g=f,v++}b++}else if(e.substring(b,b+i.length)===i)b+=i.length,c[f]=!0,f++;else if(e.substring(b,b+s.length)===s)b+=s.length,c[f]=!1,f++;else throw new D("illegal character encountered: "+e.substring(b));if(f>g){if(x===-1)x=f-g;else if(f-g!==x)throw new D("row lengths do not match");v++}const I=new X(x,v);for(let P=0;P<f;P++)c[P]&&I.set(Math.floor(P%x),Math.floor(P/x));return I}get(e,i){const s=i*this.rowSize+Math.floor(e/32);return(this.bits[s]>>>(e&31)&1)!==0}set(e,i){const s=i*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(e&31)&4294967295}unset(e,i){const s=i*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(e&31)&4294967295)}flip(e,i){const s=i*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new D("input matrix dimensions do not match");const i=new nt(Math.floor(this.width/32)+1),s=this.rowSize,c=this.bits;for(let f=0,g=this.height;f<g;f++){const x=f*s,v=e.getRow(f,i).getBitArray();for(let b=0;b<s;b++)c[x+b]^=v[b]}}clear(){const e=this.bits,i=e.length;for(let s=0;s<i;s++)e[s]=0}setRegion(e,i,s,c){if(i<0||e<0)throw new D("Left and top must be nonnegative");if(c<1||s<1)throw new D("Height and width must be at least 1");const f=e+s,g=i+c;if(g>this.height||f>this.width)throw new D("The region must fit inside the matrix");const x=this.rowSize,v=this.bits;for(let b=i;b<g;b++){const I=b*x;for(let P=e;P<f;P++)v[I+Math.floor(P/32)]|=1<<(P&31)&4294967295}}getRow(e,i){i==null||i.getSize()<this.width?i=new nt(this.width):i.clear();const s=this.rowSize,c=this.bits,f=e*s;for(let g=0;g<s;g++)i.setBulk(g*32,c[f+g]);return i}setRow(e,i){j.arraycopy(i.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),i=this.getHeight();let s=new nt(e),c=new nt(e);for(let f=0,g=Math.floor((i+1)/2);f<g;f++)s=this.getRow(f,s),c=this.getRow(i-1-f,c),s.reverse(),c.reverse(),this.setRow(f,c),this.setRow(i-1-f,s)}getEnclosingRectangle(){const e=this.width,i=this.height,s=this.rowSize,c=this.bits;let f=e,g=i,x=-1,v=-1;for(let b=0;b<i;b++)for(let I=0;I<s;I++){const P=c[b*s+I];if(P!==0){if(b<g&&(g=b),b>v&&(v=b),I*32<f){let z=0;for(;(P<<31-z&4294967295)===0;)z++;I*32+z<f&&(f=I*32+z)}if(I*32+31>x){let z=31;for(;!(P>>>z);)z--;I*32+z>x&&(x=I*32+z)}}}return x<f||v<g?null:Int32Array.from([f,g,x-f+1,v-g+1])}getTopLeftOnBit(){const e=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const c=s/e;let f=s%e*32;const g=i[s];let x=0;for(;(g<<31-x&4294967295)===0;)x++;return f+=x,Int32Array.from([f,c])}getBottomRightOnBit(){const e=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const c=Math.floor(s/e);let f=Math.floor(s%e)*32;const g=i[s];let x=31;for(;!(g>>>x);)x--;return f+=x,Int32Array.from([f,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof X))return!1;const i=e;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&lt.equals(this.bits,i.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+lt.hashCode(this.bits),e}toString(e="X ",i="  ",s=`
`){return this.buildToString(e,i,s)}buildToString(e,i,s){let c=new Lt;for(let f=0,g=this.height;f<g;f++){for(let x=0,v=this.width;x<v;x++)c.append(this.get(x,f)?e:i);c.append(s)}return c.toString()}clone(){return new X(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends S{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class G extends rt{constructor(e){super(e),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(e,i){const s=this.getLuminanceSource(),c=s.getWidth();i==null||i.getSize()<c?i=new nt(c):i.clear(),this.initArrays(c);const f=s.getRow(e,this.luminances),g=this.buckets;for(let v=0;v<c;v++)g[(f[v]&255)>>G.LUMINANCE_SHIFT]++;const x=G.estimateBlackPoint(g);if(c<3)for(let v=0;v<c;v++)(f[v]&255)<x&&i.set(v);else{let v=f[0]&255,b=f[1]&255;for(let I=1;I<c-1;I++){const P=f[I+1]&255;(b*4-v-P)/2<x&&i.set(I),v=b,b=P}}return i}getBlackMatrix(){const e=this.getLuminanceSource(),i=e.getWidth(),s=e.getHeight(),c=new X(i,s);this.initArrays(i);const f=this.buckets;for(let v=1;v<5;v++){const b=Math.floor(s*v/5),I=e.getRow(b,this.luminances),P=Math.floor(i*4/5);for(let z=Math.floor(i/5);z<P;z++){const Y=I[z]&255;f[Y>>G.LUMINANCE_SHIFT]++}}const g=G.estimateBlackPoint(f),x=e.getMatrix();for(let v=0;v<s;v++){const b=v*i;for(let I=0;I<i;I++)(x[b+I]&255)<g&&c.set(I,v)}return c}createBinarizer(e){return new G(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const i=this.buckets;for(let s=0;s<G.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(e){const i=e.length;let s=0,c=0,f=0;for(let I=0;I<i;I++)e[I]>f&&(c=I,f=e[I]),e[I]>s&&(s=e[I]);let g=0,x=0;for(let I=0;I<i;I++){const P=I-c,z=e[I]*P*P;z>x&&(g=I,x=z)}if(c>g){const I=c;c=g,g=I}if(g-c<=i/16)throw new q;let v=g-1,b=-1;for(let I=g-1;I>c;I--){const P=I-c,z=P*P*(g-I)*(s-e[I]);z>b&&(v=I,b=z)}return v<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class J extends G{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),i=e.getWidth(),s=e.getHeight();if(i>=J.MINIMUM_DIMENSION&&s>=J.MINIMUM_DIMENSION){const c=e.getMatrix();let f=i>>J.BLOCK_SIZE_POWER;(i&J.BLOCK_SIZE_MASK)!==0&&f++;let g=s>>J.BLOCK_SIZE_POWER;(s&J.BLOCK_SIZE_MASK)!==0&&g++;const x=J.calculateBlackPoints(c,f,g,i,s),v=new X(i,s);J.calculateThresholdForBlock(c,f,g,i,s,x,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new J(e)}static calculateThresholdForBlock(e,i,s,c,f,g,x){const v=f-J.BLOCK_SIZE,b=c-J.BLOCK_SIZE;for(let I=0;I<s;I++){let P=I<<J.BLOCK_SIZE_POWER;P>v&&(P=v);const z=J.cap(I,2,s-3);for(let Y=0;Y<i;Y++){let K=Y<<J.BLOCK_SIZE_POWER;K>b&&(K=b);const it=J.cap(Y,2,i-3);let pt=0;for(let Zt=-2;Zt<=2;Zt++){const Gt=g[z+Zt];pt+=Gt[it-2]+Gt[it-1]+Gt[it]+Gt[it+1]+Gt[it+2]}const Et=pt/25;J.thresholdBlock(e,K,P,Et,c,x)}}}static cap(e,i,s){return e<i?i:e>s?s:e}static thresholdBlock(e,i,s,c,f,g){for(let x=0,v=s*f+i;x<J.BLOCK_SIZE;x++,v+=f)for(let b=0;b<J.BLOCK_SIZE;b++)(e[v+b]&255)<=c&&g.set(i+b,s+x)}static calculateBlackPoints(e,i,s,c,f){const g=f-J.BLOCK_SIZE,x=c-J.BLOCK_SIZE,v=new Array(s);for(let b=0;b<s;b++){v[b]=new Int32Array(i);let I=b<<J.BLOCK_SIZE_POWER;I>g&&(I=g);for(let P=0;P<i;P++){let z=P<<J.BLOCK_SIZE_POWER;z>x&&(z=x);let Y=0,K=255,it=0;for(let Et=0,Zt=I*c+z;Et<J.BLOCK_SIZE;Et++,Zt+=c){for(let Gt=0;Gt<J.BLOCK_SIZE;Gt++){const Ht=e[Zt+Gt]&255;Y+=Ht,Ht<K&&(K=Ht),Ht>it&&(it=Ht)}if(it-K>J.MIN_DYNAMIC_RANGE)for(Et++,Zt+=c;Et<J.BLOCK_SIZE;Et++,Zt+=c)for(let Gt=0;Gt<J.BLOCK_SIZE;Gt++)Y+=e[Zt+Gt]&255}let pt=Y>>J.BLOCK_SIZE_POWER*2;if(it-K<=J.MIN_DYNAMIC_RANGE&&(pt=K/2,b>0&&P>0)){const Et=(v[b-1][P]+2*v[b][P-1]+v[b-1][P-1])/4;K<Et&&(pt=Et)}v[b][P]=pt}}return v}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class ut{constructor(e,i){this.width=e,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,i,s,c){throw new Yt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Yt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Yt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let i=new Lt;for(let s=0;s<this.height;s++){const c=this.getRow(s,e);for(let f=0;f<this.width;f++){const g=c[f]&255;let x;g<64?x="#":g<128?x="+":g<192?x=".":x=" ",i.append(x)}i.append(`
`)}return i.toString()}}class ct extends ut{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,i){const s=this.delegate.getRow(e,i),c=this.getWidth();for(let f=0;f<c;f++)s[f]=255-(s[f]&255);return s}getMatrix(){const e=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let c=0;c<i;c++)s[c]=255-(e[c]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(e,i,s,c){return new ct(this.delegate.crop(e,i,s,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ct(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ct(this.delegate.rotateCounterClockwise45())}}class U extends ut{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=U.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const i=e.getContext("2d").getImageData(0,0,e.width,e.height);return U.toGrayscaleBuffer(i.data,e.width,e.height)}static toGrayscaleBuffer(e,i,s){const c=new Uint8ClampedArray(i*s);for(let f=0,g=0,x=e.length;f<x;f+=4,g++){let v;if(e[f+3]===0)v=255;else{const I=e[f],P=e[f+1],z=e[f+2];v=306*I+601*P+117*z+512>>10}c[g]=v}return c}getRow(e,i){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const s=this.getWidth(),c=e*s;return i===null?i=this.buffer.slice(c,c+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(c,c+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,i,s,c){return super.crop(e,i,s,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const i=this.getTempCanvasElement(),s=i.getContext("2d"),c=e*U.DEGREE_TO_RADIANS,f=this.canvas.width,g=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*f+Math.abs(Math.sin(c))*g),v=Math.ceil(Math.abs(Math.sin(c))*f+Math.abs(Math.cos(c))*g);return i.width=x,i.height=v,s.translate(x/2,v/2),s.rotate(c),s.drawImage(this.canvas,f/-2,g/-2),this.buffer=U.makeBufferFromCanvasImageData(i),this}invert(){return new ct(this)}}U.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(e,i,s){this.deviceId=e,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ht=(globalThis||gc||self||window||void 0)&&(globalThis||gc||self||window||void 0).__awaiter||function(B,e,i,s){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function x(I){try{b(s.next(I))}catch(P){g(P)}}function v(I){try{b(s.throw(I))}catch(P){g(P)}}function b(I){I.done?f(I.value):c(I.value).then(x,v)}b((s=s.apply(B,e||[])).next())})};class vt{constructor(e,i=500,s){this.reader=e,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ht(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of e){const c=s.kind==="video"?"videoinput":s.kind;if(c!=="videoinput")continue;const f=s.deviceId||s.id,g=s.label||`Video device ${i.length+1}`,x=s.groupId,v={deviceId:f,label:g,kind:c,groupId:x};i.push(v)}return i})}getVideoInputDevices(){return ht(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new $(i.deviceId,i.label))})}findDeviceById(e){return ht(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===e):null})}decodeFromInputVideoDevice(e,i){return ht(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,i)})}decodeOnceFromVideoDevice(e,i){return ht(this,void 0,void 0,function*(){this.reset();let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const c={video:s};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(e,i){return ht(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(e,i){return ht(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(e,i,s){return ht(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,i,s)})}decodeFromVideoDevice(e,i,s){return ht(this,void 0,void 0,function*(){let c;e?c={deviceId:{exact:e}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeFromConstraints(f,i,s)})}decodeFromConstraints(e,i,s){return ht(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(c,i,s)})}decodeFromStream(e,i,s){return ht(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(e,i);return yield this.decodeContinuously(c,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,i){return ht(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,e),this.videoElement=s,this.stream=e,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(e){return new Promise((i,s)=>this.playVideoOnLoad(e,()=>i()))}playVideoOnLoad(e,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",i),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ht(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,i){const s=document.getElementById(e);if(!s)throw new N(`element with id '${e}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new N(`element with id '${e}' must be an ${i} element`);return s}decodeFromImage(e,i){if(!e&&!i)throw new N("either imageElement with a src set or an url must be provided");return i&&!e?this.decodeFromImageUrl(i):this.decodeFromImageElement(e)}decodeFromVideo(e,i){if(!e&&!i)throw new N("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,i,s){if(e===void 0&&i===void 0)throw new N("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(e,s)}decodeFromImageElement(e){if(!e)throw new N("An image element must be provided.");this.reset();const i=this.prepareImageElement(e);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(e){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(e,i){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(e){if(!e)throw new N("A video element must be provided.");this.reset();const i=this.prepareVideoElement(e);return this.videoElement=i,i}decodeFromImageUrl(e){if(!e)throw new N("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=e,s}decodeFromVideoUrl(e){if(!e)throw new N("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=e,s}decodeFromVideoUrlContinuously(e,i){if(!e)throw new N("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(s,i);return s.src=e,c}_decodeOnLoadImage(e){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(i,s),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ht(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,i){return ht(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,i)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let i;return typeof e>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(i=e),i}prepareVideoElement(e){let i;return!e&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(i=e),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(e,i=!0,s=!0){this._stopAsyncDecode=!1;const c=(f,g)=>{if(this._stopAsyncDecode){g(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(e);f(x)}catch(x){const v=i&&x instanceof q,I=(x instanceof V||x instanceof ft)&&s;if(v||I)return setTimeout(c,this._timeBetweenDecodingAttempts,f,g);g(x)}};return new Promise((f,g)=>c(f,g))}decodeContinuously(e,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(e);i(c,null),setTimeout(s,this.timeBetweenScansMillis)}catch(c){i(null,c);const f=c instanceof V||c instanceof ft,g=c instanceof q;(f||g)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(e){const i=this.createBinaryBitmap(e);return this.decodeBitmap(i)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,i,s){i||(i={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(e,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const i=this.getCaptureCanvas(e),s=new U(i),c=new J(s);return new H(c)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const i=this.createCaptureCanvas(e);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,c;return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,c=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,c=e.naturalHeight||e.height)),i.style.width=s+"px",i.style.height=c+"px",i.width=s,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,i){try{e.srcObject=i}catch{e.src=URL.createObjectURL(i)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class At{constructor(e,i,s=i==null?0:8*i.length,c,f,g=j.currentTimeMillis()){this.text=e,this.rawBytes=i,this.numBits=s,this.resultPoints=c,this.format=f,this.timestamp=g,this.text=e,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=c,this.format=f,this.resultMetadata=null,g==null?this.timestamp=j.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,i)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const i=this.resultPoints;if(i===null)this.resultPoints=e;else if(e!==null&&e.length>0){const s=new Array(i.length+e.length);j.arraycopy(i,0,s,0,i.length),j.arraycopy(e,0,s,i.length,e.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var kt;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(kt||(kt={}));var _t=kt,se;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(se||(se={}));var qt=se;class Oe{constructor(e,i,s,c,f=-1,g=-1){this.rawBytes=e,this.text=i,this.byteSegments=s,this.ecLevel=c,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=g,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Re{exp(e){return this.expTable[e]}log(e){if(e===0)throw new D;return this.logTable[e]}static addOrSubtract(e,i){return e^i}}class Ye{constructor(e,i){if(i.length===0)throw new D;this.field=e;const s=i.length;if(s>1&&i[0]===0){let c=1;for(;c<s&&i[c]===0;)c++;c===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-c),j.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(e===1){s=0;for(let g=0,x=i.length;g!==x;g++){const v=i[g];s=Re.addOrSubtract(s,v)}return s}s=i[0];const c=i.length,f=this.field;for(let g=1;g<c;g++)s=Re.addOrSubtract(f.multiply(e,s),i[g]);return s}addOrSubtract(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,s=e.coefficients;if(i.length>s.length){const g=i;i=s,s=g}let c=new Int32Array(s.length);const f=s.length-i.length;j.arraycopy(s,0,c,0,f);for(let g=f;g<s.length;g++)c[g]=Re.addOrSubtract(i[g-f],s[g]);return new Ye(this.field,c)}multiply(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,c=e.coefficients,f=c.length,g=new Int32Array(s+f-1),x=this.field;for(let v=0;v<s;v++){const b=i[v];for(let I=0;I<f;I++)g[v+I]=Re.addOrSubtract(g[v+I],x.multiply(b,c[I]))}return new Ye(x,g)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const i=this.coefficients.length,s=this.field,c=new Int32Array(i),f=this.coefficients;for(let g=0;g<i;g++)c[g]=s.multiply(f[g],e);return new Ye(s,c)}multiplyByMonomial(e,i){if(e<0)throw new D;if(i===0)return this.field.getZero();const s=this.coefficients,c=s.length,f=new Int32Array(c+e),g=this.field;for(let x=0;x<c;x++)f[x]=g.multiply(s[x],i);return new Ye(g,f)}divide(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new D("Divide by 0");const i=this.field;let s=i.getZero(),c=this;const f=e.getCoefficient(e.getDegree()),g=i.inverse(f);for(;c.getDegree()>=e.getDegree()&&!c.isZero();){const x=c.getDegree()-e.getDegree(),v=i.multiply(c.getCoefficient(c.getDegree()),g),b=e.multiplyByMonomial(x,v),I=i.buildMonomial(x,v);s=s.addOrSubtract(I),c=c.addOrSubtract(b)}return[s,c]}toString(){let e="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),i===0||s!==1){const c=this.field.log(s);c===0?e+="1":c===1?e+="a":(e+="a^",e+=c)}i!==0&&(i===1?e+="x":(e+="x^",e+=i))}}return e}}class xn extends S{}xn.kind="ArithmeticException";class de extends Re{constructor(e,i,s){super(),this.primitive=e,this.size=i,this.generatorBase=s;const c=new Int32Array(i);let f=1;for(let x=0;x<i;x++)c[x]=f,f*=2,f>=i&&(f^=e,f&=i-1);this.expTable=c;const g=new Int32Array(i);for(let x=0;x<i-1;x++)g[c[x]]=x;this.logTable=g,this.zero=new Ye(this,Int32Array.from([0])),this.one=new Ye(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new D;if(i===0)return this.zero;const s=new Int32Array(e+1);return s[0]=i,new Ye(this,s)}inverse(e){if(e===0)throw new xn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+tt.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}de.AZTEC_DATA_12=new de(4201,4096,1),de.AZTEC_DATA_10=new de(1033,1024,1),de.AZTEC_DATA_6=new de(67,64,1),de.AZTEC_PARAM=new de(19,16,1),de.QR_CODE_FIELD_256=new de(285,256,0),de.DATA_MATRIX_FIELD_256=new de(301,256,1),de.AZTEC_DATA_8=de.DATA_MATRIX_FIELD_256,de.MAXICODE_FIELD_64=de.AZTEC_DATA_6;class Mn extends S{}Mn.kind="ReedSolomonException";class Xe extends S{}Xe.kind="IllegalStateException";class Kn{constructor(e){this.field=e}decode(e,i){const s=this.field,c=new Ye(s,e),f=new Int32Array(i);let g=!0;for(let Y=0;Y<i;Y++){const K=c.evaluateAt(s.exp(Y+s.getGeneratorBase()));f[f.length-1-Y]=K,K!==0&&(g=!1)}if(g)return;const x=new Ye(s,f),v=this.runEuclideanAlgorithm(s.buildMonomial(i,1),x,i),b=v[0],I=v[1],P=this.findErrorLocations(b),z=this.findErrorMagnitudes(I,P);for(let Y=0;Y<P.length;Y++){const K=e.length-1-s.log(P[Y]);if(K<0)throw new Mn("Bad error location");e[K]=de.addOrSubtract(e[K],z[Y])}}runEuclideanAlgorithm(e,i,s){if(e.getDegree()<i.getDegree()){const Y=e;e=i,i=Y}const c=this.field;let f=e,g=i,x=c.getZero(),v=c.getOne();for(;g.getDegree()>=(s/2|0);){let Y=f,K=x;if(f=g,x=v,f.isZero())throw new Mn("r_{i-1} was zero");g=Y;let it=c.getZero();const pt=f.getCoefficient(f.getDegree()),Et=c.inverse(pt);for(;g.getDegree()>=f.getDegree()&&!g.isZero();){const Zt=g.getDegree()-f.getDegree(),Gt=c.multiply(g.getCoefficient(g.getDegree()),Et);it=it.addOrSubtract(c.buildMonomial(Zt,Gt)),g=g.addOrSubtract(f.multiplyByMonomial(Zt,Gt))}if(v=it.multiply(x).addOrSubtract(K),g.getDegree()>=f.getDegree())throw new Xe("Division algorithm failed to reduce polynomial?")}const b=v.getCoefficient(0);if(b===0)throw new Mn("sigmaTilde(0) was zero");const I=c.inverse(b),P=v.multiplyScalar(I),z=g.multiplyScalar(I);return[P,z]}findErrorLocations(e){const i=e.getDegree();if(i===1)return Int32Array.from([e.getCoefficient(1)]);const s=new Int32Array(i);let c=0;const f=this.field;for(let g=1;g<f.getSize()&&c<i;g++)e.evaluateAt(g)===0&&(s[c]=f.inverse(g),c++);if(c!==i)throw new Mn("Error locator degree does not match number of roots");return s}findErrorMagnitudes(e,i){const s=i.length,c=new Int32Array(s),f=this.field;for(let g=0;g<s;g++){const x=f.inverse(i[g]);let v=1;for(let b=0;b<s;b++)if(g!==b){const I=f.multiply(i[b],x),P=(I&1)===0?I|1:I&-2;v=f.multiply(v,P)}c[g]=f.multiply(e.evaluateAt(x),f.inverse(v)),f.getGeneratorBase()!==0&&(c[g]=f.multiply(c[g],x))}return c}}var oe;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(oe||(oe={}));class Xt{decode(e){this.ddata=e;let i=e.getBits(),s=this.extractBits(i),c=this.correctBits(s),f=Xt.convertBoolArrayToByteArray(c),g=Xt.getEncodedData(c),x=new Oe(f,g,null,null);return x.setNumBits(c.length),x}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let i=e.length,s=oe.UPPER,c=oe.UPPER,f="",g=0;for(;g<i;)if(c===oe.BINARY){if(i-g<5)break;let x=Xt.readCode(e,g,5);if(g+=5,x===0){if(i-g<11)break;x=Xt.readCode(e,g,11)+31,g+=11}for(let v=0;v<x;v++){if(i-g<8){g=i;break}const b=Xt.readCode(e,g,8);f+=Tt.castAsNonUtf8Char(b),g+=8}c=s}else{let x=c===oe.DIGIT?4:5;if(i-g<x)break;let v=Xt.readCode(e,g,x);g+=x;let b=Xt.getCharacter(c,v);b.startsWith("CTRL_")?(s=c,c=Xt.getTable(b.charAt(5)),b.charAt(6)==="L"&&(s=c)):(f+=b,c=s)}return f}static getTable(e){switch(e){case"L":return oe.LOWER;case"P":return oe.PUNCT;case"M":return oe.MIXED;case"D":return oe.DIGIT;case"B":return oe.BINARY;case"U":default:return oe.UPPER}}static getCharacter(e,i){switch(e){case oe.UPPER:return Xt.UPPER_TABLE[i];case oe.LOWER:return Xt.LOWER_TABLE[i];case oe.MIXED:return Xt.MIXED_TABLE[i];case oe.PUNCT:return Xt.PUNCT_TABLE[i];case oe.DIGIT:return Xt.DIGIT_TABLE[i];default:throw new Xe("Bad table")}}correctBits(e){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=de.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=de.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=de.AZTEC_DATA_10):(s=12,i=de.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),f=e.length/s;if(f<c)throw new ft;let g=e.length%s,x=new Int32Array(f);for(let z=0;z<f;z++,g+=s)x[z]=Xt.readCode(e,g,s);try{new Kn(i).decode(x,f-c)}catch(z){throw new ft(z)}let v=(1<<s)-1,b=0;for(let z=0;z<c;z++){let Y=x[z];if(Y===0||Y===v)throw new ft;(Y===1||Y===v-1)&&b++}let I=new Array(c*s-b),P=0;for(let z=0;z<c;z++){let Y=x[z];if(Y===1||Y===v-1)I.fill(Y>1,P,P+s-1),P+=s-1;else for(let K=s-1;K>=0;--K)I[P++]=(Y&1<<K)!==0}return I}extractBits(e){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),c=(i?11:14)+s*4,f=new Int32Array(c),g=new Array(this.totalBitsInLayer(s,i));if(i)for(let x=0;x<f.length;x++)f[x]=x;else{let x=c+1+2*tt.truncDivision(tt.truncDivision(c,2)-1,15),v=c/2,b=tt.truncDivision(x,2);for(let I=0;I<v;I++){let P=I+tt.truncDivision(I,15);f[v-I-1]=b-P-1,f[v+I]=b+P+1}}for(let x=0,v=0;x<s;x++){let b=(s-x)*4+(i?9:12),I=x*2,P=c-1-I;for(let z=0;z<b;z++){let Y=z*2;for(let K=0;K<2;K++)g[v+Y+K]=e.get(f[I+K],f[I+z]),g[v+2*b+Y+K]=e.get(f[I+z],f[P-K]),g[v+4*b+Y+K]=e.get(f[P-K],f[P-z]),g[v+6*b+Y+K]=e.get(f[P-z],f[I+K])}v+=b*8}return g}static readCode(e,i,s){let c=0;for(let f=i;f<i+s;f++)c<<=1,e[f]&&(c|=1);return c}static readByte(e,i){let s=e.length-i;return s>=8?Xt.readCode(e,i,8):Xt.readCode(e,i,s)<<8-s}static convertBoolArrayToByteArray(e){let i=new Uint8Array((e.length+7)/8);for(let s=0;s<i.length;s++)i[s]=Xt.readByte(e,8*s);return i}totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}Xt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class fe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,i,s,c){const f=e-s,g=i-c;return Math.sqrt(f*f+g*g)}static sum(e){let i=0;for(let s=0,c=e.length;s!==c;s++){const f=e[s];i+=f}return i}}class pi{static floatToIntBits(e){return e}}pi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Qt{constructor(e,i){this.x=e,this.y=i}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Qt){const i=e;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*pi.floatToIntBits(this.x)+pi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const i=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),c=this.distance(e[0],e[2]);let f,g,x;if(s>=i&&s>=c?(g=e[0],f=e[1],x=e[2]):c>=s&&c>=i?(g=e[1],f=e[0],x=e[2]):(g=e[2],f=e[0],x=e[1]),this.crossProductZ(f,g,x)<0){const v=f;f=x,x=v}e[0]=f,e[1]=g,e[2]=x}static distance(e,i){return fe.distance(e.x,e.y,i.x,i.y)}static crossProductZ(e,i,s){const c=i.x,f=i.y;return(s.x-c)*(e.y-f)-(s.y-f)*(e.x-c)}}class Ui{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Yi extends Ui{constructor(e,i,s,c,f){super(e,i),this.compact=s,this.nbDatablocks=c,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class zn{constructor(e,i,s,c){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),i==null&&(i=zn.INIT_SIZE),s==null&&(s=e.getWidth()/2|0),c==null&&(c=e.getHeight()/2|0);const f=i/2|0;if(this.leftInit=s-f,this.rightInit=s+f,this.upInit=c-f,this.downInit=c+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let e=this.leftInit,i=this.rightInit,s=this.upInit,c=this.downInit,f=!1,g=!0,x=!1,v=!1,b=!1,I=!1,P=!1;const z=this.width,Y=this.height;for(;g;){g=!1;let K=!0;for(;(K||!v)&&i<z;)K=this.containsBlackPoint(s,c,i,!1),K?(i++,g=!0,v=!0):v||i++;if(i>=z){f=!0;break}let it=!0;for(;(it||!b)&&c<Y;)it=this.containsBlackPoint(e,i,c,!0),it?(c++,g=!0,b=!0):b||c++;if(c>=Y){f=!0;break}let pt=!0;for(;(pt||!I)&&e>=0;)pt=this.containsBlackPoint(s,c,e,!1),pt?(e--,g=!0,I=!0):I||e--;if(e<0){f=!0;break}let Et=!0;for(;(Et||!P)&&s>=0;)Et=this.containsBlackPoint(e,i,s,!0),Et?(s--,g=!0,P=!0):P||s--;if(s<0){f=!0;break}g&&(x=!0)}if(!f&&x){const K=i-e;let it=null;for(let Gt=1;it===null&&Gt<K;Gt++)it=this.getBlackPointOnSegment(e,c-Gt,e+Gt,c);if(it==null)throw new q;let pt=null;for(let Gt=1;pt===null&&Gt<K;Gt++)pt=this.getBlackPointOnSegment(e,s+Gt,e+Gt,s);if(pt==null)throw new q;let Et=null;for(let Gt=1;Et===null&&Gt<K;Gt++)Et=this.getBlackPointOnSegment(i,s+Gt,i-Gt,s);if(Et==null)throw new q;let Zt=null;for(let Gt=1;Zt===null&&Gt<K;Gt++)Zt=this.getBlackPointOnSegment(i,c-Gt,i-Gt,c);if(Zt==null)throw new q;return this.centerEdges(Zt,it,Et,pt)}else throw new q}getBlackPointOnSegment(e,i,s,c){const f=fe.round(fe.distance(e,i,s,c)),g=(s-e)/f,x=(c-i)/f,v=this.image;for(let b=0;b<f;b++){const I=fe.round(e+b*g),P=fe.round(i+b*x);if(v.get(I,P))return new Qt(I,P)}return null}centerEdges(e,i,s,c){const f=e.getX(),g=e.getY(),x=i.getX(),v=i.getY(),b=s.getX(),I=s.getY(),P=c.getX(),z=c.getY(),Y=zn.CORR;return f<this.width/2?[new Qt(P-Y,z+Y),new Qt(x+Y,v+Y),new Qt(b-Y,I-Y),new Qt(f+Y,g-Y)]:[new Qt(P+Y,z+Y),new Qt(x+Y,v-Y),new Qt(b-Y,I+Y),new Qt(f-Y,g-Y)]}containsBlackPoint(e,i,s,c){const f=this.image;if(c){for(let g=e;g<=i;g++)if(f.get(g,s))return!0}else for(let g=e;g<=i;g++)if(f.get(s,g))return!0;return!1}}zn.INIT_SIZE=10,zn.CORR=1;class nr{static checkAndNudgePoints(e,i){const s=e.getWidth(),c=e.getHeight();let f=!0;for(let g=0;g<i.length&&f;g+=2){const x=Math.floor(i[g]),v=Math.floor(i[g+1]);if(x<-1||x>s||v<-1||v>c)throw new q;f=!1,x===-1?(i[g]=0,f=!0):x===s&&(i[g]=s-1,f=!0),v===-1?(i[g+1]=0,f=!0):v===c&&(i[g+1]=c-1,f=!0)}f=!0;for(let g=i.length-2;g>=0&&f;g-=2){const x=Math.floor(i[g]),v=Math.floor(i[g+1]);if(x<-1||x>s||v<-1||v>c)throw new q;f=!1,x===-1?(i[g]=0,f=!0):x===s&&(i[g]=s-1,f=!0),v===-1?(i[g+1]=0,f=!0):v===c&&(i[g+1]=c-1,f=!0)}}}class an{constructor(e,i,s,c,f,g,x,v,b){this.a11=e,this.a21=i,this.a31=s,this.a12=c,this.a22=f,this.a32=g,this.a13=x,this.a23=v,this.a33=b}static quadrilateralToQuadrilateral(e,i,s,c,f,g,x,v,b,I,P,z,Y,K,it,pt){const Et=an.quadrilateralToSquare(e,i,s,c,f,g,x,v);return an.squareToQuadrilateral(b,I,P,z,Y,K,it,pt).times(Et)}transformPoints(e){const i=e.length,s=this.a11,c=this.a12,f=this.a13,g=this.a21,x=this.a22,v=this.a23,b=this.a31,I=this.a32,P=this.a33;for(let z=0;z<i;z+=2){const Y=e[z],K=e[z+1],it=f*Y+v*K+P;e[z]=(s*Y+g*K+b)/it,e[z+1]=(c*Y+x*K+I)/it}}transformPointsWithValues(e,i){const s=this.a11,c=this.a12,f=this.a13,g=this.a21,x=this.a22,v=this.a23,b=this.a31,I=this.a32,P=this.a33,z=e.length;for(let Y=0;Y<z;Y++){const K=e[Y],it=i[Y],pt=f*K+v*it+P;e[Y]=(s*K+g*it+b)/pt,i[Y]=(c*K+x*it+I)/pt}}static squareToQuadrilateral(e,i,s,c,f,g,x,v){const b=e-s+f-x,I=i-c+g-v;if(b===0&&I===0)return new an(s-e,f-s,e,c-i,g-c,i,0,0,1);{const P=s-f,z=x-f,Y=c-g,K=v-g,it=P*K-z*Y,pt=(b*K-z*I)/it,Et=(P*I-b*Y)/it;return new an(s-e+pt*s,x-e+Et*x,e,c-i+pt*c,v-i+Et*v,i,pt,Et,1)}}static quadrilateralToSquare(e,i,s,c,f,g,x,v){return an.squareToQuadrilateral(e,i,s,c,f,g,x,v).buildAdjoint()}buildAdjoint(){return new an(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new an(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class _n extends nr{sampleGrid(e,i,s,c,f,g,x,v,b,I,P,z,Y,K,it,pt,Et,Zt,Gt){const Ht=an.quadrilateralToQuadrilateral(c,f,g,x,v,b,I,P,z,Y,K,it,pt,Et,Zt,Gt);return this.sampleGridWithTransform(e,i,s,Ht)}sampleGridWithTransform(e,i,s,c){if(i<=0||s<=0)throw new q;const f=new X(i,s),g=new Float32Array(2*i);for(let x=0;x<s;x++){const v=g.length,b=x+.5;for(let I=0;I<v;I+=2)g[I]=I/2+.5,g[I+1]=b;c.transformPoints(g),nr.checkAndNudgePoints(e,g);try{for(let I=0;I<v;I+=2)e.get(Math.floor(g[I]),Math.floor(g[I+1]))&&f.set(I/2,x)}catch{throw new q}}return f}}class yn{static setGridSampler(e){yn.gridSampler=e}static getInstance(){return yn.gridSampler}}yn.gridSampler=new _n;class Be{constructor(e,i){this.x=e,this.y=i}toResultPoint(){return new Qt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class mr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(e){let g=s[0];s[0]=s[2],s[2]=g}this.extractParameters(s);let c=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),f=this.getMatrixCornerPoints(s);return new Yi(c,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new q;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],i),this.sampleLine(e[1],e[2],i),this.sampleLine(e[2],e[3],i),this.sampleLine(e[3],e[0],i)]);this.shift=this.getRotation(s,i);let c=0;for(let g=0;g<4;g++){let x=s[(this.shift+g)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let f=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(e,i){let s=0;e.forEach((c,f,g)=>{let x=(c>>i-2<<1)+(c&1);s=(s<<3)+x}),s=((s&1)<<11)+(s>>1);for(let c=0;c<4;c++)if(tt.bitCount(s^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new q}getCorrectedParameterData(e,i){let s,c;i?(s=7,c=2):(s=10,c=4);let f=s-c,g=new Int32Array(s);for(let v=s-1;v>=0;--v)g[v]=e&15,e>>=4;try{new Kn(de.AZTEC_PARAM).decode(g,f)}catch{throw new q}let x=0;for(let v=0;v<c;v++)x=(x<<4)+g[v];return x}getBullsEyeCorners(e){let i=e,s=e,c=e,f=e,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let P=this.getFirstDifferent(i,g,1,-1),z=this.getFirstDifferent(s,g,1,1),Y=this.getFirstDifferent(c,g,-1,1),K=this.getFirstDifferent(f,g,-1,-1);if(this.nbCenterLayers>2){let it=this.distancePoint(K,P)*this.nbCenterLayers/(this.distancePoint(f,i)*(this.nbCenterLayers+2));if(it<.75||it>1.25||!this.isWhiteOrBlackRectangle(P,z,Y,K))break}i=P,s=z,c=Y,f=K,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let x=new Qt(i.getX()+.5,i.getY()-.5),v=new Qt(s.getX()+.5,s.getY()+.5),b=new Qt(c.getX()-.5,c.getY()+.5),I=new Qt(f.getX()-.5,f.getY()-.5);return this.expandSquare([x,v,b,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,i,s,c;try{let x=new zn(this.image).detect();e=x[0],i=x[1],s=x[2],c=x[3]}catch{let v=this.image.getWidth()/2,b=this.image.getHeight()/2;e=this.getFirstDifferent(new Be(v+7,b-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Be(v+7,b+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Be(v-7,b+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Be(v-7,b-7),!1,-1,-1).toResultPoint()}let f=fe.round((e.getX()+c.getX()+i.getX()+s.getX())/4),g=fe.round((e.getY()+c.getY()+i.getY()+s.getY())/4);try{let x=new zn(this.image,15,f,g).detect();e=x[0],i=x[1],s=x[2],c=x[3]}catch{e=this.getFirstDifferent(new Be(f+7,g-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Be(f+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Be(f-7,g+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Be(f-7,g-7),!1,-1,-1).toResultPoint()}return f=fe.round((e.getX()+c.getX()+i.getX()+s.getX())/4),g=fe.round((e.getY()+c.getY()+i.getY()+s.getY())/4),new Be(f,g)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,i,s,c,f){let g=yn.getInstance(),x=this.getDimension(),v=x/2-this.nbCenterLayers,b=x/2+this.nbCenterLayers;return g.sampleGrid(e,x,x,v,v,b,v,b,b,v,b,i.getX(),i.getY(),s.getX(),s.getY(),c.getX(),c.getY(),f.getX(),f.getY())}sampleLine(e,i,s){let c=0,f=this.distanceResultPoint(e,i),g=f/s,x=e.getX(),v=e.getY(),b=g*(i.getX()-e.getX())/f,I=g*(i.getY()-e.getY())/f;for(let P=0;P<s;P++)this.image.get(fe.round(x+P*b),fe.round(v+P*I))&&(c|=1<<s-P-1);return c}isWhiteOrBlackRectangle(e,i,s,c){let f=3;e=new Be(e.getX()-f,e.getY()+f),i=new Be(i.getX()-f,i.getY()-f),s=new Be(s.getX()+f,s.getY()-f),c=new Be(c.getX()+f,c.getY()+f);let g=this.getColor(c,e);if(g===0)return!1;let x=this.getColor(e,i);return x!==g||(x=this.getColor(i,s),x!==g)?!1:(x=this.getColor(s,c),x===g)}getColor(e,i){let s=this.distancePoint(e,i),c=(i.getX()-e.getX())/s,f=(i.getY()-e.getY())/s,g=0,x=e.getX(),v=e.getY(),b=this.image.get(e.getX(),e.getY()),I=Math.ceil(s);for(let z=0;z<I;z++)x+=c,v+=f,this.image.get(fe.round(x),fe.round(v))!==b&&g++;let P=g/s;return P>.1&&P<.9?0:P<=.1===b?1:-1}getFirstDifferent(e,i,s,c){let f=e.getX()+s,g=e.getY()+c;for(;this.isValid(f,g)&&this.image.get(f,g)===i;)f+=s,g+=c;for(f-=s,g-=c;this.isValid(f,g)&&this.image.get(f,g)===i;)f+=s;for(f-=s;this.isValid(f,g)&&this.image.get(f,g)===i;)g+=c;return g-=c,new Be(f,g)}expandSquare(e,i,s){let c=s/(2*i),f=e[0].getX()-e[2].getX(),g=e[0].getY()-e[2].getY(),x=(e[0].getX()+e[2].getX())/2,v=(e[0].getY()+e[2].getY())/2,b=new Qt(x+c*f,v+c*g),I=new Qt(x-c*f,v-c*g);f=e[1].getX()-e[3].getX(),g=e[1].getY()-e[3].getY(),x=(e[1].getX()+e[3].getX())/2,v=(e[1].getY()+e[3].getY())/2;let P=new Qt(x+c*f,v+c*g),z=new Qt(x-c*f,v-c*g);return[b,P,I,z]}isValid(e,i){return e>=0&&e<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(e){let i=fe.round(e.getX()),s=fe.round(e.getY());return this.isValid(i,s)}distancePoint(e,i){return fe.distance(e.getX(),e.getY(),i.getX(),i.getY())}distanceResultPoint(e,i){return fe.distance(e.getX(),e.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(tt.truncDivision(this.nbLayers-4,8)+1)+15}}class Sn{decode(e,i=null){let s=null,c=new mr(e.getBlackMatrix()),f=null,g=null;try{let I=c.detectMirror(!1);f=I.getPoints(),this.reportFoundResultPoints(i,f),g=new Xt().decode(I)}catch(I){s=I}if(g==null)try{let I=c.detectMirror(!0);f=I.getPoints(),this.reportFoundResultPoints(i,f),g=new Xt().decode(I)}catch(I){throw s??I}let x=new At(g.getText(),g.getRawBytes(),g.getNumBits(),f,_t.AZTEC,j.currentTimeMillis()),v=g.getByteSegments();v!=null&&x.putMetadata(qt.BYTE_SEGMENTS,v);let b=g.getECLevel();return b!=null&&x.putMetadata(qt.ERROR_CORRECTION_LEVEL,b),x}reportFoundResultPoints(e,i){if(e!=null){let s=e.get(Nt.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((c,f,g)=>{s.foundPossibleResultPoint(c)})}}reset(){}}class Ii extends vt{constructor(e=500){super(new Sn,e)}}class Ve{decode(e,i){try{return this.doDecode(e,i)}catch{if(i&&i.get(Nt.TRY_HARDER)===!0&&e.isRotateSupported()){const f=e.rotateCounterClockwise(),g=this.doDecode(f,i),x=g.getResultMetadata();let v=270;x!==null&&x.get(qt.ORIENTATION)===!0&&(v=v+x.get(qt.ORIENTATION)%360),g.putMetadata(qt.ORIENTATION,v);const b=g.getResultPoints();if(b!==null){const I=f.getHeight();for(let P=0;P<b.length;P++)b[P]=new Qt(I-b[P].getY()-1,b[P].getX())}return g}else throw new q}}reset(){}doDecode(e,i){const s=e.getWidth(),c=e.getHeight();let f=new nt(s);const g=i&&i.get(Nt.TRY_HARDER)===!0,x=Math.max(1,c>>(g?8:5));let v;g?v=c:v=15;const b=Math.trunc(c/2);for(let I=0;I<v;I++){const P=Math.trunc((I+1)/2),z=(I&1)===0,Y=b+x*(z?P:-P);if(Y<0||Y>=c)break;try{f=e.getBlackRow(Y,f)}catch{continue}for(let K=0;K<2;K++){if(K===1&&(f.reverse(),i&&i.get(Nt.NEED_RESULT_POINT_CALLBACK)===!0)){const it=new Map;i.forEach((pt,Et)=>it.set(Et,pt)),it.delete(Nt.NEED_RESULT_POINT_CALLBACK),i=it}try{const it=this.decodeRow(Y,f,i);if(K===1){it.putMetadata(qt.ORIENTATION,180);const pt=it.getResultPoints();pt!==null&&(pt[0]=new Qt(s-pt[0].getX()-1,pt[0].getY()),pt[1]=new Qt(s-pt[1].getX()-1,pt[1].getY()))}return it}catch{}}}throw new q}static recordPattern(e,i,s){const c=s.length;for(let b=0;b<c;b++)s[b]=0;const f=e.getSize();if(i>=f)throw new q;let g=!e.get(i),x=0,v=i;for(;v<f;){if(e.get(v)!==g)s[x]++;else{if(++x===c)break;s[x]=1,g=!g}v++}if(!(x===c||x===c-1&&v===f))throw new q}static recordPatternInReverse(e,i,s){let c=s.length,f=e.get(i);for(;i>0&&c>=0;)e.get(--i)!==f&&(c--,f=!f);if(c>=0)throw new q;Ve.recordPattern(e,i+1,s)}static patternMatchVariance(e,i,s){const c=e.length;let f=0,g=0;for(let b=0;b<c;b++)f+=e[b],g+=i[b];if(f<g)return Number.POSITIVE_INFINITY;const x=f/g;s*=x;let v=0;for(let b=0;b<c;b++){const I=e[b],P=i[b]*x,z=I>P?I-P:P-I;if(z>s)return Number.POSITIVE_INFINITY;v+=z}return v/f}}class Vt extends Ve{static findStartPattern(e){const i=e.getSize(),s=e.getNextSet(0);let c=0,f=Int32Array.from([0,0,0,0,0,0]),g=s,x=!1;const v=6;for(let b=s;b<i;b++)if(e.get(b)!==x)f[c]++;else{if(c===v-1){let I=Vt.MAX_AVG_VARIANCE,P=-1;for(let z=Vt.CODE_START_A;z<=Vt.CODE_START_C;z++){const Y=Ve.patternMatchVariance(f,Vt.CODE_PATTERNS[z],Vt.MAX_INDIVIDUAL_VARIANCE);Y<I&&(I=Y,P=z)}if(P>=0&&e.isRange(Math.max(0,g-(b-g)/2),g,!1))return Int32Array.from([g,b,P]);g+=f[0]+f[1],f=f.slice(2,f.length-1),f[c-1]=0,f[c]=0,c--}else c++;f[c]=1,x=!x}throw new q}static decodeCode(e,i,s){Ve.recordPattern(e,s,i);let c=Vt.MAX_AVG_VARIANCE,f=-1;for(let g=0;g<Vt.CODE_PATTERNS.length;g++){const x=Vt.CODE_PATTERNS[g],v=this.patternMatchVariance(i,x,Vt.MAX_INDIVIDUAL_VARIANCE);v<c&&(c=v,f=g)}if(f>=0)return f;throw new q}decodeRow(e,i,s){const c=s&&s.get(Nt.ASSUME_GS1)===!0,f=Vt.findStartPattern(i),g=f[2];let x=0;const v=new Uint8Array(20);v[x++]=g;let b;switch(g){case Vt.CODE_START_A:b=Vt.CODE_CODE_A;break;case Vt.CODE_START_B:b=Vt.CODE_CODE_B;break;case Vt.CODE_START_C:b=Vt.CODE_CODE_C;break;default:throw new ft}let I=!1,P=!1,z="",Y=f[0],K=f[1];const it=Int32Array.from([0,0,0,0,0,0]);let pt=0,Et=0,Zt=g,Gt=0,Ht=!0,ye=!1,we=!1;for(;!I;){const Zi=P;switch(P=!1,pt=Et,Et=Vt.decodeCode(i,it,K),v[x++]=Et,Et!==Vt.CODE_STOP&&(Ht=!0),Et!==Vt.CODE_STOP&&(Gt++,Zt+=Gt*Et),Y=K,K+=it.reduce((Ki,aa)=>Ki+aa,0),Et){case Vt.CODE_START_A:case Vt.CODE_START_B:case Vt.CODE_START_C:throw new ft}switch(b){case Vt.CODE_CODE_A:if(Et<64)we===ye?z+=String.fromCharCode(32+Et):z+=String.fromCharCode(32+Et+128),we=!1;else if(Et<96)we===ye?z+=String.fromCharCode(Et-64):z+=String.fromCharCode(Et+64),we=!1;else switch(Et!==Vt.CODE_STOP&&(Ht=!1),Et){case Vt.CODE_FNC_1:c&&(z.length===0?z+="]C1":z+="");break;case Vt.CODE_FNC_2:case Vt.CODE_FNC_3:break;case Vt.CODE_FNC_4_A:!ye&&we?(ye=!0,we=!1):ye&&we?(ye=!1,we=!1):we=!0;break;case Vt.CODE_SHIFT:P=!0,b=Vt.CODE_CODE_B;break;case Vt.CODE_CODE_B:b=Vt.CODE_CODE_B;break;case Vt.CODE_CODE_C:b=Vt.CODE_CODE_C;break;case Vt.CODE_STOP:I=!0;break}break;case Vt.CODE_CODE_B:if(Et<96)we===ye?z+=String.fromCharCode(32+Et):z+=String.fromCharCode(32+Et+128),we=!1;else switch(Et!==Vt.CODE_STOP&&(Ht=!1),Et){case Vt.CODE_FNC_1:c&&(z.length===0?z+="]C1":z+="");break;case Vt.CODE_FNC_2:case Vt.CODE_FNC_3:break;case Vt.CODE_FNC_4_B:!ye&&we?(ye=!0,we=!1):ye&&we?(ye=!1,we=!1):we=!0;break;case Vt.CODE_SHIFT:P=!0,b=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_A:b=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_C:b=Vt.CODE_CODE_C;break;case Vt.CODE_STOP:I=!0;break}break;case Vt.CODE_CODE_C:if(Et<100)Et<10&&(z+="0"),z+=Et;else switch(Et!==Vt.CODE_STOP&&(Ht=!1),Et){case Vt.CODE_FNC_1:c&&(z.length===0?z+="]C1":z+="");break;case Vt.CODE_CODE_A:b=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_B:b=Vt.CODE_CODE_B;break;case Vt.CODE_STOP:I=!0;break}break}Zi&&(b=b===Vt.CODE_CODE_A?Vt.CODE_CODE_B:Vt.CODE_CODE_A)}const dn=K-Y;if(K=i.getNextUnset(K),!i.isRange(K,Math.min(i.getSize(),K+(K-Y)/2),!1))throw new q;if(Zt-=Gt*pt,Zt%103!==pt)throw new V;const hi=z.length;if(hi===0)throw new q;hi>0&&Ht&&(b===Vt.CODE_CODE_C?z=z.substring(0,hi-2):z=z.substring(0,hi-1));const bi=(f[1]+f[0])/2,qe=Y+dn/2,ii=v.length,di=new Uint8Array(ii);for(let Zi=0;Zi<ii;Zi++)di[Zi]=v[Zi];const ra=[new Qt(bi,e),new Qt(qe,e)];return new At(z,di,0,ra,_t.CODE_128,new Date().getTime())}}Vt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Vt.MAX_AVG_VARIANCE=.25,Vt.MAX_INDIVIDUAL_VARIANCE=.7,Vt.CODE_SHIFT=98,Vt.CODE_CODE_C=99,Vt.CODE_CODE_B=100,Vt.CODE_CODE_A=101,Vt.CODE_FNC_1=102,Vt.CODE_FNC_2=97,Vt.CODE_FNC_3=96,Vt.CODE_FNC_4_A=101,Vt.CODE_FNC_4_B=100,Vt.CODE_START_A=103,Vt.CODE_START_B=104,Vt.CODE_START_C=105,Vt.CODE_STOP=106;class Pe extends Ve{constructor(e=!1,i=!1){super(),this.usingCheckDigit=e,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,i,s){let c=this.counters;c.fill(0),this.decodeRowResult="";let f=Pe.findAsteriskPattern(i,c),g=i.getNextSet(f[1]),x=i.getSize(),v,b;do{Pe.recordPattern(i,g,c);let it=Pe.toNarrowWidePattern(c);if(it<0)throw new q;v=Pe.patternToChar(it),this.decodeRowResult+=v,b=g;for(let pt of c)g+=pt;g=i.getNextSet(g)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let it of c)I+=it;let P=g-b-I;if(g!==x&&P*2<I)throw new q;if(this.usingCheckDigit){let it=this.decodeRowResult.length-1,pt=0;for(let Et=0;Et<it;Et++)pt+=Pe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Et));if(this.decodeRowResult.charAt(it)!==Pe.ALPHABET_STRING.charAt(pt%43))throw new V;this.decodeRowResult=this.decodeRowResult.substring(0,it)}if(this.decodeRowResult.length===0)throw new q;let z;this.extendedMode?z=Pe.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;let Y=(f[1]+f[0])/2,K=b+I/2;return new At(z,null,0,[new Qt(Y,e),new Qt(K,e)],_t.CODE_39,new Date().getTime())}static findAsteriskPattern(e,i){let s=e.getSize(),c=e.getNextSet(0),f=0,g=c,x=!1,v=i.length;for(let b=c;b<s;b++)if(e.get(b)!==x)i[f]++;else{if(f===v-1){if(this.toNarrowWidePattern(i)===Pe.ASTERISK_ENCODING&&e.isRange(Math.max(0,g-Math.floor((b-g)/2)),g,!1))return[g,b];g+=i[0]+i[1],i.copyWithin(0,2,2+f-1),i[f-1]=0,i[f]=0,f--}else f++;i[f]=1,x=!x}throw new q}static toNarrowWidePattern(e){let i=e.length,s=0,c;do{let f=2147483647;for(let v of e)v<f&&v>s&&(f=v);s=f,c=0;let g=0,x=0;for(let v=0;v<i;v++){let b=e[v];b>s&&(x|=1<<i-1-v,c++,g+=b)}if(c===3){for(let v=0;v<i&&c>0;v++){let b=e[v];if(b>s&&(c--,b*2>=g))return-1}return x}}while(c>3);return-1}static patternToChar(e){for(let i=0;i<Pe.CHARACTER_ENCODINGS.length;i++)if(Pe.CHARACTER_ENCODINGS[i]===e)return Pe.ALPHABET_STRING.charAt(i);if(e===Pe.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(e){let i=e.length,s="";for(let c=0;c<i;c++){let f=e.charAt(c);if(f==="+"||f==="$"||f==="%"||f==="/"){let g=e.charAt(c+1),x="\0";switch(f){case"+":if(g>="A"&&g<="Z")x=String.fromCharCode(g.charCodeAt(0)+32);else throw new ft;break;case"$":if(g>="A"&&g<="Z")x=String.fromCharCode(g.charCodeAt(0)-64);else throw new ft;break;case"%":if(g>="A"&&g<="E")x=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")x=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")x=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")x=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")x="\0";else if(g==="V")x="@";else if(g==="W")x="`";else if(g==="X"||g==="Y"||g==="Z")x="";else throw new ft;break;case"/":if(g>="A"&&g<="O")x=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")x=":";else throw new ft;break}s+=x,c++}else s+=f}return s}}Pe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pe.ASTERISK_ENCODING=148;class be extends Ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,i,s){let c=this.decodeStart(i),f=this.decodeEnd(i),g=new Lt;be.decodeMiddle(i,c[1],f[0],g);let x=g.toString(),v=null;s!=null&&(v=s.get(Nt.ALLOWED_LENGTHS)),v==null&&(v=be.DEFAULT_ALLOWED_LENGTHS);let b=x.length,I=!1,P=0;for(let K of v){if(b===K){I=!0;break}K>P&&(P=K)}if(!I&&b>P&&(I=!0),!I)throw new ft;const z=[new Qt(c[1],e),new Qt(f[0],e)];return new At(x,null,0,z,_t.ITF,new Date().getTime())}static decodeMiddle(e,i,s,c){let f=new Int32Array(10),g=new Int32Array(5),x=new Int32Array(5);for(f.fill(0),g.fill(0),x.fill(0);i<s;){Ve.recordPattern(e,i,f);for(let b=0;b<5;b++){let I=2*b;g[b]=f[I],x[b]=f[I+1]}let v=be.decodeDigit(g);c.append(v.toString()),v=this.decodeDigit(x),c.append(v.toString()),f.forEach(function(b){i+=b})}}decodeStart(e){let i=be.skipWhiteSpace(e),s=be.findGuardPattern(e,i,be.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(e,s[0]),s}validateQuietZone(e,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let c=i-1;s>0&&c>=0&&!e.get(c);c--)s--;if(s!==0)throw new q}static skipWhiteSpace(e){const i=e.getSize(),s=e.getNextSet(0);if(s===i)throw new q;return s}decodeEnd(e){e.reverse();try{let i=be.skipWhiteSpace(e),s;try{s=be.findGuardPattern(e,i,be.END_PATTERN_REVERSED[0])}catch(f){f instanceof q&&(s=be.findGuardPattern(e,i,be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,s[0]);let c=s[0];return s[0]=e.getSize()-s[1],s[1]=e.getSize()-c,s}finally{e.reverse()}}static findGuardPattern(e,i,s){let c=s.length,f=new Int32Array(c),g=e.getSize(),x=!1,v=0,b=i;f.fill(0);for(let I=i;I<g;I++)if(e.get(I)!==x)f[v]++;else{if(v===c-1){if(Ve.patternMatchVariance(f,s,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return[b,I];b+=f[0]+f[1],j.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,x=!x}throw new q}static decodeDigit(e){let i=be.MAX_AVG_VARIANCE,s=-1,c=be.PATTERNS.length;for(let f=0;f<c;f++){let g=be.PATTERNS[f],x=Ve.patternMatchVariance(e,g,be.MAX_INDIVIDUAL_VARIANCE);x<i?(i=x,s=f):x===i&&(s=-1)}if(s>=0)return s%10;throw new q}}be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],be.MAX_AVG_VARIANCE=.38,be.MAX_INDIVIDUAL_VARIANCE=.5,be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],be.START_PATTERN=Int32Array.from([1,1,1,1]),be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ae extends Ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let i=!1,s,c=0,f=Int32Array.from([0,0,0]);for(;!i;){f=Int32Array.from([0,0,0]),s=Ae.findGuardPattern(e,c,!1,this.START_END_PATTERN,f);let g=s[0];c=s[1];let x=g-(c-g);x>=0&&(i=e.isRange(x,g,!1))}return s}static checkChecksum(e){return Ae.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let s=parseInt(e.charAt(i-1),10);return Ae.getStandardUPCEANChecksum(e.substring(0,i-1))===s}static getStandardUPCEANChecksum(e){let i=e.length,s=0;for(let c=i-1;c>=0;c-=2){let f=e.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new ft;s+=f}s*=3;for(let c=i-2;c>=0;c-=2){let f=e.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new ft;s+=f}return(1e3-s)%10}static decodeEnd(e,i){return Ae.findGuardPattern(e,i,!1,Ae.START_END_PATTERN,new Int32Array(Ae.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,i,s,c){return this.findGuardPattern(e,i,s,c,new Int32Array(c.length))}static findGuardPattern(e,i,s,c,f){let g=e.getSize();i=s?e.getNextUnset(i):e.getNextSet(i);let x=0,v=i,b=c.length,I=s;for(let P=i;P<g;P++)if(e.get(P)!==I)f[x]++;else{if(x===b-1){if(Ve.patternMatchVariance(f,c,Ae.MAX_INDIVIDUAL_VARIANCE)<Ae.MAX_AVG_VARIANCE)return Int32Array.from([v,P]);v+=f[0]+f[1];let z=f.slice(2,f.length-1);for(let Y=0;Y<x-1;Y++)f[Y]=z[Y];f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,I=!I}throw new q}static decodeDigit(e,i,s,c){this.recordPattern(e,s,i);let f=this.MAX_AVG_VARIANCE,g=-1,x=c.length;for(let v=0;v<x;v++){let b=c[v],I=Ve.patternMatchVariance(i,b,Ae.MAX_INDIVIDUAL_VARIANCE);I<f&&(f=I,g=v)}if(g>=0)return g;throw new q}}Ae.MAX_AVG_VARIANCE=.48,Ae.MAX_INDIVIDUAL_VARIANCE=.7,Ae.START_END_PATTERN=Int32Array.from([1,1,1]),Ae.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ae.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ae.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,s){let c=this.decodeRowStringBuffer,f=this.decodeMiddle(i,s,c),g=c.toString(),x=Xi.parseExtensionString(g),v=[new Qt((s[0]+s[1])/2,e),new Qt(f,e)],b=new At(g,null,0,v,_t.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(e,i,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=e.getSize(),g=i[1],x=0;for(let b=0;b<5&&g<f;b++){let I=Ae.decodeDigit(e,c,g,Ae.L_AND_G_PATTERNS);s+=String.fromCharCode(48+I%10);for(let P of c)g+=P;I>=10&&(x|=1<<4-b),b!==4&&(g=e.getNextSet(g),g=e.getNextUnset(g))}if(s.length!==5)throw new q;let v=this.determineCheckDigit(x);if(Xi.extensionChecksum(s.toString())!==v)throw new q;return g}static extensionChecksum(e){let i=e.length,s=0;for(let c=i-2;c>=0;c-=2)s+=e.charAt(c).charCodeAt(0)-48;s*=3;for(let c=i-1;c>=0;c-=2)s+=e.charAt(c).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(e){for(let i=0;i<10;i++)if(e===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new q}static parseExtensionString(e){if(e.length!==5)return null;let i=Xi.parseExtension5String(e);return i==null?null:new Map([[qt.SUGGESTED_PRICE,i]])}static parseExtension5String(e){let i;switch(e.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(e.substring(1)),c=(s/100).toString(),f=s%100,g=f<10?"0"+f:f.toString();return i+c+"."+g}}class zr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,s){let c=this.decodeRowStringBuffer,f=this.decodeMiddle(i,s,c),g=c.toString(),x=zr.parseExtensionString(g),v=[new Qt((s[0]+s[1])/2,e),new Qt(f,e)],b=new At(g,null,0,v,_t.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(e,i,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=e.getSize(),g=i[1],x=0;for(let v=0;v<2&&g<f;v++){let b=Ae.decodeDigit(e,c,g,Ae.L_AND_G_PATTERNS);s+=String.fromCharCode(48+b%10);for(let I of c)g+=I;b>=10&&(x|=1<<1-v),v!==1&&(g=e.getNextSet(g),g=e.getNextUnset(g))}if(s.length!==2)throw new q;if(parseInt(s.toString())%4!==x)throw new q;return g}static parseExtensionString(e){return e.length!==2?null:new Map([[qt.ISSUE_NUMBER,parseInt(e)]])}}class ir{static decodeRow(e,i,s){let c=Ae.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xi().decodeRow(e,i,c)}catch{return new zr().decodeRow(e,i,c)}}}ir.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Te extends Ae{constructor(){super(),this.decodeRowStringBuffer="",Te.L_AND_G_PATTERNS=Te.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let i=Te.L_PATTERNS[e-10],s=new Int32Array(i.length);for(let c=0;c<i.length;c++)s[c]=i[i.length-c-1];Te.L_AND_G_PATTERNS[e]=s}}decodeRow(e,i,s){let c=Te.findStartGuardPattern(i),f=s==null?null:s.get(Nt.NEED_RESULT_POINT_CALLBACK);if(f!=null){const Ht=new Qt((c[0]+c[1])/2,e);f.foundPossibleResultPoint(Ht)}let g=this.decodeMiddle(i,c,this.decodeRowStringBuffer),x=g.rowOffset,v=g.resultString;if(f!=null){const Ht=new Qt(x,e);f.foundPossibleResultPoint(Ht)}let b=this.decodeEnd(i,x);if(f!=null){const Ht=new Qt((b[0]+b[1])/2,e);f.foundPossibleResultPoint(Ht)}let I=b[1],P=I+(I-b[0]);if(P>=i.getSize()||!i.isRange(I,P,!1))throw new q;let z=v.toString();if(z.length<8)throw new ft;if(!Te.checkChecksum(z))throw new V;let Y=(c[1]+c[0])/2,K=(b[1]+b[0])/2,it=this.getBarcodeFormat(),pt=[new Qt(Y,e),new Qt(K,e)],Et=new At(z,null,0,pt,it,new Date().getTime()),Zt=0;try{let Ht=ir.decodeRow(e,i,b[1]);Et.putMetadata(qt.UPC_EAN_EXTENSION,Ht.getText()),Et.putAllMetadata(Ht.getResultMetadata()),Et.addResultPoints(Ht.getResultPoints()),Zt=Ht.getText().length}catch{}let Gt=s==null?null:s.get(Nt.ALLOWED_EAN_EXTENSIONS);if(Gt!=null){let Ht=!1;for(let ye in Gt)if(Zt.toString()===ye){Ht=!0;break}if(!Ht)throw new q}return Et}decodeEnd(e,i){return Te.findGuardPattern(e,i,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Te.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let s=parseInt(e.charAt(i-1),10);return Te.getStandardUPCEANChecksum(e.substring(0,i-1))===s}static getStandardUPCEANChecksum(e){let i=e.length,s=0;for(let c=i-1;c>=0;c-=2){let f=e.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new ft;s+=f}s*=3;for(let c=i-2;c>=0;c-=2){let f=e.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new ft;s+=f}return(1e3-s)%10}}class li extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=e.getSize(),g=i[1],x=0;for(let b=0;b<6&&g<f;b++){let I=Te.decodeDigit(e,c,g,Te.L_AND_G_PATTERNS);s+=String.fromCharCode(48+I%10);for(let P of c)g+=P;I>=10&&(x|=1<<5-b)}s=li.determineFirstDigit(s,x),g=Te.findGuardPattern(e,g,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&g<f;b++){let I=Te.decodeDigit(e,c,g,Te.L_PATTERNS);s+=String.fromCharCode(48+I);for(let P of c)g+=P}return{rowOffset:g,resultString:s}}getBarcodeFormat(){return _t.EAN_13}static determineFirstDigit(e,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return e=String.fromCharCode(48+s)+e,e;throw new q}}li.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class rr extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,s){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=e.getSize(),g=i[1];for(let v=0;v<4&&g<f;v++){let b=Te.decodeDigit(e,c,g,Te.L_PATTERNS);s+=String.fromCharCode(48+b);for(let I of c)g+=I}g=Te.findGuardPattern(e,g,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&g<f;v++){let b=Te.decodeDigit(e,c,g,Te.L_PATTERNS);s+=String.fromCharCode(48+b);for(let I of c)g+=I}return{rowOffset:g,resultString:s}}getBarcodeFormat(){return _t.EAN_8}}class Ha extends Te{constructor(){super(...arguments),this.ean13Reader=new li}getBarcodeFormat(){return _t.UPC_A}decode(e,i){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,i,s))}decodeMiddle(e,i,s){return this.ean13Reader.decodeMiddle(e,i,s)}maybeReturnResult(e){let i=e.getText();if(i.charAt(0)==="0"){let s=new At(i.substring(1),null,null,e.getResultPoints(),_t.UPC_A);return e.getResultMetadata()!=null&&s.putAllMetadata(e.getResultMetadata()),s}else throw new q}reset(){this.ean13Reader.reset()}}class xi extends Te{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,i,s){const c=this.decodeMiddleCounters.map(b=>b);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const f=e.getSize();let g=i[1],x=0;for(let b=0;b<6&&g<f;b++){const I=xi.decodeDigit(e,c,g,xi.L_AND_G_PATTERNS);s+=String.fromCharCode(48+I%10);for(let P of c)g+=P;I>=10&&(x|=1<<5-b)}let v=xi.determineNumSysAndCheckDigit(s,x);return{rowOffset:g,resultString:v}}decodeEnd(e,i){return xi.findGuardPatternWithoutCounters(e,i,!0,xi.MIDDLE_END_PATTERN)}checkChecksum(e){return Te.checkChecksum(xi.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,i){for(let s=0;s<=1;s++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][c]){let f=String.fromCharCode(48+s),g=String.fromCharCode(48+c);return f+e+g}throw q.getNotFoundInstance()}getBarcodeFormat(){return _t.UPC_E}static convertUPCEtoUPCA(e){const i=e.slice(1,7).split("").map(f=>f.charCodeAt(0)),s=new Lt;s.append(e.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(c),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(c);break}return e.length>=8&&s.append(e.charAt(7)),s.toString()}}xi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Jr extends Ve{constructor(e){super();let i=e==null?null:e.get(Nt.POSSIBLE_FORMATS),s=[];m(i)?(s.push(new li),s.push(new Ha),s.push(new rr),s.push(new xi)):(i.indexOf(_t.EAN_13)>-1&&s.push(new li),i.indexOf(_t.UPC_A)>-1&&s.push(new Ha),i.indexOf(_t.EAN_8)>-1&&s.push(new rr),i.indexOf(_t.UPC_E)>-1&&s.push(new xi)),this.readers=s}decodeRow(e,i,s){for(let c of this.readers)try{const f=c.decodeRow(e,i,s),g=f.getBarcodeFormat()===_t.EAN_13&&f.getText().charAt(0)==="0",x=s==null?null:s.get(Nt.POSSIBLE_FORMATS),v=x==null||x.includes(_t.UPC_A);if(g&&v){const b=f.getRawBytes(),I=new At(f.getText().substring(1),b,b?b.length:null,f.getResultPoints(),_t.UPC_A);return I.putAllMetadata(f.getResultMetadata()),I}return f}catch{}throw new q}reset(){for(let e of this.readers)e.reset()}}class Dn extends Ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,i){for(let s=0;s<i.length;s++)if(Ve.patternMatchVariance(e,i[s],Dn.MAX_INDIVIDUAL_VARIANCE)<Dn.MAX_AVG_VARIANCE)return s;throw new q}static count(e){return fe.sum(new Int32Array(e))}static increment(e,i){let s=0,c=i[0];for(let f=1;f<e.length;f++)i[f]>c&&(c=i[f],s=f);e[s]++}static decrement(e,i){let s=0,c=i[0];for(let f=1;f<e.length;f++)i[f]<c&&(c=i[f],s=f);e[s]--}static isFinderPattern(e){let i=e[0]+e[1],s=i+e[2]+e[3],c=i/s;if(c>=Dn.MIN_FINDER_PATTERN_RATIO&&c<=Dn.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let x of e)x>g&&(g=x),x<f&&(f=x);return g<10*f}return!1}}Dn.MAX_AVG_VARIANCE=.2,Dn.MAX_INDIVIDUAL_VARIANCE=.45,Dn.MIN_FINDER_PATTERN_RATIO=9.5/12,Dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class pr{constructor(e,i){this.value=e,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof pr))return!1;const i=e;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class kr{constructor(e,i,s,c,f){this.value=e,this.startEnd=i,this.value=e,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Qt(s,f)),this.resultPoints.push(new Qt(c,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof kr))return!1;const i=e;return this.value===i.value}hashCode(){return this.value}}class kn{constructor(){}static getRSSvalue(e,i,s){let c=0;for(let v of e)c+=v;let f=0,g=0,x=e.length;for(let v=0;v<x-1;v++){let b;for(b=1,g|=1<<v;b<e[v];b++,g&=~(1<<v)){let I=kn.combins(c-b-1,x-v-2);if(s&&g===0&&c-b-(x-v-1)>=x-v-1&&(I-=kn.combins(c-b-(x-v),x-v-2)),x-v-1>1){let P=0;for(let z=c-b-(x-v-2);z>i;z--)P+=kn.combins(c-b-z-1,x-v-3);I-=P*(x-1-v)}else c-b>i&&I--;f+=I}c-=b}return f}static combins(e,i){let s,c;e-i>i?(c=i,s=e-i):(c=e-i,s=i);let f=1,g=1;for(let x=e;x>s;x--)f*=x,g<=c&&(f/=g,g++);for(;g<=c;)f/=g,g++;return f}}class Vn{static buildBitArray(e){let i=e.length*2-1;e[e.length-1].getRightChar()==null&&(i-=1);let s=12*i,c=new nt(s),f=0,x=e[0].getRightChar().getValue();for(let v=11;v>=0;--v)(x&1<<v)!=0&&c.set(f),f++;for(let v=1;v<e.length;++v){let b=e[v],I=b.getLeftChar().getValue();for(let P=11;P>=0;--P)(I&1<<P)!=0&&c.set(f),f++;if(b.getRightChar()!=null){let P=b.getRightChar().getValue();for(let z=11;z>=0;--z)(P&1<<z)!=0&&c.set(f),f++}}return c}}class bn{constructor(e,i){i?this.decodedInformation=null:(this.finished=e,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ar{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class $e extends ar{constructor(e,i){super(e),this.value=i}getValue(){return this.value}isFNC1(){return this.value===$e.FNC1}}$e.FNC1="$";class $t extends ar{constructor(e,i,s){super(e),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ui extends ar{constructor(e,i,s){if(super(e),i<0||i>10||s<0||s>10)throw new ft;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ui.FNC1}isSecondDigitFNC1(){return this.secondDigit===ui.FNC1}isAnyFNC1(){return this.firstDigit===ui.FNC1||this.secondDigit===ui.FNC1}}ui.FNC1=10;class Kt{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new q;let i=e.substring(0,2);for(let f of Kt.TWO_DIGIT_DATA_LENGTH)if(f[0]===i)return f[1]===Kt.VARIABLE_LENGTH?Kt.processVariableAI(2,f[2],e):Kt.processFixedAI(2,f[1],e);if(e.length<3)throw new q;let s=e.substring(0,3);for(let f of Kt.THREE_DIGIT_DATA_LENGTH)if(f[0]===s)return f[1]===Kt.VARIABLE_LENGTH?Kt.processVariableAI(3,f[2],e):Kt.processFixedAI(3,f[1],e);for(let f of Kt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===s)return f[1]===Kt.VARIABLE_LENGTH?Kt.processVariableAI(4,f[2],e):Kt.processFixedAI(4,f[1],e);if(e.length<4)throw new q;let c=e.substring(0,4);for(let f of Kt.FOUR_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Kt.VARIABLE_LENGTH?Kt.processVariableAI(4,f[2],e):Kt.processFixedAI(4,f[1],e);throw new q}static processFixedAI(e,i,s){if(s.length<e)throw new q;let c=s.substring(0,e);if(s.length<e+i)throw new q;let f=s.substring(e,e+i),g=s.substring(e+i),x="("+c+")"+f,v=Kt.parseFieldsInGeneralPurpose(g);return v==null?x:x+v}static processVariableAI(e,i,s){let c=s.substring(0,e),f;s.length<e+i?f=s.length:f=e+i;let g=s.substring(e,f),x=s.substring(f),v="("+c+")"+g,b=Kt.parseFieldsInGeneralPurpose(x);return b==null?v:v+b}}Kt.VARIABLE_LENGTH=[],Kt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Kt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Kt.VARIABLE_LENGTH,20],["22",Kt.VARIABLE_LENGTH,29],["30",Kt.VARIABLE_LENGTH,8],["37",Kt.VARIABLE_LENGTH,8],["90",Kt.VARIABLE_LENGTH,30],["91",Kt.VARIABLE_LENGTH,30],["92",Kt.VARIABLE_LENGTH,30],["93",Kt.VARIABLE_LENGTH,30],["94",Kt.VARIABLE_LENGTH,30],["95",Kt.VARIABLE_LENGTH,30],["96",Kt.VARIABLE_LENGTH,30],["97",Kt.VARIABLE_LENGTH,3],["98",Kt.VARIABLE_LENGTH,30],["99",Kt.VARIABLE_LENGTH,30]],Kt.THREE_DIGIT_DATA_LENGTH=[["240",Kt.VARIABLE_LENGTH,30],["241",Kt.VARIABLE_LENGTH,30],["242",Kt.VARIABLE_LENGTH,6],["250",Kt.VARIABLE_LENGTH,30],["251",Kt.VARIABLE_LENGTH,30],["253",Kt.VARIABLE_LENGTH,17],["254",Kt.VARIABLE_LENGTH,20],["400",Kt.VARIABLE_LENGTH,30],["401",Kt.VARIABLE_LENGTH,30],["402",17],["403",Kt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Kt.VARIABLE_LENGTH,20],["421",Kt.VARIABLE_LENGTH,15],["422",3],["423",Kt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Kt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Kt.VARIABLE_LENGTH,15],["391",Kt.VARIABLE_LENGTH,18],["392",Kt.VARIABLE_LENGTH,15],["393",Kt.VARIABLE_LENGTH,18],["703",Kt.VARIABLE_LENGTH,30]],Kt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Kt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Kt.VARIABLE_LENGTH,20],["8003",Kt.VARIABLE_LENGTH,30],["8004",Kt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Kt.VARIABLE_LENGTH,30],["8008",Kt.VARIABLE_LENGTH,12],["8018",18],["8020",Kt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Kt.VARIABLE_LENGTH,70],["8200",Kt.VARIABLE_LENGTH,70]];class Oi{constructor(e){this.buffer=new Lt,this.information=e}decodeAllCodes(e,i){let s=i,c=null;do{let f=this.decodeGeneralPurposeField(s,c),g=Kt.parseFieldsInGeneralPurpose(f.getNewString());if(g!=null&&e.append(g),f.isRemaining()?c=""+f.getRemainingValue():c=null,s===f.getNewPosition())break;s=f.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let i=e;i<e+3;++i)if(this.information.get(i))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(e,4);return f===0?new ui(this.information.getSize(),ui.FNC1,ui.FNC1):new ui(this.information.getSize(),f-1,ui.FNC1)}let i=this.extractNumericValueFromBitArray(e,7),s=(i-8)/11,c=(i-8)%11;return new ui(e+7,s,c)}extractNumericValueFromBitArray(e,i){return Oi.extractNumericValueFromBitArray(this.information,e,i)}static extractNumericValueFromBitArray(e,i,s){let c=0;for(let f=0;f<s;++f)e.get(i+f)&&(c|=1<<s-f-1);return c}decodeGeneralPurposeField(e,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(e);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new $t(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new $t(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),e=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),e=i.isFinished()):(i=this.parseNumericBlock(),e=i.isFinished()),!(s!==this.current.getPosition())&&!e)break}while(!e);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let i;return e.isSecondDigitFNC1()?i=new $t(this.current.getPosition(),this.buffer.toString()):i=new $t(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new bn(!0,i)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let i=new $t(this.current.getPosition(),this.buffer.toString());return new bn(!0,i)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new bn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new $t(this.current.getPosition(),this.buffer.toString());return new bn(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new bn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new $t(this.current.getPosition(),this.buffer.toString());return new bn(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new bn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(e,8);return c>=232&&c<253}decodeIsoIec646(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new $e(e+5,$e.FNC1);if(i>=5&&i<15)return new $e(e+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new $e(e+7,""+(s+1));if(s>=90&&s<116)return new $e(e+7,""+(s+7));let c=this.extractNumericValueFromBitArray(e,8),f;switch(c){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new ft}return new $e(e+8,f)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63}decodeAlphanumeric(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new $e(e+5,$e.FNC1);if(i>=5&&i<15)return new $e(e+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new $e(e+6,""+(s+33));let c;switch(s){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Xe("Decoding invalid alphanumeric value: "+s)}return new $e(e+6,c)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<5&&i+e<this.information.getSize();++i)if(i===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+i))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let i=e;i<e+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<4&&i+e<this.information.getSize();++i)if(this.information.get(e+i))return!1;return!0}}class Ur{constructor(e){this.information=e,this.generalDecoder=new Oi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class hn extends Ur{constructor(e){super(e)}encodeCompressedGtin(e,i){e.append("(01)");let s=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,i,s)}encodeCompressedGtinWithoutAI(e,i,s){for(let c=0;c<4;++c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);f/100===0&&e.append("0"),f/10===0&&e.append("0"),e.append(f)}hn.appendCheckDigit(e,s)}static appendCheckDigit(e,i){let s=0;for(let c=0;c<13;c++){let f=e.charAt(c+i).charCodeAt(0)-48;s+=(c&1)===0?3*f:f}s=10-s%10,s===10&&(s=0),e.append(s)}}hn.GTIN_SIZE=40;class _i extends hn{constructor(e){super(e)}parseInformation(){let e=new Lt;e.append("(01)");let i=e.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(_i.HEADER_SIZE,4);return e.append(s),this.encodeCompressedGtinWithoutAI(e,_i.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(e,_i.HEADER_SIZE+44)}}_i.HEADER_SIZE=4;class ci extends Ur{constructor(e){super(e)}parseInformation(){let e=new Lt;return this.getGeneralDecoder().decodeAllCodes(e,ci.HEADER_SIZE)}}ci.HEADER_SIZE=5;class Fi extends hn{constructor(e){super(e)}encodeCompressedWeight(e,i,s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(e,c);let f=this.checkWeight(c),g=1e5;for(let x=0;x<5;++x)f/g===0&&e.append("0"),g/=10;e.append(f)}}class Qe extends Fi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+Fi.GTIN_SIZE+Qe.WEIGHT_SIZE)throw new q;let e=new Lt;return this.encodeCompressedGtin(e,Qe.HEADER_SIZE),this.encodeCompressedWeight(e,Qe.HEADER_SIZE+Fi.GTIN_SIZE,Qe.WEIGHT_SIZE),e.toString()}}Qe.HEADER_SIZE=5,Qe.WEIGHT_SIZE=15;class ls extends Qe{constructor(e){super(e)}addWeightCode(e,i){e.append("(3103)")}checkWeight(e){return e}}class us extends Qe{constructor(e){super(e)}addWeightCode(e,i){i<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Gn extends hn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+hn.GTIN_SIZE)throw new q;let e=new Lt;this.encodeCompressedGtin(e,Gn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+hn.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);e.append("(392"),e.append(i),e.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+hn.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return e.append(s.getNewString()),e.toString()}}Gn.HEADER_SIZE=8,Gn.LAST_DIGIT_SIZE=2;class wn extends hn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+hn.GTIN_SIZE)throw new q;let e=new Lt;this.encodeCompressedGtin(e,wn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+hn.GTIN_SIZE,wn.LAST_DIGIT_SIZE);e.append("(393"),e.append(i),e.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+hn.GTIN_SIZE+wn.LAST_DIGIT_SIZE,wn.FIRST_THREE_DIGITS_SIZE);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s);let c=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+hn.GTIN_SIZE+wn.LAST_DIGIT_SIZE+wn.FIRST_THREE_DIGITS_SIZE,null);return e.append(c.getNewString()),e.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2,wn.FIRST_THREE_DIGITS_SIZE=10;class tn extends Fi{constructor(e,i,s){super(e),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE+tn.DATE_SIZE)throw new q;let e=new Lt;return this.encodeCompressedGtin(e,tn.HEADER_SIZE),this.encodeCompressedWeight(e,tn.HEADER_SIZE+tn.GTIN_SIZE,tn.WEIGHT_SIZE),this.encodeCompressedDate(e,tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,tn.DATE_SIZE);if(s==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let c=s%32;s/=32;let f=s%12+1;s/=12;let g=s;g/10==0&&e.append("0"),e.append(g),f/10==0&&e.append("0"),e.append(f),c/10==0&&e.append("0"),e.append(c)}addWeightCode(e,i){e.append("("),e.append(this.firstAIdigits),e.append(i/1e5),e.append(")")}checkWeight(e){return e%1e5}}tn.HEADER_SIZE=8,tn.WEIGHT_SIZE=20,tn.DATE_SIZE=16;function Fr(B){try{if(B.get(1))return new _i(B);if(!B.get(2))return new ci(B);switch(Oi.extractNumericValueFromBitArray(B,1,4)){case 4:return new ls(B);case 5:return new us(B)}switch(Oi.extractNumericValueFromBitArray(B,1,5)){case 12:return new Gn(B);case 13:return new wn(B)}switch(Oi.extractNumericValueFromBitArray(B,1,7)){case 56:return new tn(B,"310","11");case 57:return new tn(B,"320","11");case 58:return new tn(B,"310","13");case 59:return new tn(B,"320","13");case 60:return new tn(B,"310","15");case 61:return new tn(B,"320","15");case 62:return new tn(B,"310","17");case 63:return new tn(B,"320","17")}}catch(e){throw console.log(e),new Xe("unknown decoder: "+B)}}class ji{constructor(e,i,s,c){this.leftchar=e,this.rightchar=i,this.finderpattern=s,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,i){return e instanceof ji?ji.equalsOrNull(e.leftchar,i.leftchar)&&ji.equalsOrNull(e.rightchar,i.rightchar)&&ji.equalsOrNull(e.finderpattern,i.finderpattern):!1}static equalsOrNull(e,i){return e===null?i===null:ji.equals(e,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Za{constructor(e,i,s){this.pairs=e,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,i){return e instanceof Za?this.checkEqualitity(e,i)&&e.wasReversed===i.wasReversed:!1}checkEqualitity(e,i){if(!e||!i)return;let s;return e.forEach((c,f)=>{i.forEach(g=>{c.getLeftChar().getValue()===g.getLeftChar().getValue()&&c.getRightChar().getValue()===g.getRightChar().getValue()&&c.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(s=!0)})}),s}}class Pt extends Dn{constructor(e){super(...arguments),this.pairs=new Array(Pt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,i,s){this.pairs.length=0,this.startFromEven=!1;try{return Pt.constructResult(this.decodeRow2pairs(e,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,Pt.constructResult(this.decodeRow2pairs(e,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,e))}catch(f){if(f instanceof q){if(!this.pairs.length)throw new q;s=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(e,!1),c){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new q}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return e&&(this.rows=this.rows.reverse()),i}checkRows(e,i){for(let s=i;s<this.rows.length;s++){let c=this.rows[s];this.pairs.length=0;for(let g of e)this.pairs.push(g.getPairs());if(this.pairs.push(c.getPairs()),!Pt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(e);f.push(c);try{return this.checkRows(f,s+1)}catch(g){this.verbose&&console.log(g)}}throw new q}static isValidSequence(e){for(let i of Pt.FINDER_PATTERN_SEQUENCES){if(e.length>i.length)continue;let s=!0;for(let c=0;c<e.length;c++)if(e[c].getFinderPattern().getValue()!=i[c]){s=!1;break}if(s)return!0}return!1}storeRow(e,i){let s=0,c=!1,f=!1;for(;s<this.rows.length;){let g=this.rows[s];if(g.getRowNumber()>e){f=g.isEquivalent(this.pairs);break}c=g.isEquivalent(this.pairs),s++}f||c||Pt.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Za(this.pairs,e,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,i){for(let s of i)if(s.getPairs().length!==e.length){for(let c of s.getPairs())for(let f of e)if(ji.equals(c,f))break}}static isPartialRow(e,i){for(let s of i){let c=!0;for(let f of e){let g=!1;for(let x of s.getPairs())if(f.equals(x)){g=!0;break}if(!g){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(e){let i=Vn.buildBitArray(e),c=Fr(i).parseInformation(),f=e[0].getFinderPattern().getResultPoints(),g=e[e.length-1].getFinderPattern().getResultPoints(),x=[f[0],f[1],g[0],g[1]];return new At(c,null,null,x,_t.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),i=e.getLeftChar(),s=e.getRightChar();if(s==null)return!1;let c=s.getChecksumPortion(),f=2;for(let x=1;x<this.pairs.size();++x){let v=this.pairs.get(x);c+=v.getLeftChar().getChecksumPortion(),f++;let b=v.getRightChar();b!=null&&(c+=b.getChecksumPortion(),f++)}return c%=211,211*(f-4)+c==i.getValue()}static getNextSecondBar(e,i){let s;return e.get(i)?(s=e.getNextUnset(i),s=e.getNextSet(s)):(s=e.getNextSet(i),s=e.getNextUnset(s)),s}retrieveNextPair(e,i,s){let c=i.length%2==0;this.startFromEven&&(c=!c);let f,g=!0,x=-1;do this.findNextPair(e,i,x),f=this.parseFoundFinderPattern(e,s,c),f==null?x=Pt.getNextSecondBar(e,this.startEnd[0]):g=!1;while(g);let v=this.decodeDataCharacter(e,f,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new q;let b;try{b=this.decodeDataCharacter(e,f,c,!1)}catch(I){b=null,this.verbose&&console.log(I)}return new ji(v,b,f,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,i,s){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=e.getSize(),g;s>=0?g=s:this.isEmptyPair(i)?g=0:g=i[i.length-1].getFinderPattern().getStartEnd()[1];let x=i.length%2!=0;this.startFromEven&&(x=!x);let v=!1;for(;g<f&&(v=!e.get(g),!!v);)g++;let b=0,I=g;for(let P=g;P<f;P++)if(e.get(P)!=v)c[b]++;else{if(b==3){if(x&&Pt.reverseCounters(c),Pt.isFinderPattern(c)){this.startEnd[0]=I,this.startEnd[1]=P;return}x&&Pt.reverseCounters(c),I+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,b--}else b++;c[b]=1,v=!v}throw new q}static reverseCounters(e){let i=e.length;for(let s=0;s<i/2;++s){let c=e[s];e[s]=e[i-s-1],e[i-s-1]=c}}parseFoundFinderPattern(e,i,s){let c,f,g;if(s){let b=this.startEnd[0]-1;for(;b>=0&&!e.get(b);)b--;b++,c=this.startEnd[0]-b,f=b,g=this.startEnd[1]}else f=this.startEnd[0],g=e.getNextUnset(this.startEnd[1]+1),c=g-this.startEnd[1];let x=this.getDecodeFinderCounters();j.arraycopy(x,0,x,1,x.length-1),x[0]=c;let v;try{v=this.parseFinderValue(x,Pt.FINDER_PATTERNS)}catch{return null}return new kr(v,[f,g],f,g,i)}decodeDataCharacter(e,i,s,c){let f=this.getDataCharacterCounters();for(let qe=0;qe<f.length;qe++)f[qe]=0;if(c)Pt.recordPatternInReverse(e,i.getStartEnd()[0],f);else{Pt.recordPattern(e,i.getStartEnd()[1],f);for(let qe=0,ii=f.length-1;qe<ii;qe++,ii--){let di=f[qe];f[qe]=f[ii],f[ii]=di}}let g=17,x=fe.sum(new Int32Array(f))/g,v=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(x-v)/v>.3)throw new q;let b=this.getOddCounts(),I=this.getEvenCounts(),P=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let qe=0;qe<f.length;qe++){let ii=1*f[qe]/x,di=ii+.5;if(di<1){if(ii<.3)throw new q;di=1}else if(di>8){if(ii>8.7)throw new q;di=8}let ra=qe/2;(qe&1)==0?(b[ra]=di,P[ra]=ii-di):(I[ra]=di,z[ra]=ii-di)}this.adjustOddEvenCounts(g);let Y=4*i.getValue()+(s?0:2)+(c?0:1)-1,K=0,it=0;for(let qe=b.length-1;qe>=0;qe--){if(Pt.isNotA1left(i,s,c)){let ii=Pt.WEIGHTS[Y][2*qe];it+=b[qe]*ii}K+=b[qe]}let pt=0;for(let qe=I.length-1;qe>=0;qe--)if(Pt.isNotA1left(i,s,c)){let ii=Pt.WEIGHTS[Y][2*qe+1];pt+=I[qe]*ii}let Et=it+pt;if((K&1)!=0||K>13||K<4)throw new q;let Zt=(13-K)/2,Gt=Pt.SYMBOL_WIDEST[Zt],Ht=9-Gt,ye=kn.getRSSvalue(b,Gt,!0),we=kn.getRSSvalue(I,Ht,!1),dn=Pt.EVEN_TOTAL_SUBSET[Zt],hi=Pt.GSUM[Zt],bi=ye*dn+we+hi;return new pr(bi,Et)}static isNotA1left(e,i,s){return!(e.getValue()==0&&i&&s)}adjustOddEvenCounts(e){let i=fe.sum(new Int32Array(this.getOddCounts())),s=fe.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1;i>13?f=!0:i<4&&(c=!0);let g=!1,x=!1;s>13?x=!0:s<4&&(g=!0);let v=i+s-e,b=(i&1)==1,I=(s&1)==0;if(v==1)if(b){if(I)throw new q;f=!0}else{if(!I)throw new q;x=!0}else if(v==-1)if(b){if(I)throw new q;c=!0}else{if(!I)throw new q;g=!0}else if(v==0){if(b){if(!I)throw new q;i<s?(c=!0,x=!0):(f=!0,g=!0)}else if(I)throw new q}else throw new q;if(c){if(f)throw new q;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(x)throw new q;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.SYMBOL_WIDEST=[7,5,4,3,1],Pt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Pt.GSUM=[0,348,1388,2948,3988],Pt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Pt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Pt.FINDER_PAT_A=0,Pt.FINDER_PAT_B=1,Pt.FINDER_PAT_C=2,Pt.FINDER_PAT_D=3,Pt.FINDER_PAT_E=4,Pt.FINDER_PAT_F=5,Pt.FINDER_PATTERN_SEQUENCES=[[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_C,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_E,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D,Pt.FINDER_PAT_C],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_E,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D,Pt.FINDER_PAT_D,Pt.FINDER_PAT_F],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_E,Pt.FINDER_PAT_B,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_F,Pt.FINDER_PAT_F],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_D],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_E],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_F,Pt.FINDER_PAT_F],[Pt.FINDER_PAT_A,Pt.FINDER_PAT_A,Pt.FINDER_PAT_B,Pt.FINDER_PAT_B,Pt.FINDER_PAT_C,Pt.FINDER_PAT_D,Pt.FINDER_PAT_D,Pt.FINDER_PAT_E,Pt.FINDER_PAT_E,Pt.FINDER_PAT_F,Pt.FINDER_PAT_F]],Pt.MAX_PAIRS=11;class ma extends pr{constructor(e,i,s){super(e,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ge extends Dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,i,s){const c=this.decodePair(i,!1,e,s);Ge.addOrTally(this.possibleLeftPairs,c),i.reverse();let f=this.decodePair(i,!0,e,s);Ge.addOrTally(this.possibleRightPairs,f),i.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Ge.checkChecksum(g,x))return Ge.constructResult(g,x)}throw new q}static addOrTally(e,i){if(i==null)return;let s=!1;for(let c of e)if(c.getValue()===i.getValue()){c.incrementCount(),s=!0;break}s||e.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,i){let s=4537077*e.getValue()+i.getValue(),c=new String(s).toString(),f=new Lt;for(let b=13-c.length;b>0;b--)f.append("0");f.append(c);let g=0;for(let b=0;b<13;b++){let I=f.charAt(b).charCodeAt(0)-48;g+=(b&1)===0?3*I:I}g=10-g%10,g===10&&(g=0),f.append(g.toString());let x=e.getFinderPattern().getResultPoints(),v=i.getFinderPattern().getResultPoints();return new At(f.toString(),null,0,[x[0],x[1],v[0],v[1]],_t.RSS_14,new Date().getTime())}static checkChecksum(e,i){let s=(e.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*e.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,s===c}decodePair(e,i,s,c){try{let f=this.findFinderPattern(e,i),g=this.parseFoundFinderPattern(e,s,i,f),x=c==null?null:c.get(Nt.NEED_RESULT_POINT_CALLBACK);if(x!=null){let I=(f[0]+f[1])/2;i&&(I=e.getSize()-1-I),x.foundPossibleResultPoint(new Qt(I,s))}let v=this.decodeDataCharacter(e,g,!0),b=this.decodeDataCharacter(e,g,!1);return new ma(1597*v.getValue()+b.getValue(),v.getChecksumPortion()+4*b.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(e,i,s){let c=this.getDataCharacterCounters();for(let pt=0;pt<c.length;pt++)c[pt]=0;if(s)Ve.recordPatternInReverse(e,i.getStartEnd()[0],c);else{Ve.recordPattern(e,i.getStartEnd()[1]+1,c);for(let pt=0,Et=c.length-1;pt<Et;pt++,Et--){let Zt=c[pt];c[pt]=c[Et],c[Et]=Zt}}let f=s?16:15,g=fe.sum(new Int32Array(c))/f,x=this.getOddCounts(),v=this.getEvenCounts(),b=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let pt=0;pt<c.length;pt++){let Et=c[pt]/g,Zt=Math.floor(Et+.5);Zt<1?Zt=1:Zt>8&&(Zt=8);let Gt=Math.floor(pt/2);(pt&1)===0?(x[Gt]=Zt,b[Gt]=Et-Zt):(v[Gt]=Zt,I[Gt]=Et-Zt)}this.adjustOddEvenCounts(s,f);let P=0,z=0;for(let pt=x.length-1;pt>=0;pt--)z*=9,z+=x[pt],P+=x[pt];let Y=0,K=0;for(let pt=v.length-1;pt>=0;pt--)Y*=9,Y+=v[pt],K+=v[pt];let it=z+3*Y;if(s){if((P&1)!==0||P>12||P<4)throw new q;let pt=(12-P)/2,Et=Ge.OUTSIDE_ODD_WIDEST[pt],Zt=9-Et,Gt=kn.getRSSvalue(x,Et,!1),Ht=kn.getRSSvalue(v,Zt,!0),ye=Ge.OUTSIDE_EVEN_TOTAL_SUBSET[pt],we=Ge.OUTSIDE_GSUM[pt];return new pr(Gt*ye+Ht+we,it)}else{if((K&1)!==0||K>10||K<4)throw new q;let pt=(10-K)/2,Et=Ge.INSIDE_ODD_WIDEST[pt],Zt=9-Et,Gt=kn.getRSSvalue(x,Et,!0),Ht=kn.getRSSvalue(v,Zt,!1),ye=Ge.INSIDE_ODD_TOTAL_SUBSET[pt],we=Ge.INSIDE_GSUM[pt];return new pr(Ht*ye+Gt+we,it)}}findFinderPattern(e,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=e.getSize(),f=!1,g=0;for(;g<c&&(f=!e.get(g),i!==f);)g++;let x=0,v=g;for(let b=g;b<c;b++)if(e.get(b)!==f)s[x]++;else{if(x===3){if(Dn.isFinderPattern(s))return[v,b];v+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,x--}else x++;s[x]=1,f=!f}throw new q}parseFoundFinderPattern(e,i,s,c){let f=e.get(c[0]),g=c[0]-1;for(;g>=0&&f!==e.get(g);)g--;g++;const x=c[0]-g,v=this.getDecodeFinderCounters(),b=new Int32Array(v.length);j.arraycopy(v,0,b,1,v.length-1),b[0]=x;const I=this.parseFinderValue(b,Ge.FINDER_PATTERNS);let P=g,z=c[1];return s&&(P=e.getSize()-1-P,z=e.getSize()-1-z),new kr(I,[g,c[1]],P,z,i)}adjustOddEvenCounts(e,i){let s=fe.sum(new Int32Array(this.getOddCounts())),c=fe.sum(new Int32Array(this.getEvenCounts())),f=!1,g=!1,x=!1,v=!1;e?(s>12?g=!0:s<4&&(f=!0),c>12?v=!0:c<4&&(x=!0)):(s>11?g=!0:s<5&&(f=!0),c>10?v=!0:c<4&&(x=!0));let b=s+c-i,I=(s&1)===(e?1:0),P=(c&1)===1;if(b===1)if(I){if(P)throw new q;g=!0}else{if(!P)throw new q;v=!0}else if(b===-1)if(I){if(P)throw new q;f=!0}else{if(!P)throw new q;x=!0}else if(b===0){if(I){if(!P)throw new q;s<c?(f=!0,v=!0):(g=!0,x=!0)}else if(P)throw new q}else throw new q;if(f){if(g)throw new q;Dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(v)throw new q;Dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ge.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ge.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ge.OUTSIDE_GSUM=[0,161,961,2015,2715],Ge.INSIDE_GSUM=[0,336,1036,1516],Ge.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ge.INSIDE_ODD_WIDEST=[2,4,6,8],Ge.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Di extends Ve{constructor(e,i){super(),this.readers=[],this.verbose=i===!0;const s=e?e.get(Nt.POSSIBLE_FORMATS):null,c=e&&e.get(Nt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(_t.EAN_13)||s.includes(_t.UPC_A)||s.includes(_t.EAN_8)||s.includes(_t.UPC_E))&&this.readers.push(new Jr(e)),s.includes(_t.CODE_39)&&this.readers.push(new Pe(c)),s.includes(_t.CODE_128)&&this.readers.push(new Vt),s.includes(_t.ITF)&&this.readers.push(new be),s.includes(_t.RSS_14)&&this.readers.push(new Ge),s.includes(_t.RSS_EXPANDED)&&this.readers.push(new Pt(this.verbose))):(this.readers.push(new Jr(e)),this.readers.push(new Pe),this.readers.push(new Jr(e)),this.readers.push(new Vt),this.readers.push(new be),this.readers.push(new Ge),this.readers.push(new Pt(this.verbose)))}decodeRow(e,i,s){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(e,i,s)}catch{}throw new q}reset(){this.readers.forEach(e=>e.reset())}}class Hr extends vt{constructor(e=500,i){super(new Di(i),e,i)}}class Me{constructor(e,i,s){this.ecCodewords=e,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class De{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(e,i,s,c,f,g){this.versionNumber=e,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=f,this.ecBlocks=g;let x=0;const v=g.getECCodewords(),b=g.getECBlocks();for(let I of b)x+=I.getCount()*(I.getDataCodewords()+v);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,i){if((e&1)!==0||(i&1)!==0)throw new ft;for(let s of pe.VERSIONS)if(s.symbolSizeRows===e&&s.symbolSizeColumns===i)return s;throw new ft}toString(){return""+this.versionNumber}static buildVersions(){return[new pe(1,10,10,8,8,new Me(5,new De(1,3))),new pe(2,12,12,10,10,new Me(7,new De(1,5))),new pe(3,14,14,12,12,new Me(10,new De(1,8))),new pe(4,16,16,14,14,new Me(12,new De(1,12))),new pe(5,18,18,16,16,new Me(14,new De(1,18))),new pe(6,20,20,18,18,new Me(18,new De(1,22))),new pe(7,22,22,20,20,new Me(20,new De(1,30))),new pe(8,24,24,22,22,new Me(24,new De(1,36))),new pe(9,26,26,24,24,new Me(28,new De(1,44))),new pe(10,32,32,14,14,new Me(36,new De(1,62))),new pe(11,36,36,16,16,new Me(42,new De(1,86))),new pe(12,40,40,18,18,new Me(48,new De(1,114))),new pe(13,44,44,20,20,new Me(56,new De(1,144))),new pe(14,48,48,22,22,new Me(68,new De(1,174))),new pe(15,52,52,24,24,new Me(42,new De(2,102))),new pe(16,64,64,14,14,new Me(56,new De(2,140))),new pe(17,72,72,16,16,new Me(36,new De(4,92))),new pe(18,80,80,18,18,new Me(48,new De(4,114))),new pe(19,88,88,20,20,new Me(56,new De(4,144))),new pe(20,96,96,22,22,new Me(68,new De(4,174))),new pe(21,104,104,24,24,new Me(56,new De(6,136))),new pe(22,120,120,18,18,new Me(68,new De(6,175))),new pe(23,132,132,20,20,new Me(62,new De(8,163))),new pe(24,144,144,22,22,new Me(62,new De(8,156),new De(2,155))),new pe(25,8,18,6,16,new Me(7,new De(1,5))),new pe(26,8,32,6,14,new Me(11,new De(1,10))),new pe(27,12,26,10,24,new Me(14,new De(1,16))),new pe(28,12,36,10,16,new Me(18,new De(1,22))),new pe(29,16,36,14,16,new Me(24,new De(1,32))),new pe(30,16,48,14,22,new Me(28,new De(1,49)))]}}pe.VERSIONS=pe.buildVersions();class ze{constructor(e){const i=e.getHeight();if(i<8||i>144||(i&1)!==0)throw new ft;this.version=ze.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new X(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const i=e.getHeight(),s=e.getWidth();return pe.getVersionForDimensions(i,s)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,c=0;const f=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let x=!1,v=!1,b=!1,I=!1;do if(s===f&&c===0&&!x)e[i++]=this.readCorner1(f,g)&255,s-=2,c+=2,x=!0;else if(s===f-2&&c===0&&(g&3)!==0&&!v)e[i++]=this.readCorner2(f,g)&255,s-=2,c+=2,v=!0;else if(s===f+4&&c===2&&(g&7)===0&&!b)e[i++]=this.readCorner3(f,g)&255,s-=2,c+=2,b=!0;else if(s===f-2&&c===0&&(g&7)===4&&!I)e[i++]=this.readCorner4(f,g)&255,s-=2,c+=2,I=!0;else{do s<f&&c>=0&&!this.readMappingMatrix.get(c,s)&&(e[i++]=this.readUtah(s,c,f,g)&255),s-=2,c+=2;while(s>=0&&c<g);s+=1,c+=3;do s>=0&&c<g&&!this.readMappingMatrix.get(c,s)&&(e[i++]=this.readUtah(s,c,f,g)&255),s+=2,c-=2;while(s<f&&c>=0);s+=3,c+=1}while(s<f||c<g);if(i!==this.version.getTotalCodewords())throw new ft;return e}readModule(e,i,s,c){return e<0&&(e+=s,i+=4-(s+4&7)),i<0&&(i+=c,e+=4-(c+4&7)),this.readMappingMatrix.set(i,e),this.mappingBitMatrix.get(i,e)}readUtah(e,i,s,c){let f=0;return this.readModule(e-2,i-2,s,c)&&(f|=1),f<<=1,this.readModule(e-2,i-1,s,c)&&(f|=1),f<<=1,this.readModule(e-1,i-2,s,c)&&(f|=1),f<<=1,this.readModule(e-1,i-1,s,c)&&(f|=1),f<<=1,this.readModule(e-1,i,s,c)&&(f|=1),f<<=1,this.readModule(e,i-2,s,c)&&(f|=1),f<<=1,this.readModule(e,i-1,s,c)&&(f|=1),f<<=1,this.readModule(e,i,s,c)&&(f|=1),f}readCorner1(e,i){let s=0;return this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,1,e,i)&&(s|=1),s<<=1,this.readModule(e-1,2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s<<=1,this.readModule(2,i-1,e,i)&&(s|=1),s<<=1,this.readModule(3,i-1,e,i)&&(s|=1),s}readCorner2(e,i){let s=0;return this.readModule(e-3,0,e,i)&&(s|=1),s<<=1,this.readModule(e-2,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(0,i-4,e,i)&&(s|=1),s<<=1,this.readModule(0,i-3,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s}readCorner3(e,i){let s=0;return this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,i-1,e,i)&&(s|=1),s<<=1,this.readModule(0,i-3,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-3,e,i)&&(s|=1),s<<=1,this.readModule(1,i-2,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s}readCorner4(e,i){let s=0;return this.readModule(e-3,0,e,i)&&(s|=1),s<<=1,this.readModule(e-2,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s<<=1,this.readModule(2,i-1,e,i)&&(s|=1),s<<=1,this.readModule(3,i-1,e,i)&&(s|=1),s}extractDataRegion(e){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==i)throw new D("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),g=i/c|0,x=s/f|0,v=g*c,b=x*f,I=new X(b,v);for(let P=0;P<g;++P){const z=P*c;for(let Y=0;Y<x;++Y){const K=Y*f;for(let it=0;it<c;++it){const pt=P*(c+2)+1+it,Et=z+it;for(let Zt=0;Zt<f;++Zt){const Gt=Y*(f+2)+1+Zt;if(e.get(Gt,pt)){const Ht=K+Zt;I.set(Ht,Et)}}}}}return I}}class nn{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i){const s=i.getECBlocks();let c=0;const f=s.getECBlocks();for(let it of f)c+=it.getCount();const g=new Array(c);let x=0;for(let it of f)for(let pt=0;pt<it.getCount();pt++){const Et=it.getDataCodewords(),Zt=s.getECCodewords()+Et;g[x++]=new nn(Et,new Uint8Array(Zt))}const b=g[0].codewords.length-s.getECCodewords(),I=b-1;let P=0;for(let it=0;it<I;it++)for(let pt=0;pt<x;pt++)g[pt].codewords[it]=e[P++];const z=i.getVersionNumber()===24,Y=z?8:x;for(let it=0;it<Y;it++)g[it].codewords[b-1]=e[P++];const K=g[0].codewords.length;for(let it=b;it<K;it++)for(let pt=0;pt<x;pt++){const Et=z?(pt+8)%x:pt,Zt=z&&Et>7?it-1:it;g[Et].codewords[Zt]=e[P++]}if(P!==e.length)throw new D;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jn{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new D(""+e);let i=0,s=this.bitOffset,c=this.byteOffset;const f=this.bytes;if(s>0){const g=8-s,x=e<g?e:g,v=g-x,b=255>>8-x<<v;i=(f[c]&b)>>v,e-=x,s+=x,s===8&&(s=0,c++)}if(e>0){for(;e>=8;)i=i<<8|f[c]&255,c++,e-=8;if(e>0){const g=8-e,x=255>>g<<g;i=i<<e|(f[c]&x)>>g,s+=e}}return this.bitOffset=s,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var sn;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(sn||(sn={}));class Ri{static decode(e){const i=new Jn(e),s=new Lt,c=new Lt,f=new Array;let g=sn.ASCII_ENCODE;do if(g===sn.ASCII_ENCODE)g=this.decodeAsciiSegment(i,s,c);else{switch(g){case sn.C40_ENCODE:this.decodeC40Segment(i,s);break;case sn.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case sn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case sn.BASE256_ENCODE:this.decodeBase256Segment(i,s,f);break;default:throw new ft}g=sn.ASCII_ENCODE}while(g!==sn.PAD_ENCODE&&i.available()>0);return c.length()>0&&s.append(c.toString()),new Oe(e,s.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(e,i,s){let c=!1;do{let f=e.readBits(8);if(f===0)throw new ft;if(f<=128)return c&&(f+=128),i.append(String.fromCharCode(f-1)),sn.ASCII_ENCODE;if(f===129)return sn.PAD_ENCODE;if(f<=229){const g=f-130;g<10&&i.append("0"),i.append(""+g)}else switch(f){case 230:return sn.C40_ENCODE;case 231:return sn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return sn.ANSIX12_ENCODE;case 239:return sn.TEXT_ENCODE;case 240:return sn.EDIFACT_ENCODE;case 241:break;default:if(f!==254||e.available()!==0)throw new ft;break}}while(e.available()>0);return sn.ASCII_ENCODE}static decodeC40Segment(e,i){let s=!1;const c=[];let f=0;do{if(e.available()===8)return;const g=e.readBits(8);if(g===254)return;this.parseTwoBytes(g,e.readBits(8),c);for(let x=0;x<3;x++){const v=c[x];switch(f){case 0:if(v<3)f=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[v];s?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),s=!1):i.append(b)}else throw new ft;break;case 1:s?(i.append(String.fromCharCode(v+128)),s=!1):i.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[v];s?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),s=!1):i.append(b)}else switch(v){case 27:i.append("");break;case 30:s=!0;break;default:throw new ft}f=0;break;case 3:s?(i.append(String.fromCharCode(v+224)),s=!1):i.append(String.fromCharCode(v+96)),f=0;break;default:throw new ft}}}while(e.available()>0)}static decodeTextSegment(e,i){let s=!1,c=[],f=0;do{if(e.available()===8)return;const g=e.readBits(8);if(g===254)return;this.parseTwoBytes(g,e.readBits(8),c);for(let x=0;x<3;x++){const v=c[x];switch(f){case 0:if(v<3)f=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[v];s?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),s=!1):i.append(b)}else throw new ft;break;case 1:s?(i.append(String.fromCharCode(v+128)),s=!1):i.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[v];s?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),s=!1):i.append(b)}else switch(v){case 27:i.append("");break;case 30:s=!0;break;default:throw new ft}f=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[v];s?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),s=!1):i.append(b),f=0}else throw new ft;break;default:throw new ft}}}while(e.available()>0)}static decodeAnsiX12Segment(e,i){const s=[];do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(g){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(g<14)i.append(String.fromCharCode(g+44));else if(g<40)i.append(String.fromCharCode(g+51));else throw new ft;break}}}while(e.available()>0)}static parseTwoBytes(e,i,s){let c=(e<<8)+i-1,f=Math.floor(c/1600);s[0]=f,c-=f*1600,f=Math.floor(c/40),s[1]=f,s[2]=c-f*40}static decodeEdifactSegment(e,i){do{if(e.available()<=16)return;for(let s=0;s<4;s++){let c=e.readBits(6);if(c===31){const f=8-e.getBitOffset();f!==8&&e.readBits(f);return}(c&32)===0&&(c|=64),i.append(String.fromCharCode(c))}}while(e.available()>0)}static decodeBase256Segment(e,i,s){let c=1+e.getByteOffset();const f=this.unrandomize255State(e.readBits(8),c++);let g;if(f===0?g=e.available()/8|0:f<250?g=f:g=250*(f-249)+this.unrandomize255State(e.readBits(8),c++),g<0)throw new ft;const x=new Uint8Array(g);for(let v=0;v<g;v++){if(e.available()<8)throw new ft;x[v]=this.unrandomize255State(e.readBits(8),c++)}s.push(x);try{i.append(Dt.decode(x,Tt.ISO88591))}catch(v){throw new Xe("Platform does not support required encoding: "+v.message)}}static unrandomize255State(e,i){const s=149*i%255+1,c=e-s;return c>=0?c:c+256}}Ri.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ri.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ri.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ri.TEXT_SHIFT2_SET_CHARS=Ri.C40_SHIFT2_SET_CHARS,Ri.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class pa{constructor(){this.rsDecoder=new Kn(de.DATA_MATRIX_FIELD_256)}decode(e){const i=new ze(e),s=i.getVersion(),c=i.readCodewords(),f=nn.getDataBlocks(c,s);let g=0;for(let b of f)g+=b.getNumDataCodewords();const x=new Uint8Array(g),v=f.length;for(let b=0;b<v;b++){const I=f[b],P=I.getCodewords(),z=I.getNumDataCodewords();this.correctErrors(P,z);for(let Y=0;Y<z;Y++)x[Y*v+b]=P[Y]}return Ri.decode(x)}correctErrors(e,i){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-i)}catch{throw new V}for(let c=0;c<i;c++)e[c]=s[c]}}class ee{constructor(e){this.image=e,this.rectangleDetector=new zn(this.image)}detect(){const e=this.rectangleDetector.detect();let i=this.detectSolid1(e);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new q;i=this.shiftToModuleCenter(i);const s=i[0],c=i[1],f=i[2],g=i[3];let x=this.transitionsBetween(s,g)+1,v=this.transitionsBetween(f,g)+1;(x&1)===1&&(x+=1),(v&1)===1&&(v+=1),4*x<7*v&&4*v<7*x&&(x=v=Math.max(x,v));let b=ee.sampleGrid(this.image,s,c,f,g,x,v);return new Ui(b,[s,c,f,g])}static shiftPoint(e,i,s){let c=(i.getX()-e.getX())/(s+1),f=(i.getY()-e.getY())/(s+1);return new Qt(e.getX()+c,e.getY()+f)}static moveAway(e,i,s){let c=e.getX(),f=e.getY();return c<i?c-=1:c+=1,f<s?f-=1:f+=1,new Qt(c,f)}detectSolid1(e){let i=e[0],s=e[1],c=e[3],f=e[2],g=this.transitionsBetween(i,s),x=this.transitionsBetween(s,c),v=this.transitionsBetween(c,f),b=this.transitionsBetween(f,i),I=g,P=[f,i,s,c];return I>x&&(I=x,P[0]=i,P[1]=s,P[2]=c,P[3]=f),I>v&&(I=v,P[0]=s,P[1]=c,P[2]=f,P[3]=i),I>b&&(P[0]=c,P[1]=f,P[2]=i,P[3]=s),P}detectSolid2(e){let i=e[0],s=e[1],c=e[2],f=e[3],g=this.transitionsBetween(i,f),x=ee.shiftPoint(s,c,(g+1)*4),v=ee.shiftPoint(c,s,(g+1)*4),b=this.transitionsBetween(x,i),I=this.transitionsBetween(v,f);return b<I?(e[0]=i,e[1]=s,e[2]=c,e[3]=f):(e[0]=s,e[1]=c,e[2]=f,e[3]=i),e}correctTopRight(e){let i=e[0],s=e[1],c=e[2],f=e[3],g=this.transitionsBetween(i,f),x=this.transitionsBetween(s,f),v=ee.shiftPoint(i,s,(x+1)*4),b=ee.shiftPoint(c,s,(g+1)*4);g=this.transitionsBetween(v,f),x=this.transitionsBetween(b,f);let I=new Qt(f.getX()+(c.getX()-s.getX())/(g+1),f.getY()+(c.getY()-s.getY())/(g+1)),P=new Qt(f.getX()+(i.getX()-s.getX())/(x+1),f.getY()+(i.getY()-s.getY())/(x+1));if(!this.isValid(I))return this.isValid(P)?P:null;if(!this.isValid(P))return I;let z=this.transitionsBetween(v,I)+this.transitionsBetween(b,I),Y=this.transitionsBetween(v,P)+this.transitionsBetween(b,P);return z>Y?I:P}shiftToModuleCenter(e){let i=e[0],s=e[1],c=e[2],f=e[3],g=this.transitionsBetween(i,f)+1,x=this.transitionsBetween(c,f)+1,v=ee.shiftPoint(i,s,x*4),b=ee.shiftPoint(c,s,g*4);g=this.transitionsBetween(v,f)+1,x=this.transitionsBetween(b,f)+1,(g&1)===1&&(g+=1),(x&1)===1&&(x+=1);let I=(i.getX()+s.getX()+c.getX()+f.getX())/4,P=(i.getY()+s.getY()+c.getY()+f.getY())/4;i=ee.moveAway(i,I,P),s=ee.moveAway(s,I,P),c=ee.moveAway(c,I,P),f=ee.moveAway(f,I,P);let z,Y;return v=ee.shiftPoint(i,s,x*4),v=ee.shiftPoint(v,f,g*4),z=ee.shiftPoint(s,i,x*4),z=ee.shiftPoint(z,c,g*4),b=ee.shiftPoint(c,f,x*4),b=ee.shiftPoint(b,s,g*4),Y=ee.shiftPoint(f,c,x*4),Y=ee.shiftPoint(Y,i,g*4),[v,z,b,Y]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,i,s,c,f,g,x){return yn.getInstance().sampleGrid(e,g,x,.5,.5,g-.5,.5,g-.5,x-.5,.5,x-.5,i.getX(),i.getY(),f.getX(),f.getY(),c.getX(),c.getY(),s.getX(),s.getY())}transitionsBetween(e,i){let s=Math.trunc(e.getX()),c=Math.trunc(e.getY()),f=Math.trunc(i.getX()),g=Math.trunc(i.getY()),x=Math.abs(g-c)>Math.abs(f-s);if(x){let it=s;s=c,c=it,it=f,f=g,g=it}let v=Math.abs(f-s),b=Math.abs(g-c),I=-v/2,P=c<g?1:-1,z=s<f?1:-1,Y=0,K=this.image.get(x?c:s,x?s:c);for(let it=s,pt=c;it!==f;it+=z){let Et=this.image.get(x?pt:it,x?it:pt);if(Et!==K&&(Y++,K=Et),I+=b,I>0){if(pt===g)break;pt+=P,I-=v}}return Y}}class je{constructor(){this.decoder=new pa}decode(e,i=null){let s,c;if(i!=null&&i.has(Nt.PURE_BARCODE)){const b=je.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(b),c=je.NO_POINTS}else{const b=new ee(e.getBlackMatrix()).detect();s=this.decoder.decode(b.getBits()),c=b.getPoints()}const f=s.getRawBytes(),g=new At(s.getText(),f,8*f.length,c,_t.DATA_MATRIX,j.currentTimeMillis()),x=s.getByteSegments();x!=null&&g.putMetadata(qt.BYTE_SEGMENTS,x);const v=s.getECLevel();return v!=null&&g.putMetadata(qt.ERROR_CORRECTION_LEVEL,v),g}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(i==null||s==null)throw new q;const c=this.moduleSize(i,e);let f=i[1];const g=s[1];let x=i[0];const b=(s[0]-x+1)/c,I=(g-f+1)/c;if(b<=0||I<=0)throw new q;const P=c/2;f+=P,x+=P;const z=new X(b,I);for(let Y=0;Y<I;Y++){const K=f+Y*c;for(let it=0;it<b;it++)e.get(x+it*c,K)&&z.set(it,Y)}return z}static moduleSize(e,i){const s=i.getWidth();let c=e[0];const f=e[1];for(;c<s&&i.get(c,f);)c++;if(c===s)throw new q;const g=c-e[0];if(g===0)throw new q;return g}}je.NO_POINTS=[];class Qs extends vt{constructor(e=500){super(new je,e)}}var Rn;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Rn||(Rn={}));class Ce{constructor(e,i,s){this.value=e,this.stringValue=i,this.bits=s,Ce.FOR_BITS.set(s,this),Ce.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Ce.L;case"M":return Ce.M;case"Q":return Ce.Q;case"H":return Ce.H;default:throw new N(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Ce))return!1;const i=e;return this.value===i.value}static forBits(e){if(e<0||e>=Ce.FOR_BITS.size)throw new D;return Ce.FOR_BITS.get(e)}}Ce.FOR_BITS=new Map,Ce.FOR_VALUE=new Map,Ce.L=new Ce(Rn.L,"L",1),Ce.M=new Ce(Rn.M,"M",0),Ce.Q=new Ce(Rn.Q,"Q",3),Ce.H=new Ce(Rn.H,"H",2);class $n{constructor(e){this.errorCorrectionLevel=Ce.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,i){return tt.bitCount(e^i)}static decodeFormatInformation(e,i){const s=$n.doDecodeFormatInformation(e,i);return s!==null?s:$n.doDecodeFormatInformation(e^$n.FORMAT_INFO_MASK_QR,i^$n.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,i){let s=Number.MAX_SAFE_INTEGER,c=0;for(const f of $n.FORMAT_INFO_DECODE_LOOKUP){const g=f[0];if(g===e||g===i)return new $n(f[1]);let x=$n.numBitsDiffering(e,g);x<s&&(c=f[1],s=x),e!==i&&(x=$n.numBitsDiffering(i,g),x<s&&(c=f[1],s=x))}return s<=3?new $n(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof $n))return!1;const i=e;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}$n.FORMAT_INFO_MASK_QR=21522,$n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class mt{constructor(e,...i){this.ecCodewordsPerBlock=e,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const i=this.ecBlocks;for(const s of i)e+=s.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Z{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Wt{constructor(e,i,...s){this.versionNumber=e,this.alignmentPatternCenters=i,this.ecBlocks=s;let c=0;const f=s[0].getECCodewordsPerBlock(),g=s[0].getECBlocks();for(const x of g)c+=x.getCount()*(x.getDataCodewords()+f);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new ft;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ft}}static getVersionForNumber(e){if(e<1||e>40)throw new D;return Wt.VERSIONS[e-1]}static decodeVersionInformation(e){let i=Number.MAX_SAFE_INTEGER,s=0;for(let c=0;c<Wt.VERSION_DECODE_INFO.length;c++){const f=Wt.VERSION_DECODE_INFO[c];if(f===e)return Wt.getVersionForNumber(c+7);const g=$n.numBitsDiffering(e,f);g<i&&(s=c+7,i=g)}return i<=3?Wt.getVersionForNumber(s):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),i=new X(e);i.setRegion(0,0,9,9),i.setRegion(e-8,0,8,9),i.setRegion(0,e-8,9,8);const s=this.alignmentPatternCenters.length;for(let c=0;c<s;c++){const f=this.alignmentPatternCenters[c]-2;for(let g=0;g<s;g++)c===0&&(g===0||g===s-1)||c===s-1&&g===0||i.setRegion(this.alignmentPatternCenters[g]-2,f,5,5)}return i.setRegion(6,9,1,e-17),i.setRegion(9,6,e-17,1),this.versionNumber>6&&(i.setRegion(e-11,0,3,6),i.setRegion(0,e-11,6,3)),i}toString(){return""+this.versionNumber}}Wt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Wt.VERSIONS=[new Wt(1,new Int32Array(0),new mt(7,new Z(1,19)),new mt(10,new Z(1,16)),new mt(13,new Z(1,13)),new mt(17,new Z(1,9))),new Wt(2,Int32Array.from([6,18]),new mt(10,new Z(1,34)),new mt(16,new Z(1,28)),new mt(22,new Z(1,22)),new mt(28,new Z(1,16))),new Wt(3,Int32Array.from([6,22]),new mt(15,new Z(1,55)),new mt(26,new Z(1,44)),new mt(18,new Z(2,17)),new mt(22,new Z(2,13))),new Wt(4,Int32Array.from([6,26]),new mt(20,new Z(1,80)),new mt(18,new Z(2,32)),new mt(26,new Z(2,24)),new mt(16,new Z(4,9))),new Wt(5,Int32Array.from([6,30]),new mt(26,new Z(1,108)),new mt(24,new Z(2,43)),new mt(18,new Z(2,15),new Z(2,16)),new mt(22,new Z(2,11),new Z(2,12))),new Wt(6,Int32Array.from([6,34]),new mt(18,new Z(2,68)),new mt(16,new Z(4,27)),new mt(24,new Z(4,19)),new mt(28,new Z(4,15))),new Wt(7,Int32Array.from([6,22,38]),new mt(20,new Z(2,78)),new mt(18,new Z(4,31)),new mt(18,new Z(2,14),new Z(4,15)),new mt(26,new Z(4,13),new Z(1,14))),new Wt(8,Int32Array.from([6,24,42]),new mt(24,new Z(2,97)),new mt(22,new Z(2,38),new Z(2,39)),new mt(22,new Z(4,18),new Z(2,19)),new mt(26,new Z(4,14),new Z(2,15))),new Wt(9,Int32Array.from([6,26,46]),new mt(30,new Z(2,116)),new mt(22,new Z(3,36),new Z(2,37)),new mt(20,new Z(4,16),new Z(4,17)),new mt(24,new Z(4,12),new Z(4,13))),new Wt(10,Int32Array.from([6,28,50]),new mt(18,new Z(2,68),new Z(2,69)),new mt(26,new Z(4,43),new Z(1,44)),new mt(24,new Z(6,19),new Z(2,20)),new mt(28,new Z(6,15),new Z(2,16))),new Wt(11,Int32Array.from([6,30,54]),new mt(20,new Z(4,81)),new mt(30,new Z(1,50),new Z(4,51)),new mt(28,new Z(4,22),new Z(4,23)),new mt(24,new Z(3,12),new Z(8,13))),new Wt(12,Int32Array.from([6,32,58]),new mt(24,new Z(2,92),new Z(2,93)),new mt(22,new Z(6,36),new Z(2,37)),new mt(26,new Z(4,20),new Z(6,21)),new mt(28,new Z(7,14),new Z(4,15))),new Wt(13,Int32Array.from([6,34,62]),new mt(26,new Z(4,107)),new mt(22,new Z(8,37),new Z(1,38)),new mt(24,new Z(8,20),new Z(4,21)),new mt(22,new Z(12,11),new Z(4,12))),new Wt(14,Int32Array.from([6,26,46,66]),new mt(30,new Z(3,115),new Z(1,116)),new mt(24,new Z(4,40),new Z(5,41)),new mt(20,new Z(11,16),new Z(5,17)),new mt(24,new Z(11,12),new Z(5,13))),new Wt(15,Int32Array.from([6,26,48,70]),new mt(22,new Z(5,87),new Z(1,88)),new mt(24,new Z(5,41),new Z(5,42)),new mt(30,new Z(5,24),new Z(7,25)),new mt(24,new Z(11,12),new Z(7,13))),new Wt(16,Int32Array.from([6,26,50,74]),new mt(24,new Z(5,98),new Z(1,99)),new mt(28,new Z(7,45),new Z(3,46)),new mt(24,new Z(15,19),new Z(2,20)),new mt(30,new Z(3,15),new Z(13,16))),new Wt(17,Int32Array.from([6,30,54,78]),new mt(28,new Z(1,107),new Z(5,108)),new mt(28,new Z(10,46),new Z(1,47)),new mt(28,new Z(1,22),new Z(15,23)),new mt(28,new Z(2,14),new Z(17,15))),new Wt(18,Int32Array.from([6,30,56,82]),new mt(30,new Z(5,120),new Z(1,121)),new mt(26,new Z(9,43),new Z(4,44)),new mt(28,new Z(17,22),new Z(1,23)),new mt(28,new Z(2,14),new Z(19,15))),new Wt(19,Int32Array.from([6,30,58,86]),new mt(28,new Z(3,113),new Z(4,114)),new mt(26,new Z(3,44),new Z(11,45)),new mt(26,new Z(17,21),new Z(4,22)),new mt(26,new Z(9,13),new Z(16,14))),new Wt(20,Int32Array.from([6,34,62,90]),new mt(28,new Z(3,107),new Z(5,108)),new mt(26,new Z(3,41),new Z(13,42)),new mt(30,new Z(15,24),new Z(5,25)),new mt(28,new Z(15,15),new Z(10,16))),new Wt(21,Int32Array.from([6,28,50,72,94]),new mt(28,new Z(4,116),new Z(4,117)),new mt(26,new Z(17,42)),new mt(28,new Z(17,22),new Z(6,23)),new mt(30,new Z(19,16),new Z(6,17))),new Wt(22,Int32Array.from([6,26,50,74,98]),new mt(28,new Z(2,111),new Z(7,112)),new mt(28,new Z(17,46)),new mt(30,new Z(7,24),new Z(16,25)),new mt(24,new Z(34,13))),new Wt(23,Int32Array.from([6,30,54,78,102]),new mt(30,new Z(4,121),new Z(5,122)),new mt(28,new Z(4,47),new Z(14,48)),new mt(30,new Z(11,24),new Z(14,25)),new mt(30,new Z(16,15),new Z(14,16))),new Wt(24,Int32Array.from([6,28,54,80,106]),new mt(30,new Z(6,117),new Z(4,118)),new mt(28,new Z(6,45),new Z(14,46)),new mt(30,new Z(11,24),new Z(16,25)),new mt(30,new Z(30,16),new Z(2,17))),new Wt(25,Int32Array.from([6,32,58,84,110]),new mt(26,new Z(8,106),new Z(4,107)),new mt(28,new Z(8,47),new Z(13,48)),new mt(30,new Z(7,24),new Z(22,25)),new mt(30,new Z(22,15),new Z(13,16))),new Wt(26,Int32Array.from([6,30,58,86,114]),new mt(28,new Z(10,114),new Z(2,115)),new mt(28,new Z(19,46),new Z(4,47)),new mt(28,new Z(28,22),new Z(6,23)),new mt(30,new Z(33,16),new Z(4,17))),new Wt(27,Int32Array.from([6,34,62,90,118]),new mt(30,new Z(8,122),new Z(4,123)),new mt(28,new Z(22,45),new Z(3,46)),new mt(30,new Z(8,23),new Z(26,24)),new mt(30,new Z(12,15),new Z(28,16))),new Wt(28,Int32Array.from([6,26,50,74,98,122]),new mt(30,new Z(3,117),new Z(10,118)),new mt(28,new Z(3,45),new Z(23,46)),new mt(30,new Z(4,24),new Z(31,25)),new mt(30,new Z(11,15),new Z(31,16))),new Wt(29,Int32Array.from([6,30,54,78,102,126]),new mt(30,new Z(7,116),new Z(7,117)),new mt(28,new Z(21,45),new Z(7,46)),new mt(30,new Z(1,23),new Z(37,24)),new mt(30,new Z(19,15),new Z(26,16))),new Wt(30,Int32Array.from([6,26,52,78,104,130]),new mt(30,new Z(5,115),new Z(10,116)),new mt(28,new Z(19,47),new Z(10,48)),new mt(30,new Z(15,24),new Z(25,25)),new mt(30,new Z(23,15),new Z(25,16))),new Wt(31,Int32Array.from([6,30,56,82,108,134]),new mt(30,new Z(13,115),new Z(3,116)),new mt(28,new Z(2,46),new Z(29,47)),new mt(30,new Z(42,24),new Z(1,25)),new mt(30,new Z(23,15),new Z(28,16))),new Wt(32,Int32Array.from([6,34,60,86,112,138]),new mt(30,new Z(17,115)),new mt(28,new Z(10,46),new Z(23,47)),new mt(30,new Z(10,24),new Z(35,25)),new mt(30,new Z(19,15),new Z(35,16))),new Wt(33,Int32Array.from([6,30,58,86,114,142]),new mt(30,new Z(17,115),new Z(1,116)),new mt(28,new Z(14,46),new Z(21,47)),new mt(30,new Z(29,24),new Z(19,25)),new mt(30,new Z(11,15),new Z(46,16))),new Wt(34,Int32Array.from([6,34,62,90,118,146]),new mt(30,new Z(13,115),new Z(6,116)),new mt(28,new Z(14,46),new Z(23,47)),new mt(30,new Z(44,24),new Z(7,25)),new mt(30,new Z(59,16),new Z(1,17))),new Wt(35,Int32Array.from([6,30,54,78,102,126,150]),new mt(30,new Z(12,121),new Z(7,122)),new mt(28,new Z(12,47),new Z(26,48)),new mt(30,new Z(39,24),new Z(14,25)),new mt(30,new Z(22,15),new Z(41,16))),new Wt(36,Int32Array.from([6,24,50,76,102,128,154]),new mt(30,new Z(6,121),new Z(14,122)),new mt(28,new Z(6,47),new Z(34,48)),new mt(30,new Z(46,24),new Z(10,25)),new mt(30,new Z(2,15),new Z(64,16))),new Wt(37,Int32Array.from([6,28,54,80,106,132,158]),new mt(30,new Z(17,122),new Z(4,123)),new mt(28,new Z(29,46),new Z(14,47)),new mt(30,new Z(49,24),new Z(10,25)),new mt(30,new Z(24,15),new Z(46,16))),new Wt(38,Int32Array.from([6,32,58,84,110,136,162]),new mt(30,new Z(4,122),new Z(18,123)),new mt(28,new Z(13,46),new Z(32,47)),new mt(30,new Z(48,24),new Z(14,25)),new mt(30,new Z(42,15),new Z(32,16))),new Wt(39,Int32Array.from([6,26,54,82,110,138,166]),new mt(30,new Z(20,117),new Z(4,118)),new mt(28,new Z(40,47),new Z(7,48)),new mt(30,new Z(43,24),new Z(22,25)),new mt(30,new Z(10,15),new Z(67,16))),new Wt(40,Int32Array.from([6,30,58,86,114,142,170]),new mt(30,new Z(19,118),new Z(6,119)),new mt(28,new Z(18,47),new Z(31,48)),new mt(30,new Z(34,24),new Z(34,25)),new mt(30,new Z(20,15),new Z(61,16)))];var on;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class Nn{constructor(e,i){this.value=e,this.isMasked=i}unmaskBitMatrix(e,i){for(let s=0;s<i;s++)for(let c=0;c<i;c++)this.isMasked(s,c)&&e.flip(c,s)}}Nn.values=new Map([[on.DATA_MASK_000,new Nn(on.DATA_MASK_000,(B,e)=>(B+e&1)===0)],[on.DATA_MASK_001,new Nn(on.DATA_MASK_001,(B,e)=>(B&1)===0)],[on.DATA_MASK_010,new Nn(on.DATA_MASK_010,(B,e)=>e%3===0)],[on.DATA_MASK_011,new Nn(on.DATA_MASK_011,(B,e)=>(B+e)%3===0)],[on.DATA_MASK_100,new Nn(on.DATA_MASK_100,(B,e)=>(Math.floor(B/2)+Math.floor(e/3)&1)===0)],[on.DATA_MASK_101,new Nn(on.DATA_MASK_101,(B,e)=>B*e%6===0)],[on.DATA_MASK_110,new Nn(on.DATA_MASK_110,(B,e)=>B*e%6<3)],[on.DATA_MASK_111,new Nn(on.DATA_MASK_111,(B,e)=>(B+e+B*e%3&1)===0)]]);class Va{constructor(e){const i=e.getHeight();if(i<21||(i&3)!==1)throw new ft;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let f=0;f<6;f++)e=this.copyBit(f,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let f=5;f>=0;f--)e=this.copyBit(8,f,e);const i=this.bitMatrix.getHeight();let s=0;const c=i-7;for(let f=i-1;f>=c;f--)s=this.copyBit(8,f,s);for(let f=i-8;f<i;f++)s=this.copyBit(f,8,s);if(this.parsedFormatInfo=$n.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ft}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),i=Math.floor((e-17)/4);if(i<=6)return Wt.getVersionForNumber(i);let s=0;const c=e-11;for(let g=5;g>=0;g--)for(let x=e-9;x>=c;x--)s=this.copyBit(x,g,s);let f=Wt.decodeVersionInformation(s);if(f!==null&&f.getDimensionForVersion()===e)return this.parsedVersion=f,f;s=0;for(let g=5;g>=0;g--)for(let x=e-9;x>=c;x--)s=this.copyBit(g,x,s);if(f=Wt.decodeVersionInformation(s),f!==null&&f.getDimensionForVersion()===e)return this.parsedVersion=f,f;throw new ft}copyBit(e,i,s){return(this.isMirror?this.bitMatrix.get(i,e):this.bitMatrix.get(e,i))?s<<1|1:s<<1}readCodewords(){const e=this.readFormatInformation(),i=this.readVersion(),s=Nn.values.get(e.getDataMask()),c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c);const f=i.buildFunctionPattern();let g=!0;const x=new Uint8Array(i.getTotalCodewords());let v=0,b=0,I=0;for(let P=c-1;P>0;P-=2){P===6&&P--;for(let z=0;z<c;z++){const Y=g?c-1-z:z;for(let K=0;K<2;K++)f.get(P-K,Y)||(I++,b<<=1,this.bitMatrix.get(P-K,Y)&&(b|=1),I===8&&(x[v++]=b,I=0,b=0))}g=!g}if(v!==i.getTotalCodewords())throw new ft;return x}remask(){if(this.parsedFormatInfo===null)return;const e=Nn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,i)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let i=0,s=e.getWidth();i<s;i++)for(let c=i+1,f=e.getHeight();c<f;c++)e.get(i,c)!==e.get(c,i)&&(e.flip(c,i),e.flip(i,c))}}class xa{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i,s){if(e.length!==i.getTotalCodewords())throw new D;const c=i.getECBlocksForLevel(s);let f=0;const g=c.getECBlocks();for(const K of g)f+=K.getCount();const x=new Array(f);let v=0;for(const K of g)for(let it=0;it<K.getCount();it++){const pt=K.getDataCodewords(),Et=c.getECCodewordsPerBlock()+pt;x[v++]=new xa(pt,new Uint8Array(Et))}const b=x[0].codewords.length;let I=x.length-1;for(;I>=0&&x[I].codewords.length!==b;)I--;I++;const P=b-c.getECCodewordsPerBlock();let z=0;for(let K=0;K<P;K++)for(let it=0;it<v;it++)x[it].codewords[K]=e[z++];for(let K=I;K<v;K++)x[K].codewords[P]=e[z++];const Y=x[0].codewords.length;for(let K=P;K<Y;K++)for(let it=0;it<v;it++){const pt=it<I?K:K+1;x[it].codewords[pt]=e[z++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ti;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(ti||(ti={}));class re{constructor(e,i,s,c){this.value=e,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=c,re.FOR_BITS.set(c,this),re.FOR_VALUE.set(e,this)}static forBits(e){const i=re.FOR_BITS.get(e);if(i===void 0)throw new D;return i}getCharacterCountBits(e){const i=e.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof re))return!1;const i=e;return this.value===i.value}toString(){return this.stringValue}}re.FOR_BITS=new Map,re.FOR_VALUE=new Map,re.TERMINATOR=new re(ti.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),re.NUMERIC=new re(ti.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),re.ALPHANUMERIC=new re(ti.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),re.STRUCTURED_APPEND=new re(ti.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),re.BYTE=new re(ti.BYTE,"BYTE",Int32Array.from([8,16,16]),4),re.ECI=new re(ti.ECI,"ECI",Int32Array.from([0,0,0]),7),re.KANJI=new re(ti.KANJI,"KANJI",Int32Array.from([8,10,12]),8),re.FNC1_FIRST_POSITION=new re(ti.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),re.FNC1_SECOND_POSITION=new re(ti.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),re.HANZI=new re(ti.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ln{static decode(e,i,s,c){const f=new Jn(e);let g=new Lt;const x=new Array;let v=-1,b=-1;try{let I=null,P=!1,z;do{if(f.available()<4)z=re.TERMINATOR;else{const Y=f.readBits(4);z=re.forBits(Y)}switch(z){case re.TERMINATOR:break;case re.FNC1_FIRST_POSITION:case re.FNC1_SECOND_POSITION:P=!0;break;case re.STRUCTURED_APPEND:if(f.available()<16)throw new ft;v=f.readBits(8),b=f.readBits(8);break;case re.ECI:const Y=ln.parseECIValue(f);if(I=st.getCharacterSetECIByValue(Y),I===null)throw new ft;break;case re.HANZI:const K=f.readBits(4),it=f.readBits(z.getCharacterCountBits(i));K===ln.GB2312_SUBSET&&ln.decodeHanziSegment(f,g,it);break;default:const pt=f.readBits(z.getCharacterCountBits(i));switch(z){case re.NUMERIC:ln.decodeNumericSegment(f,g,pt);break;case re.ALPHANUMERIC:ln.decodeAlphanumericSegment(f,g,pt,P);break;case re.BYTE:ln.decodeByteSegment(f,g,pt,I,x,c);break;case re.KANJI:ln.decodeKanjiSegment(f,g,pt);break;default:throw new ft}break}}while(z!==re.TERMINATOR)}catch{throw new ft}return new Oe(e,g.toString(),x.length===0?null:x,s===null?null:s.toString(),v,b)}static decodeHanziSegment(e,i,s){if(s*13>e.available())throw new ft;const c=new Uint8Array(2*s);let f=0;for(;s>0;){const g=e.readBits(13);let x=g/96<<8&4294967295|g%96;x<959?x+=41377:x+=42657,c[f]=x>>8&255,c[f+1]=x&255,f+=2,s--}try{i.append(Dt.decode(c,Tt.GB2312))}catch(g){throw new ft(g)}}static decodeKanjiSegment(e,i,s){if(s*13>e.available())throw new ft;const c=new Uint8Array(2*s);let f=0;for(;s>0;){const g=e.readBits(13);let x=g/192<<8&4294967295|g%192;x<7936?x+=33088:x+=49472,c[f]=x>>8,c[f+1]=x,f+=2,s--}try{i.append(Dt.decode(c,Tt.SHIFT_JIS))}catch(g){throw new ft(g)}}static decodeByteSegment(e,i,s,c,f,g){if(8*s>e.available())throw new ft;const x=new Uint8Array(s);for(let b=0;b<s;b++)x[b]=e.readBits(8);let v;c===null?v=Tt.guessEncoding(x,g):v=c.getName();try{i.append(Dt.decode(x,v))}catch(b){throw new ft(b)}f.push(x)}static toAlphaNumericChar(e){if(e>=ln.ALPHANUMERIC_CHARS.length)throw new ft;return ln.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,i,s,c){const f=i.length();for(;s>1;){if(e.available()<11)throw new ft;const g=e.readBits(11);i.append(ln.toAlphaNumericChar(Math.floor(g/45))),i.append(ln.toAlphaNumericChar(g%45)),s-=2}if(s===1){if(e.available()<6)throw new ft;i.append(ln.toAlphaNumericChar(e.readBits(6)))}if(c)for(let g=f;g<i.length();g++)i.charAt(g)==="%"&&(g<i.length()-1&&i.charAt(g+1)==="%"?i.deleteCharAt(g+1):i.setCharAt(g,""))}static decodeNumericSegment(e,i,s){for(;s>=3;){if(e.available()<10)throw new ft;const c=e.readBits(10);if(c>=1e3)throw new ft;i.append(ln.toAlphaNumericChar(Math.floor(c/100))),i.append(ln.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(ln.toAlphaNumericChar(c%10)),s-=3}if(s===2){if(e.available()<7)throw new ft;const c=e.readBits(7);if(c>=100)throw new ft;i.append(ln.toAlphaNumericChar(Math.floor(c/10))),i.append(ln.toAlphaNumericChar(c%10))}else if(s===1){if(e.available()<4)throw new ft;const c=e.readBits(4);if(c>=10)throw new ft;i.append(ln.toAlphaNumericChar(c))}}static parseECIValue(e){const i=e.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const s=e.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=e.readBits(16);return(i&31)<<16&4294967295|s}throw new ft}}ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ln.GB2312_SUBSET=1;class Ga{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const i=e[0];e[0]=e[2],e[2]=i}}class _a{constructor(){this.rsDecoder=new Kn(de.QR_CODE_FIELD_256)}decodeBooleanArray(e,i){return this.decodeBitMatrix(X.parseFromBooleanArray(e),i)}decodeBitMatrix(e,i){const s=new Va(e);let c=null;try{return this.decodeBitMatrixParser(s,i)}catch(f){c=f}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const f=this.decodeBitMatrixParser(s,i);return f.setOther(new Ga(!0)),f}catch(f){throw c!==null?c:f}}decodeBitMatrixParser(e,i){const s=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),g=xa.getDataBlocks(f,s,c);let x=0;for(const I of g)x+=I.getNumDataCodewords();const v=new Uint8Array(x);let b=0;for(const I of g){const P=I.getCodewords(),z=I.getNumDataCodewords();this.correctErrors(P,z);for(let Y=0;Y<z;Y++)v[b++]=P[Y]}return ln.decode(v,s,c,i)}correctErrors(e,i){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-i)}catch{throw new V}for(let c=0;c<i;c++)e[c]=s[c]}}class $r extends Qt{constructor(e,i,s){super(e,i),this.estimatedModuleSize=s}aboutEquals(e,i,s){if(Math.abs(i-this.getY())<=e&&Math.abs(s-this.getX())<=e){const c=Math.abs(e-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(e,i,s){const c=(this.getX()+i)/2,f=(this.getY()+e)/2,g=(this.estimatedModuleSize+s)/2;return new $r(c,f,g)}}class xr{constructor(e,i,s,c,f,g,x){this.image=e,this.startX=i,this.startY=s,this.width=c,this.height=f,this.moduleSize=g,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,i=this.height,s=this.width,c=e+s,f=this.startY+i/2,g=new Int32Array(3),x=this.image;for(let v=0;v<i;v++){const b=f+((v&1)===0?Math.floor((v+1)/2):-Math.floor((v+1)/2));g[0]=0,g[1]=0,g[2]=0;let I=e;for(;I<c&&!x.get(I,b);)I++;let P=0;for(;I<c;){if(x.get(I,b))if(P===1)g[1]++;else if(P===2){if(this.foundPatternCross(g)){const z=this.handlePossibleCenter(g,b,I);if(z!==null)return z}g[0]=g[2],g[1]=1,g[2]=0,P=1}else g[++P]++;else P===1&&P++,g[P]++;I++}if(this.foundPatternCross(g)){const z=this.handlePossibleCenter(g,b,c);if(z!==null)return z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(e,i){return i-e[2]-e[1]/2}foundPatternCross(e){const i=this.moduleSize,s=i/2;for(let c=0;c<3;c++)if(Math.abs(i-e[c])>=s)return!1;return!0}crossCheckVertical(e,i,s,c){const f=this.image,g=f.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let v=e;for(;v>=0&&f.get(i,v)&&x[1]<=s;)x[1]++,v--;if(v<0||x[1]>s)return NaN;for(;v>=0&&!f.get(i,v)&&x[0]<=s;)x[0]++,v--;if(x[0]>s)return NaN;for(v=e+1;v<g&&f.get(i,v)&&x[1]<=s;)x[1]++,v++;if(v===g||x[1]>s)return NaN;for(;v<g&&!f.get(i,v)&&x[2]<=s;)x[2]++,v++;if(x[2]>s)return NaN;const b=x[0]+x[1]+x[2];return 5*Math.abs(b-c)>=2*c?NaN:this.foundPatternCross(x)?xr.centerFromEnd(x,v):NaN}handlePossibleCenter(e,i,s){const c=e[0]+e[1]+e[2],f=xr.centerFromEnd(e,s),g=this.crossCheckVertical(i,f,2*e[1],c);if(!isNaN(g)){const x=(e[0]+e[1]+e[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(x,g,f))return b.combineEstimate(g,f,x);const v=new $r(f,g,x);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class _r extends Qt{constructor(e,i,s,c){super(e,i),this.estimatedModuleSize=s,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,i,s){if(Math.abs(i-this.getY())<=e&&Math.abs(s-this.getX())<=e){const c=Math.abs(e-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(e,i,s){const c=this.count+1,f=(this.count*this.getX()+i)/c,g=(this.count*this.getY()+e)/c,x=(this.count*this.estimatedModuleSize+s)/c;return new _r(f,g,x,c)}}class Zr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Un{constructor(e,i){this.image=e,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const i=e!=null&&e.get(Nt.TRY_HARDER)!==void 0,s=e!=null&&e.get(Nt.PURE_BARCODE)!==void 0,c=this.image,f=c.getHeight(),g=c.getWidth();let x=Math.floor(3*f/(4*Un.MAX_MODULES));(x<Un.MIN_SKIP||i)&&(x=Un.MIN_SKIP);let v=!1;const b=new Int32Array(5);for(let P=x-1;P<f&&!v;P+=x){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let z=0;for(let Y=0;Y<g;Y++)if(c.get(Y,P))(z&1)===1&&z++,b[z]++;else if((z&1)===0)if(z===4)if(Un.foundPatternCross(b)){if(this.handlePossibleCenter(b,P,Y,s)===!0)if(x=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const it=this.findRowSkip();it>b[2]&&(P+=it-b[2]-x,Y=g-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,z=3;continue}z=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,z=3;else b[++z]++;else b[z]++;Un.foundPatternCross(b)&&this.handlePossibleCenter(b,P,g,s)===!0&&(x=b[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return Qt.orderBestPatterns(I),new Zr(I)}static centerFromEnd(e,i){return i-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let i=0;for(let f=0;f<5;f++){const g=e[f];if(g===0)return!1;i+=g}if(i<7)return!1;const s=i/7,c=s/2;return Math.abs(s-e[0])<c&&Math.abs(s-e[1])<c&&Math.abs(3*s-e[2])<3*c&&Math.abs(s-e[3])<c&&Math.abs(s-e[4])<c}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,i,s,c){const f=this.getCrossCheckStateCount();let g=0;const x=this.image;for(;e>=g&&i>=g&&x.get(i-g,e-g);)f[2]++,g++;if(e<g||i<g)return!1;for(;e>=g&&i>=g&&!x.get(i-g,e-g)&&f[1]<=s;)f[1]++,g++;if(e<g||i<g||f[1]>s)return!1;for(;e>=g&&i>=g&&x.get(i-g,e-g)&&f[0]<=s;)f[0]++,g++;if(f[0]>s)return!1;const v=x.getHeight(),b=x.getWidth();for(g=1;e+g<v&&i+g<b&&x.get(i+g,e+g);)f[2]++,g++;if(e+g>=v||i+g>=b)return!1;for(;e+g<v&&i+g<b&&!x.get(i+g,e+g)&&f[3]<s;)f[3]++,g++;if(e+g>=v||i+g>=b||f[3]>=s)return!1;for(;e+g<v&&i+g<b&&x.get(i+g,e+g)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return!1;const I=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(I-c)<2*c&&Un.foundPatternCross(f)}crossCheckVertical(e,i,s,c){const f=this.image,g=f.getHeight(),x=this.getCrossCheckStateCount();let v=e;for(;v>=0&&f.get(i,v);)x[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(i,v)&&x[1]<=s;)x[1]++,v--;if(v<0||x[1]>s)return NaN;for(;v>=0&&f.get(i,v)&&x[0]<=s;)x[0]++,v--;if(x[0]>s)return NaN;for(v=e+1;v<g&&f.get(i,v);)x[2]++,v++;if(v===g)return NaN;for(;v<g&&!f.get(i,v)&&x[3]<s;)x[3]++,v++;if(v===g||x[3]>=s)return NaN;for(;v<g&&f.get(i,v)&&x[4]<s;)x[4]++,v++;if(x[4]>=s)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=2*c?NaN:Un.foundPatternCross(x)?Un.centerFromEnd(x,v):NaN}crossCheckHorizontal(e,i,s,c){const f=this.image,g=f.getWidth(),x=this.getCrossCheckStateCount();let v=e;for(;v>=0&&f.get(v,i);)x[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(v,i)&&x[1]<=s;)x[1]++,v--;if(v<0||x[1]>s)return NaN;for(;v>=0&&f.get(v,i)&&x[0]<=s;)x[0]++,v--;if(x[0]>s)return NaN;for(v=e+1;v<g&&f.get(v,i);)x[2]++,v++;if(v===g)return NaN;for(;v<g&&!f.get(v,i)&&x[3]<s;)x[3]++,v++;if(v===g||x[3]>=s)return NaN;for(;v<g&&f.get(v,i)&&x[4]<s;)x[4]++,v++;if(x[4]>=s)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=c?NaN:Un.foundPatternCross(x)?Un.centerFromEnd(x,v):NaN}handlePossibleCenter(e,i,s,c){const f=e[0]+e[1]+e[2]+e[3]+e[4];let g=Un.centerFromEnd(e,s),x=this.crossCheckVertical(i,Math.floor(g),e[2],f);if(!isNaN(x)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(x),e[2],f),!isNaN(g)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(g),e[2],f)))){const v=f/7;let b=!1;const I=this.possibleCenters;for(let P=0,z=I.length;P<z;P++){const Y=I[P];if(Y.aboutEquals(v,x,g)){I[P]=Y.combineEstimate(x,g,v),b=!0;break}}if(!b){const P=new _r(g,x,v);I.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=Un.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,i=0;const s=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Un.CENTER_QUORUM&&(e++,i+=g.getEstimatedModuleSize());if(e<3)return!1;const c=i/s;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-c);return f<=.05*i}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new q;const i=this.possibleCenters;let s;if(e>3){let c=0,f=0;for(const v of this.possibleCenters){const b=v.getEstimatedModuleSize();c+=b,f+=b*b}s=c/e;let g=Math.sqrt(f/e-s*s);i.sort((v,b)=>{const I=Math.abs(b.getEstimatedModuleSize()-s),P=Math.abs(v.getEstimatedModuleSize()-s);return I<P?-1:I>P?1:0});const x=Math.max(.2*s,g);for(let v=0;v<i.length&&i.length>3;v++){const b=i[v];Math.abs(b.getEstimatedModuleSize()-s)>x&&(i.splice(v,1),v--)}}if(i.length>3){let c=0;for(const f of i)c+=f.getEstimatedModuleSize();s=c/i.length,i.sort((f,g)=>{if(g.getCount()===f.getCount()){const x=Math.abs(g.getEstimatedModuleSize()-s),v=Math.abs(f.getEstimatedModuleSize()-s);return x<v?1:x>v?-1:0}else return g.getCount()-f.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Un.CENTER_QUORUM=2,Un.MIN_SKIP=3,Un.MAX_MODULES=57;class he{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Nt.NEED_RESULT_POINT_CALLBACK);const s=new Un(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(s)}processFinderPatternInfo(e){const i=e.getTopLeft(),s=e.getTopRight(),c=e.getBottomLeft(),f=this.calculateModuleSize(i,s,c);if(f<1)throw new q("No pattern found in proccess finder.");const g=he.computeDimension(i,s,c,f),x=Wt.getProvisionalVersionForDimension(g),v=x.getDimensionForVersion()-7;let b=null;if(x.getAlignmentPatternCenters().length>0){const Y=s.getX()-i.getX()+c.getX(),K=s.getY()-i.getY()+c.getY(),it=1-3/v,pt=Math.floor(i.getX()+it*(Y-i.getX())),Et=Math.floor(i.getY()+it*(K-i.getY()));for(let Zt=4;Zt<=16;Zt<<=1)try{b=this.findAlignmentInRegion(f,pt,Et,Zt);break}catch(Gt){if(!(Gt instanceof q))throw Gt}}const I=he.createTransform(i,s,c,b,g),P=he.sampleGrid(this.image,I,g);let z;return b===null?z=[c,i,s]:z=[c,i,s,b],new Ui(P,z)}static createTransform(e,i,s,c,f){const g=f-3.5;let x,v,b,I;return c!==null?(x=c.getX(),v=c.getY(),b=g-3,I=b):(x=i.getX()-e.getX()+s.getX(),v=i.getY()-e.getY()+s.getY(),b=g,I=g),an.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,b,I,3.5,g,e.getX(),e.getY(),i.getX(),i.getY(),x,v,s.getX(),s.getY())}static sampleGrid(e,i,s){return yn.getInstance().sampleGridWithTransform(e,s,s,i)}static computeDimension(e,i,s,c){const f=fe.round(Qt.distance(e,i)/c),g=fe.round(Qt.distance(e,s)/c);let x=Math.floor((f+g)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new q("Dimensions could be not found.")}return x}calculateModuleSize(e,i,s){return(this.calculateModuleSizeOneWay(e,i)+this.calculateModuleSizeOneWay(e,s))/2}calculateModuleSizeOneWay(e,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?c/7:isNaN(c)?s/7:(s+c)/14}sizeOfBlackWhiteBlackRunBothWays(e,i,s,c){let f=this.sizeOfBlackWhiteBlackRun(e,i,s,c),g=1,x=e-(s-e);x<0?(g=e/(e-x),x=0):x>=this.image.getWidth()&&(g=(this.image.getWidth()-1-e)/(x-e),x=this.image.getWidth()-1);let v=Math.floor(i-(c-i)*g);return g=1,v<0?(g=i/(i-v),v=0):v>=this.image.getHeight()&&(g=(this.image.getHeight()-1-i)/(v-i),v=this.image.getHeight()-1),x=Math.floor(e+(x-e)*g),f+=this.sizeOfBlackWhiteBlackRun(e,i,x,v),f-1}sizeOfBlackWhiteBlackRun(e,i,s,c){const f=Math.abs(c-i)>Math.abs(s-e);if(f){let Y=e;e=i,i=Y,Y=s,s=c,c=Y}const g=Math.abs(s-e),x=Math.abs(c-i);let v=-g/2;const b=e<s?1:-1,I=i<c?1:-1;let P=0;const z=s+b;for(let Y=e,K=i;Y!==z;Y+=b){const it=f?K:Y,pt=f?Y:K;if(P===1===this.image.get(it,pt)){if(P===2)return fe.distance(Y,K,e,i);P++}if(v+=x,v>0){if(K===c)break;K+=I,v-=g}}return P===2?fe.distance(s+b,c,e,i):NaN}findAlignmentInRegion(e,i,s,c){const f=Math.floor(c*e),g=Math.max(0,i-f),x=Math.min(this.image.getWidth()-1,i+f);if(x-g<e*3)throw new q("Alignment top exceeds estimated module size.");const v=Math.max(0,s-f),b=Math.min(this.image.getHeight()-1,s+f);if(b-v<e*3)throw new q("Alignment bottom exceeds estimated module size.");return new xr(this.image,g,v,x-g,b-v,e,this.resultPointCallback).find()}}class Yn{constructor(){this.decoder=new _a}getDecoder(){return this.decoder}decode(e,i){let s,c;if(i!=null&&i.get(Nt.PURE_BARCODE)!==void 0){const v=Yn.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(v,i),c=Yn.NO_POINTS}else{const v=new he(e.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(v.getBits(),i),c=v.getPoints()}s.getOther()instanceof Ga&&s.getOther().applyMirroredCorrection(c);const f=new At(s.getText(),s.getRawBytes(),void 0,c,_t.QR_CODE,void 0),g=s.getByteSegments();g!==null&&f.putMetadata(qt.BYTE_SEGMENTS,g);const x=s.getECLevel();return x!==null&&f.putMetadata(qt.ERROR_CORRECTION_LEVEL,x),s.hasStructuredAppend()&&(f.putMetadata(qt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),f.putMetadata(qt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),f}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(i===null||s===null)throw new q;const c=this.moduleSize(i,e);let f=i[1],g=s[1],x=i[0],v=s[0];if(x>=v||f>=g)throw new q;if(g-f!==v-x&&(v=x+(g-f),v>=e.getWidth()))throw new q;const b=Math.round((v-x+1)/c),I=Math.round((g-f+1)/c);if(b<=0||I<=0)throw new q;if(I!==b)throw new q;const P=Math.floor(c/2);f+=P,x+=P;const z=x+Math.floor((b-1)*c)-v;if(z>0){if(z>P)throw new q;x-=z}const Y=f+Math.floor((I-1)*c)-g;if(Y>0){if(Y>P)throw new q;f-=Y}const K=new X(b,I);for(let it=0;it<I;it++){const pt=f+Math.floor(it*c);for(let Et=0;Et<b;Et++)e.get(x+Math.floor(Et*c),pt)&&K.set(Et,it)}return K}static moduleSize(e,i){const s=i.getHeight(),c=i.getWidth();let f=e[0],g=e[1],x=!0,v=0;for(;f<c&&g<s;){if(x!==i.get(f,g)){if(++v===5)break;x=!x}f++,g++}if(f===c||g===s)throw new q;return(f-e[0])/7}}Yn.NO_POINTS=new Array;class jt{PDF417Common(){}static getBitCountSum(e){return fe.sum(e)}static toIntArray(e){if(e==null||!e.length)return jt.EMPTY_INT_ARRAY;const i=new Int32Array(e.length);let s=0;for(const c of e)i[s++]=c;return i}static getCodeword(e){const i=lt.binarySearch(jt.SYMBOL_TABLE,e&262143);return i<0?-1:(jt.CODEWORD_TABLE[i]-1)%jt.NUMBER_OF_CODEWORDS}}jt.NUMBER_OF_CODEWORDS=929,jt.MAX_CODEWORDS_IN_BARCODE=jt.NUMBER_OF_CODEWORDS-1,jt.MIN_ROWS_IN_BARCODE=3,jt.MAX_ROWS_IN_BARCODE=90,jt.MODULES_IN_CODEWORD=17,jt.MODULES_IN_STOP_PATTERN=18,jt.BARS_IN_MODULE=8,jt.EMPTY_INT_ARRAY=new Int32Array([]),jt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),jt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class sr{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class xe{static detectMultiple(e,i,s){let c=e.getBlackMatrix(),f=xe.detect(s,c);return f.length||(c=c.clone(),c.rotate180(),f=xe.detect(s,c)),new sr(c,f)}static detect(e,i){const s=new Array;let c=0,f=0,g=!1;for(;c<i.getHeight();){const x=xe.findVertices(i,c,f);if(x[0]==null&&x[3]==null){if(!g)break;g=!1,f=0;for(const v of s)v[1]!=null&&(c=Math.trunc(Math.max(c,v[1].getY()))),v[3]!=null&&(c=Math.max(c,Math.trunc(v[3].getY())));c+=xe.ROW_STEP;continue}if(g=!0,s.push(x),!e)break;x[2]!=null?(f=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(f=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return s}static findVertices(e,i,s){const c=e.getHeight(),f=e.getWidth(),g=new Array(8);return xe.copyToResult(g,xe.findRowsWithPattern(e,c,f,i,s,xe.START_PATTERN),xe.INDEXES_START_PATTERN),g[4]!=null&&(s=Math.trunc(g[4].getX()),i=Math.trunc(g[4].getY())),xe.copyToResult(g,xe.findRowsWithPattern(e,c,f,i,s,xe.STOP_PATTERN),xe.INDEXES_STOP_PATTERN),g}static copyToResult(e,i,s){for(let c=0;c<s.length;c++)e[s[c]]=i[c]}static findRowsWithPattern(e,i,s,c,f,g){const x=new Array(4);let v=!1;const b=new Int32Array(g.length);for(;c<i;c+=xe.ROW_STEP){let P=xe.findGuardPattern(e,f,c,s,!1,g,b);if(P!=null){for(;c>0;){const z=xe.findGuardPattern(e,f,--c,s,!1,g,b);if(z!=null)P=z;else{c++;break}}x[0]=new Qt(P[0],c),x[1]=new Qt(P[1],c),v=!0;break}}let I=c+1;if(v){let P=0,z=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;I<i;I++){const Y=xe.findGuardPattern(e,z[0],I,s,!1,g,b);if(Y!=null&&Math.abs(z[0]-Y[0])<xe.MAX_PATTERN_DRIFT&&Math.abs(z[1]-Y[1])<xe.MAX_PATTERN_DRIFT)z=Y,P=0;else{if(P>xe.SKIPPED_ROW_COUNT_MAX)break;P++}}I-=P+1,x[2]=new Qt(z[0],I),x[3]=new Qt(z[1],I)}return I-c<xe.BARCODE_MIN_HEIGHT&&lt.fill(x,null),x}static findGuardPattern(e,i,s,c,f,g,x){lt.fillWithin(x,0,x.length,0);let v=i,b=0;for(;e.get(v,s)&&v>0&&b++<xe.MAX_PIXEL_DRIFT;)v--;let I=v,P=0,z=g.length;for(let Y=f;I<c;I++)if(e.get(I,s)!==Y)x[P]++;else{if(P===z-1){if(xe.patternMatchVariance(x,g,xe.MAX_INDIVIDUAL_VARIANCE)<xe.MAX_AVG_VARIANCE)return new Int32Array([v,I]);v+=x[0]+x[1],j.arraycopy(x,2,x,0,P-1),x[P-1]=0,x[P]=0,P--}else P++;x[P]=1,Y=!Y}return P===z-1&&xe.patternMatchVariance(x,g,xe.MAX_INDIVIDUAL_VARIANCE)<xe.MAX_AVG_VARIANCE?new Int32Array([v,I-1]):null}static patternMatchVariance(e,i,s){let c=e.length,f=0,g=0;for(let b=0;b<c;b++)f+=e[b],g+=i[b];if(f<g)return 1/0;let x=f/g;s*=x;let v=0;for(let b=0;b<c;b++){let I=e[b],P=i[b]*x,z=I>P?I-P:P-I;if(z>s)return 1/0;v+=z}return v/f}}xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xe.MAX_AVG_VARIANCE=.42,xe.MAX_INDIVIDUAL_VARIANCE=.8,xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xe.MAX_PIXEL_DRIFT=3,xe.MAX_PATTERN_DRIFT=5,xe.SKIPPED_ROW_COUNT_MAX=25,xe.ROW_STEP=5,xe.BARCODE_MIN_HEIGHT=10;class vn{constructor(e,i){if(i.length===0)throw new D;this.field=e;let s=i.length;if(s>1&&i[0]===0){let c=1;for(;c<s&&i[c]===0;)c++;c===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-c),j.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let c=0;for(let f of this.coefficients)c=this.field.add(c,f);return c}let i=this.coefficients[0],s=this.coefficients.length;for(let c=1;c<s;c++)i=this.field.add(this.field.multiply(e,i),this.coefficients[c]);return i}add(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,s=e.coefficients;if(i.length>s.length){let g=i;i=s,s=g}let c=new Int32Array(s.length),f=s.length-i.length;j.arraycopy(s,0,c,0,f);for(let g=f;g<s.length;g++)c[g]=this.field.add(i[g-f],s[g]);return new vn(this.field,c)}subtract(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof vn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new vn(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,c=e.coefficients,f=c.length,g=new Int32Array(s+f-1);for(let x=0;x<s;x++){let v=i[x];for(let b=0;b<f;b++)g[x+b]=this.field.add(g[x+b],this.field.multiply(v,c[b]))}return new vn(this.field,g)}negative(){let e=this.coefficients.length,i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new vn(this.field,i)}multiplyScalar(e){if(e===0)return new vn(this.field,new Int32Array([0]));if(e===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=this.field.multiply(this.coefficients[c],e);return new vn(this.field,s)}multiplyByMonomial(e,i){if(e<0)throw new D;if(i===0)return new vn(this.field,new Int32Array([0]));let s=this.coefficients.length,c=new Int32Array(s+e);for(let f=0;f<s;f++)c[f]=this.field.multiply(this.coefficients[f],i);return new vn(this.field,c)}toString(){let e=new Lt;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(i===0||s!==1)&&e.append(s),i!==0&&(i===1?e.append("x"):(e.append("x^"),e.append(i))))}return e.toString()}}class or{add(e,i){return(e+i)%this.modulus}subtract(e,i){return(this.modulus+e-i)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new D;return this.logTable[e]}inverse(e){if(e===0)throw new xn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class qi extends or{constructor(e,i){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let s=1;for(let c=0;c<e;c++)this.expTable[c]=s,s=s*i%e;for(let c=0;c<e-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new vn(this,new Int32Array([0])),this.one=new vn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new D;if(i===0)return this.zero;let s=new Int32Array(e+1);return s[0]=i,new vn(this,s)}}qi.PDF417_GF=new qi(jt.NUMBER_OF_CODEWORDS,3);class ta{constructor(){this.field=qi.PDF417_GF}decode(e,i,s){let c=new vn(this.field,e),f=new Int32Array(i),g=!1;for(let K=i;K>0;K--){let it=c.evaluateAt(this.field.exp(K));f[i-K]=it,it!==0&&(g=!0)}if(!g)return 0;let x=this.field.getOne();if(s!=null)for(const K of s){let it=this.field.exp(e.length-1-K),pt=new vn(this.field,new Int32Array([this.field.subtract(0,it),1]));x=x.multiply(pt)}let v=new vn(this.field,f),b=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),v,i),I=b[0],P=b[1],z=this.findErrorLocations(I),Y=this.findErrorMagnitudes(P,I,z);for(let K=0;K<z.length;K++){let it=e.length-1-this.field.log(z[K]);if(it<0)throw V.getChecksumInstance();e[it]=this.field.subtract(e[it],Y[K])}return z.length}runEuclideanAlgorithm(e,i,s){if(e.getDegree()<i.getDegree()){let z=e;e=i,i=z}let c=e,f=i,g=this.field.getZero(),x=this.field.getOne();for(;f.getDegree()>=Math.round(s/2);){let z=c,Y=g;if(c=f,g=x,c.isZero())throw V.getChecksumInstance();f=z;let K=this.field.getZero(),it=c.getCoefficient(c.getDegree()),pt=this.field.inverse(it);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){let Et=f.getDegree()-c.getDegree(),Zt=this.field.multiply(f.getCoefficient(f.getDegree()),pt);K=K.add(this.field.buildMonomial(Et,Zt)),f=f.subtract(c.multiplyByMonomial(Et,Zt))}x=K.multiply(g).subtract(Y).negative()}let v=x.getCoefficient(0);if(v===0)throw V.getChecksumInstance();let b=this.field.inverse(v),I=x.multiply(b),P=f.multiply(b);return[I,P]}findErrorLocations(e){let i=e.getDegree(),s=new Int32Array(i),c=0;for(let f=1;f<this.field.getSize()&&c<i;f++)e.evaluateAt(f)===0&&(s[c]=this.field.inverse(f),c++);if(c!==i)throw V.getChecksumInstance();return s}findErrorMagnitudes(e,i,s){let c=i.getDegree(),f=new Int32Array(c);for(let b=1;b<=c;b++)f[c-b]=this.field.multiply(b,i.getCoefficient(b));let g=new vn(this.field,f),x=s.length,v=new Int32Array(x);for(let b=0;b<x;b++){let I=this.field.inverse(s[b]),P=this.field.subtract(0,e.evaluateAt(I)),z=this.field.inverse(g.evaluateAt(I));v[b]=this.field.multiply(P,z)}return v}}class Hi{constructor(e,i,s,c,f){e instanceof Hi?this.constructor_2(e):this.constructor_1(e,i,s,c,f)}constructor_1(e,i,s,c,f){const g=i==null||s==null,x=c==null||f==null;if(g&&x)throw new q;g?(i=new Qt(0,c.getY()),s=new Qt(0,f.getY())):x&&(c=new Qt(e.getWidth()-1,i.getY()),f=new Qt(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=i,this.bottomLeft=s,this.topRight=c,this.bottomRight=f,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(c.getX(),f.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(s.getY(),f.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,i){return e==null?i:i==null?e:new Hi(e.image,e.topLeft,e.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(e,i,s){let c=this.topLeft,f=this.bottomLeft,g=this.topRight,x=this.bottomRight;if(e>0){let v=s?this.topLeft:this.topRight,b=Math.trunc(v.getY()-e);b<0&&(b=0);let I=new Qt(v.getX(),b);s?c=I:g=I}if(i>0){let v=s?this.bottomLeft:this.bottomRight,b=Math.trunc(v.getY()+i);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let I=new Qt(v.getX(),b);s?f=I:x=I}return new Hi(this.image,c,f,g,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ln{constructor(e,i,s,c){this.columnCount=e,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class yi{constructor(){this.buffer=""}static form(e,i){let s=-1;function c(g,x,v,b,I,P){if(g==="%%")return"%";if(i[++s]===void 0)return;g=b?parseInt(b.substr(1)):void 0;let z=I?parseInt(I.substr(1)):void 0,Y;switch(P){case"s":Y=i[s];break;case"c":Y=i[s][0];break;case"f":Y=parseFloat(i[s]).toFixed(g);break;case"p":Y=parseFloat(i[s]).toPrecision(g);break;case"e":Y=parseFloat(i[s]).toExponential(g);break;case"x":Y=parseInt(i[s]).toString(z||16);break;case"d":Y=parseFloat(parseInt(i[s],z||10).toPrecision(g)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(z);let K=parseInt(v),it=v&&v[0]+""=="0"?"0":" ";for(;Y.length<K;)Y=x!==void 0?Y+it:it+Y;return Y}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(f,c)}format(e,...i){this.buffer+=yi.form(e,i)}toString(){return this.buffer}}class ea{constructor(e){this.boundingBox=new Hi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let i=this.getCodeword(e);if(i!=null)return i;for(let s=1;s<ea.MAX_NEARBY_DISTANCE;s++){let c=this.imageRowToCodewordIndex(e)-s;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(e)+s,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,i){this.codewords[this.imageRowToCodewordIndex(e)]=i}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new yi;let i=0;for(const s of this.codewords){if(s==null){e.format("%3d:    |   %n",i++);continue}e.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return e.toString()}}ea.MAX_NEARBY_DISTANCE=5;class Fn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let i=this.values.get(e);i==null&&(i=0),i++,this.values.set(e,i)}getValue(){let e=-1,i=new Array;for(const[s,c]of this.values.entries()){const f={getKey:()=>s,getValue:()=>c};f.getValue()>e?(e=f.getValue(),i=[],i.push(f.getKey())):f.getValue()===e&&i.push(f.getKey())}return jt.toIntArray(i)}getConfidence(e){return this.values.get(e)}}class Vr extends ea{constructor(e,i){super(e),this._isLeft=i}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,e);let s=this.getBoundingBox(),c=this._isLeft?s.getTopLeft():s.getTopRight(),f=this._isLeft?s.getBottomLeft():s.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=-1,b=1,I=0;for(let P=g;P<x;P++){if(i[P]==null)continue;let z=i[P],Y=z.getRowNumber()-v;if(Y===0)I++;else if(Y===1)b=Math.max(b,I),I=1,v=z.getRowNumber();else if(Y<0||z.getRowNumber()>=e.getRowCount()||Y>P)i[P]=null;else{let K;b>2?K=(b-2)*Y:K=Y;let it=K>=P;for(let pt=1;pt<=K&&!it;pt++)it=i[P-pt]!=null;it?i[P]=null:(v=z.getRowNumber(),I=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let i=new Int32Array(e.getRowCount());for(let s of this.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(e){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),v=-1;for(let b=f;b<g;b++){if(x[b]==null)continue;let I=x[b];I.setRowNumberAsRowIndicatorColumn();let P=I.getRowNumber()-v;P===0||(P===1?v=I.getRowNumber():I.getRowNumber()>=e.getRowCount()?x[b]=null:v=I.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),i=new Fn,s=new Fn,c=new Fn,f=new Fn;for(let x of e){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let v=x.getValue()%30,b=x.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:s.setValue(v*3+1);break;case 1:f.setValue(v/3),c.setValue(v%3);break;case 2:i.setValue(v+1);break}}if(i.getValue().length===0||s.getValue().length===0||c.getValue().length===0||f.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+c.getValue()[0]<jt.MIN_ROWS_IN_BARCODE||s.getValue()[0]+c.getValue()[0]>jt.MAX_ROWS_IN_BARCODE)return null;let g=new Ln(i.getValue()[0],s.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(e,g),g}removeIncorrectCodewords(e,i){for(let s=0;s<e.length;s++){let c=e[s];if(e[s]==null)continue;let f=c.getValue()%30,g=c.getRowNumber();if(g>i.getRowCount()){e[s]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:f*3+1!==i.getRowCountUpperPart()&&(e[s]=null);break;case 1:(Math.trunc(f/3)!==i.getErrorCorrectionLevel()||f%3!==i.getRowCountLowerPart())&&(e[s]=null);break;case 2:f+1!==i.getColumnCount()&&(e[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yr{constructor(e,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=jt.MAX_CODEWORDS_IN_BARCODE,i;do i=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let c=0;c<s.length;c++)s[c]!=null&&(s[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,s))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<e.length;s++)if(e[s]!=null&&i[s]!=null&&e[s].getRowNumber()===i[s].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let f=this.detectionResultColumns[c].getCodewords()[s];f!=null&&(f.setRowNumber(e[s].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let c=i[s].getRowNumber(),f=0;for(let g=this.barcodeColumnCount+1;g>0&&f<this.ADJUST_ROW_NUMBER_SKIP;g--){let x=this.detectionResultColumns[g].getCodewords()[s];x!=null&&(f=yr.adjustRowNumberIfValid(c,f,x),x.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let c=i[s].getRowNumber(),f=0;for(let g=1;g<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;g++){let x=this.detectionResultColumns[g].getCodewords()[s];x!=null&&(f=yr.adjustRowNumberIfValid(c,f,x),x.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),i=0):++i),i}adjustRowNumbers(e,i,s){if(!this.detectionResultColumns[e-1])return;let c=s[i],f=this.detectionResultColumns[e-1].getCodewords(),g=f;this.detectionResultColumns[e+1]!=null&&(g=this.detectionResultColumns[e+1].getCodewords());let x=new Array(14);x[2]=f[i],x[3]=g[i],i>0&&(x[0]=s[i-1],x[4]=f[i-1],x[5]=g[i-1]),i>1&&(x[8]=s[i-2],x[10]=f[i-2],x[11]=g[i-2]),i<s.length-1&&(x[1]=s[i+1],x[6]=f[i+1],x[7]=g[i+1]),i<s.length-2&&(x[9]=s[i+2],x[12]=f[i+2],x[13]=g[i+2]);for(let v of x)if(yr.adjustRowNumber(c,v))return}static adjustRowNumber(e,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===e.getBucket()?(e.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,i){this.detectionResultColumns[e]=i}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new yi;for(let s=0;s<e.getCodewords().length;s++){i.format("CW %3d:",s);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let f=this.detectionResultColumns[c].getCodewords()[s];if(f==null){i.format("    |   ");continue}i.format(" %3d|%3d",f.getRowNumber(),f.getValue())}i.format("%n")}return i.toString()}}class Wi{constructor(e,i,s,c){this.rowNumber=Wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Wi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Wi.BARCODE_ROW_UNKNOWN=-1;class wi{static initialize(){for(let e=0;e<jt.SYMBOL_TABLE.length;e++){let i=jt.SYMBOL_TABLE[e],s=i&1;for(let c=0;c<jt.BARS_IN_MODULE;c++){let f=0;for(;(i&1)===s;)f+=1,i>>=1;s=i&1,wi.RATIOS_TABLE[e]||(wi.RATIOS_TABLE[e]=new Array(jt.BARS_IN_MODULE)),wi.RATIOS_TABLE[e][jt.BARS_IN_MODULE-c-1]=Math.fround(f/jt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let i=wi.getDecodedCodewordValue(wi.sampleBitCounts(e));return i!==-1?i:wi.getClosestDecodedValue(e)}static sampleBitCounts(e){let i=fe.sum(e),s=new Int32Array(jt.BARS_IN_MODULE),c=0,f=0;for(let g=0;g<jt.MODULES_IN_CODEWORD;g++){let x=i/(2*jt.MODULES_IN_CODEWORD)+g*i/jt.MODULES_IN_CODEWORD;f+e[c]<=x&&(f+=e[c],c++),s[c]++}return s}static getDecodedCodewordValue(e){let i=wi.getBitValue(e);return jt.getCodeword(i)===-1?-1:i}static getBitValue(e){let i=0;for(let s=0;s<e.length;s++)for(let c=0;c<e[s];c++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(e){let i=fe.sum(e),s=new Array(jt.BARS_IN_MODULE);if(i>1)for(let g=0;g<s.length;g++)s[g]=Math.fround(e[g]/i);let c=pi.MAX_VALUE,f=-1;this.bSymbolTableReady||wi.initialize();for(let g=0;g<wi.RATIOS_TABLE.length;g++){let x=0,v=wi.RATIOS_TABLE[g];for(let b=0;b<jt.BARS_IN_MODULE;b++){let I=Math.fround(v[b]-s[b]);if(x+=Math.fround(I*I),x>=c)break}x<c&&(c=x,f=jt.SYMBOL_TABLE[g])}return f}}wi.bSymbolTableReady=!1,wi.RATIOS_TABLE=new Array(jt.SYMBOL_TABLE.length).map(B=>new Array(jt.BARS_IN_MODULE));class Ya{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ne{static parseLong(e,i=void 0){return parseInt(e,i)}}class ya extends S{}ya.kind="NullPointerException";class vi{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,i,s){if(e==null)throw new ya;if(i<0||i>e.length||s<0||i+s>e.length||i+s<0)throw new at;if(s===0)return;for(let c=0;c<s;c++)this.write(e[i+c])}flush(){}close(){}}class wa extends S{}class Eo extends vi{constructor(e=32){if(super(),this.count=0,e<0)throw new D("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let s=this.buf.length<<1;if(s-e<0&&(s=e),s<0){if(e<0)throw new wa;s=tt.MAX_VALUE}this.buf=lt.copyOfUint8Array(this.buf,s)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,i,s){if(i<0||i>e.length||s<0||i+s-e.length>0)throw new at;this.ensureCapacity(this.count+s),j.arraycopy(e,i,this.buf,this.count,s),this.count+=s}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return lt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ke;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ke||(Ke={}));function cs(){if(typeof window<"u")return window.BigInt||null;if(typeof gc<"u")return gc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let va;function wr(B){if(typeof va>"u"&&(va=cs()),va===null)throw new Error("BigInt is not supported!");return va(B)}function ul(){let B=[];B[0]=wr(1);let e=wr(900);B[1]=e;for(let i=2;i<16;i++)B[i]=B[i-1]*e;return B}class Mt{static decode(e,i){let s=new Lt(""),c=st.ISO8859_1;s.enableDecoding(c);let f=1,g=e[f++],x=new Ya;for(;f<e[0];){switch(g){case Mt.TEXT_COMPACTION_MODE_LATCH:f=Mt.textCompaction(e,f,s);break;case Mt.BYTE_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH_6:f=Mt.byteCompaction(g,e,c,f,s);break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[f++]);break;case Mt.NUMERIC_COMPACTION_MODE_LATCH:f=Mt.numericCompaction(e,f,s);break;case Mt.ECI_CHARSET:st.getCharacterSetECIByValue(e[f++]);break;case Mt.ECI_GENERAL_PURPOSE:f+=2;break;case Mt.ECI_USER_DEFINED:f++;break;case Mt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Mt.decodeMacroBlock(e,f,x);break;case Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Mt.MACRO_PDF417_TERMINATOR:throw new ft;default:f--,f=Mt.textCompaction(e,f,s);break}if(f<e.length)g=e[f++];else throw ft.getFormatInstance()}if(s.length()===0)throw ft.getFormatInstance();let v=new Oe(null,s.toString(),null,i);return v.setOther(x),v}static decodeMacroBlock(e,i,s){if(i+Mt.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ft.getFormatInstance();let c=new Int32Array(Mt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Mt.NUMBER_OF_SEQUENCE_CODEWORDS;x++,i++)c[x]=e[i];s.setSegmentIndex(tt.parseInt(Mt.decodeBase900toBase10(c,Mt.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new Lt;i=Mt.textCompaction(e,i,f),s.setFileId(f.toString());let g=-1;for(e[i]===Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=i+1);i<e[0];)switch(e[i]){case Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,e[i]){case Mt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new Lt;i=Mt.textCompaction(e,i+1,x),s.setFileName(x.toString());break;case Mt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new Lt;i=Mt.textCompaction(e,i+1,v),s.setSender(v.toString());break;case Mt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new Lt;i=Mt.textCompaction(e,i+1,b),s.setAddressee(b.toString());break;case Mt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new Lt;i=Mt.numericCompaction(e,i+1,I),s.setSegmentCount(tt.parseInt(I.toString()));break;case Mt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let P=new Lt;i=Mt.numericCompaction(e,i+1,P),s.setTimestamp(Ne.parseLong(P.toString()));break;case Mt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let z=new Lt;i=Mt.numericCompaction(e,i+1,z),s.setChecksum(tt.parseInt(z.toString()));break;case Mt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Y=new Lt;i=Mt.numericCompaction(e,i+1,Y),s.setFileSize(Ne.parseLong(Y.toString()));break;default:throw ft.getFormatInstance()}break;case Mt.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw ft.getFormatInstance()}if(g!==-1){let x=i-g;s.isLastSegment()&&x--,s.setOptionalData(lt.copyOfRange(e,g,g+x))}return i}static textCompaction(e,i,s){let c=new Int32Array((e[0]-i)*2),f=new Int32Array((e[0]-i)*2),g=0,x=!1;for(;i<e[0]&&!x;){let v=e[i++];if(v<Mt.TEXT_COMPACTION_MODE_LATCH)c[g]=v/30,c[g+1]=v%30,g+=2;else switch(v){case Mt.TEXT_COMPACTION_MODE_LATCH:c[g++]=Mt.TEXT_COMPACTION_MODE_LATCH;break;case Mt.BYTE_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH_6:case Mt.NUMERIC_COMPACTION_MODE_LATCH:case Mt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Mt.MACRO_PDF417_TERMINATOR:i--,x=!0;break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[g]=Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=e[i++],f[g]=v,g++;break}}return Mt.decodeTextCompaction(c,f,g,s),i}static decodeTextCompaction(e,i,s,c){let f=Ke.ALPHA,g=Ke.ALPHA,x=0;for(;x<s;){let v=e[x],b="";switch(f){case Ke.ALPHA:if(v<26)b=String.fromCharCode(65+v);else switch(v){case 26:b=" ";break;case Mt.LL:f=Ke.LOWER;break;case Mt.ML:f=Ke.MIXED;break;case Mt.PS:g=f,f=Ke.PUNCT_SHIFT;break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Mt.TEXT_COMPACTION_MODE_LATCH:f=Ke.ALPHA;break}break;case Ke.LOWER:if(v<26)b=String.fromCharCode(97+v);else switch(v){case 26:b=" ";break;case Mt.AS:g=f,f=Ke.ALPHA_SHIFT;break;case Mt.ML:f=Ke.MIXED;break;case Mt.PS:g=f,f=Ke.PUNCT_SHIFT;break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Mt.TEXT_COMPACTION_MODE_LATCH:f=Ke.ALPHA;break}break;case Ke.MIXED:if(v<Mt.PL)b=Mt.MIXED_CHARS[v];else switch(v){case Mt.PL:f=Ke.PUNCT;break;case 26:b=" ";break;case Mt.LL:f=Ke.LOWER;break;case Mt.AL:f=Ke.ALPHA;break;case Mt.PS:g=f,f=Ke.PUNCT_SHIFT;break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Mt.TEXT_COMPACTION_MODE_LATCH:f=Ke.ALPHA;break}break;case Ke.PUNCT:if(v<Mt.PAL)b=Mt.PUNCT_CHARS[v];else switch(v){case Mt.PAL:f=Ke.ALPHA;break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Mt.TEXT_COMPACTION_MODE_LATCH:f=Ke.ALPHA;break}break;case Ke.ALPHA_SHIFT:if(f=g,v<26)b=String.fromCharCode(65+v);else switch(v){case 26:b=" ";break;case Mt.TEXT_COMPACTION_MODE_LATCH:f=Ke.ALPHA;break}break;case Ke.PUNCT_SHIFT:if(f=g,v<Mt.PAL)b=Mt.PUNCT_CHARS[v];else switch(v){case Mt.PAL:f=Ke.ALPHA;break;case Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Mt.TEXT_COMPACTION_MODE_LATCH:f=Ke.ALPHA;break}break}b!==""&&c.append(b),x++}}static byteCompaction(e,i,s,c,f){let g=new Eo,x=0,v=0,b=!1;switch(e){case Mt.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),P=i[c++];for(;c<i[0]&&!b;)switch(I[x++]=P,v=900*v+P,P=i[c++],P){case Mt.TEXT_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH:case Mt.NUMERIC_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH_6:case Mt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Mt.MACRO_PDF417_TERMINATOR:c--,b=!0;break;default:if(x%5===0&&x>0){for(let z=0;z<6;++z)g.write(Number(wr(v)>>wr(8*(5-z))));v=0,x=0}break}c===i[0]&&P<Mt.TEXT_COMPACTION_MODE_LATCH&&(I[x++]=P);for(let z=0;z<x;z++)g.write(I[z]);break;case Mt.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!b;){let z=i[c++];if(z<Mt.TEXT_COMPACTION_MODE_LATCH)x++,v=900*v+z;else switch(z){case Mt.TEXT_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH:case Mt.NUMERIC_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH_6:case Mt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Mt.MACRO_PDF417_TERMINATOR:c--,b=!0;break}if(x%5===0&&x>0){for(let Y=0;Y<6;++Y)g.write(Number(wr(v)>>wr(8*(5-Y))));v=0,x=0}}break}return f.append(Dt.decode(g.toByteArray(),s)),c}static numericCompaction(e,i,s){let c=0,f=!1,g=new Int32Array(Mt.MAX_NUMERIC_CODEWORDS);for(;i<e[0]&&!f;){let x=e[i++];if(i===e[0]&&(f=!0),x<Mt.TEXT_COMPACTION_MODE_LATCH)g[c]=x,c++;else switch(x){case Mt.TEXT_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH:case Mt.BYTE_COMPACTION_MODE_LATCH_6:case Mt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Mt.MACRO_PDF417_TERMINATOR:i--,f=!0;break}(c%Mt.MAX_NUMERIC_CODEWORDS===0||x===Mt.NUMERIC_COMPACTION_MODE_LATCH||f)&&c>0&&(s.append(Mt.decodeBase900toBase10(g,c)),c=0)}return i}static decodeBase900toBase10(e,i){let s=wr(0);for(let f=0;f<i;f++)s+=Mt.EXP900[i-f-1]*wr(e[f]);let c=s.toString();if(c.charAt(0)!=="1")throw new ft;return c.substring(1)}}Mt.TEXT_COMPACTION_MODE_LATCH=900,Mt.BYTE_COMPACTION_MODE_LATCH=901,Mt.NUMERIC_COMPACTION_MODE_LATCH=902,Mt.BYTE_COMPACTION_MODE_LATCH_6=924,Mt.ECI_USER_DEFINED=925,Mt.ECI_GENERAL_PURPOSE=926,Mt.ECI_CHARSET=927,Mt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Mt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Mt.MACRO_PDF417_TERMINATOR=922,Mt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Mt.MAX_NUMERIC_CODEWORDS=15,Mt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Mt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Mt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Mt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Mt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Mt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Mt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Mt.PL=25,Mt.LL=27,Mt.AS=27,Mt.ML=28,Mt.AL=28,Mt.PS=29,Mt.PAL=29,Mt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Mt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Mt.EXP900=cs()?ul():[],Mt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Se{constructor(){}static decode(e,i,s,c,f,g,x){let v=new Hi(e,i,s,c,f),b=null,I=null,P;for(let K=!0;;K=!1){if(i!=null&&(b=Se.getRowIndicatorColumn(e,v,i,!0,g,x)),c!=null&&(I=Se.getRowIndicatorColumn(e,v,c,!1,g,x)),P=Se.merge(b,I),P==null)throw q.getNotFoundInstance();let it=P.getBoundingBox();if(K&&it!=null&&(it.getMinY()<v.getMinY()||it.getMaxY()>v.getMaxY()))v=it;else break}P.setBoundingBox(v);let z=P.getBarcodeColumnCount()+1;P.setDetectionResultColumn(0,b),P.setDetectionResultColumn(z,I);let Y=b!=null;for(let K=1;K<=z;K++){let it=Y?K:z-K;if(P.getDetectionResultColumn(it)!==void 0)continue;let pt;it===0||it===z?pt=new Vr(v,it===0):pt=new ea(v),P.setDetectionResultColumn(it,pt);let Et=-1,Zt=Et;for(let Gt=v.getMinY();Gt<=v.getMaxY();Gt++){if(Et=Se.getStartColumn(P,it,Gt,Y),Et<0||Et>v.getMaxX()){if(Zt===-1)continue;Et=Zt}let Ht=Se.detectCodeword(e,v.getMinX(),v.getMaxX(),Y,Et,Gt,g,x);Ht!=null&&(pt.setCodeword(Gt,Ht),Zt=Et,g=Math.min(g,Ht.getWidth()),x=Math.max(x,Ht.getWidth()))}}return Se.createDecoderResult(P)}static merge(e,i){if(e==null&&i==null)return null;let s=Se.getBarcodeMetadata(e,i);if(s==null)return null;let c=Hi.merge(Se.adjustBoundingBox(e),Se.adjustBoundingBox(i));return new yr(s,c)}static adjustBoundingBox(e){if(e==null)return null;let i=e.getRowHeights();if(i==null)return null;let s=Se.getMax(i),c=0;for(let x of i)if(c+=s-x,x>0)break;let f=e.getCodewords();for(let x=0;c>0&&f[x]==null;x++)c--;let g=0;for(let x=i.length-1;x>=0&&(g+=s-i[x],!(i[x]>0));x--);for(let x=f.length-1;g>0&&f[x]==null;x--)g--;return e.getBoundingBox().addMissingRows(c,g,e.isLeft())}static getMax(e){let i=-1;for(let s of e)i=Math.max(i,s);return i}static getBarcodeMetadata(e,i){let s;if(e==null||(s=e.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==c.getColumnCount()&&s.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&s.getRowCount()!==c.getRowCount()?null:s}static getRowIndicatorColumn(e,i,s,c,f,g){let x=new Vr(i,c);for(let v=0;v<2;v++){let b=v===0?1:-1,I=Math.trunc(Math.trunc(s.getX()));for(let P=Math.trunc(Math.trunc(s.getY()));P<=i.getMaxY()&&P>=i.getMinY();P+=b){let z=Se.detectCodeword(e,0,e.getWidth(),c,I,P,f,g);z!=null&&(x.setCodeword(P,z),c?I=z.getStartX():I=z.getEndX())}}return x}static adjustCodewordCount(e,i){let s=i[0][1],c=s.getValue(),f=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Se.getNumberOfECCodeWords(e.getBarcodeECLevel());if(c.length===0){if(f<1||f>jt.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();s.setValue(f)}else c[0]!==f&&s.setValue(f)}static createDecoderResult(e){let i=Se.createBarcodeMatrix(e);Se.adjustCodewordCount(e,i);let s=new Array,c=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),f=[],g=new Array;for(let v=0;v<e.getBarcodeRowCount();v++)for(let b=0;b<e.getBarcodeColumnCount();b++){let I=i[v][b+1].getValue(),P=v*e.getBarcodeColumnCount()+b;I.length===0?s.push(P):I.length===1?c[P]=I[0]:(g.push(P),f.push(I))}let x=new Array(f.length);for(let v=0;v<x.length;v++)x[v]=f[v];return Se.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),c,jt.toIntArray(s),jt.toIntArray(g),x)}static createDecoderResultFromAmbiguousValues(e,i,s,c,f){let g=new Int32Array(c.length),x=100;for(;x-- >0;){for(let v=0;v<g.length;v++)i[c[v]]=f[v][g[v]];try{return Se.decodeCodewords(i,e,s)}catch(v){if(!(v instanceof V))throw v}if(g.length===0)throw V.getChecksumInstance();for(let v=0;v<g.length;v++)if(g[v]<f[v].length-1){g[v]++;break}else if(g[v]=0,v===g.length-1)throw V.getChecksumInstance()}throw V.getChecksumInstance()}static createBarcodeMatrix(e){let i=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let f=0;f<i[c].length;f++)i[c][f]=new Fn;let s=0;for(let c of e.getDetectionResultColumns()){if(c!=null){for(let f of c.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=0){if(g>=i.length)continue;i[g][s].setValue(f.getValue())}}}s++}return i}static isValidBarcodeColumn(e,i){return i>=0&&i<=e.getBarcodeColumnCount()+1}static getStartColumn(e,i,s,c){let f=c?1:-1,g=null;if(Se.isValidBarcodeColumn(e,i-f)&&(g=e.getDetectionResultColumn(i-f).getCodeword(s)),g!=null)return c?g.getEndX():g.getStartX();if(g=e.getDetectionResultColumn(i).getCodewordNearby(s),g!=null)return c?g.getStartX():g.getEndX();if(Se.isValidBarcodeColumn(e,i-f)&&(g=e.getDetectionResultColumn(i-f).getCodewordNearby(s)),g!=null)return c?g.getEndX():g.getStartX();let x=0;for(;Se.isValidBarcodeColumn(e,i-f);){i-=f;for(let v of e.getDetectionResultColumn(i).getCodewords())if(v!=null)return(c?v.getEndX():v.getStartX())+f*x*(v.getEndX()-v.getStartX());x++}return c?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,i,s,c,f,g,x,v){f=Se.adjustCodewordStartColumn(e,i,s,c,f,g);let b=Se.getModuleBitCount(e,i,s,c,f,g);if(b==null)return null;let I,P=fe.sum(b);if(c)I=f+P;else{for(let K=0;K<b.length/2;K++){let it=b[K];b[K]=b[b.length-1-K],b[b.length-1-K]=it}I=f,f=I-P}if(!Se.checkCodewordSkew(P,x,v))return null;let z=wi.getDecodedValue(b),Y=jt.getCodeword(z);return Y===-1?null:new Wi(f,I,Se.getCodewordBucketNumber(z),Y)}static getModuleBitCount(e,i,s,c,f,g){let x=f,v=new Int32Array(8),b=0,I=c?1:-1,P=c;for(;(c?x<s:x>=i)&&b<v.length;)e.get(x,g)===P?(v[b]++,x+=I):(b++,P=!P);return b===v.length||x===(c?s:i)&&b===v.length-1?v:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,i,s,c,f,g){let x=f,v=c?-1:1;for(let b=0;b<2;b++){for(;(c?x>=i:x<s)&&c===e.get(x,g);){if(Math.abs(f-x)>Se.CODEWORD_SKEW_SIZE)return f;x+=v}v=-v,c=!c}return x}static checkCodewordSkew(e,i,s){return i-Se.CODEWORD_SKEW_SIZE<=e&&e<=s+Se.CODEWORD_SKEW_SIZE}static decodeCodewords(e,i,s){if(e.length===0)throw ft.getFormatInstance();let c=1<<i+1,f=Se.correctErrors(e,s,c);Se.verifyCodewordCount(e,c);let g=Mt.decode(e,""+i);return g.setErrorsCorrected(f),g.setErasures(s.length),g}static correctErrors(e,i,s){if(i!=null&&i.length>s/2+Se.MAX_ERRORS||s<0||s>Se.MAX_EC_CODEWORDS)throw V.getChecksumInstance();return Se.errorCorrection.decode(e,s,i)}static verifyCodewordCount(e,i){if(e.length<4)throw ft.getFormatInstance();let s=e[0];if(s>e.length)throw ft.getFormatInstance();if(s===0)if(i<e.length)e[0]=e.length-i;else throw ft.getFormatInstance()}static getBitCountForCodeword(e){let i=new Int32Array(8),s=0,c=i.length-1;for(;!((e&1)!==s&&(s=e&1,c--,c<0));)i[c]++,e>>=1;return i}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Se.getCodewordBucketNumber(Se.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let i=new yi;for(let s=0;s<e.length;s++){i.format("Row %2d: ",s);for(let c=0;c<e[s].length;c++){let f=e[s][c];f.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}i.format("%n")}return i.toString()}}Se.CODEWORD_SKEW_SIZE=2,Se.MAX_ERRORS=3,Se.MAX_EC_CODEWORDS=512,Se.errorCorrection=new ta;class ei{decode(e,i=null){let s=ei.decode(e,i,!1);if(s==null||s.length===0||s[0]==null)throw q.getNotFoundInstance();return s[0]}decodeMultiple(e,i=null){try{return ei.decode(e,i,!0)}catch(s){throw s instanceof ft||s instanceof V?q.getNotFoundInstance():s}}static decode(e,i,s){const c=new Array,f=xe.detectMultiple(e,i,s);for(const g of f.getPoints()){const x=Se.decode(f.getBits(),g[4],g[5],g[6],g[7],ei.getMinCodewordWidth(g),ei.getMaxCodewordWidth(g)),v=new At(x.getText(),x.getRawBytes(),void 0,g,_t.PDF_417);v.putMetadata(qt.ERROR_CORRECTION_LEVEL,x.getECLevel());const b=x.getOther();b!=null&&v.putMetadata(qt.PDF417_EXTRA_METADATA,b),c.push(v)}return c.map(g=>g)}static getMaxWidth(e,i){return e==null||i==null?0:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMinWidth(e,i){return e==null||i==null?tt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(ei.getMaxWidth(e[0],e[4]),ei.getMaxWidth(e[6],e[2])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN),Math.max(ei.getMaxWidth(e[1],e[5]),ei.getMaxWidth(e[7],e[3])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(ei.getMinWidth(e[0],e[4]),ei.getMinWidth(e[6],e[2])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN),Math.min(ei.getMinWidth(e[1],e[5]),ei.getMinWidth(e[7],e[3])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ei extends S{}Ei.kind="ReaderException";class Ao{constructor(e,i){this.verbose=e===!0,i&&this.setHints(i)}decode(e,i){return i&&this.setHints(i),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const i=!m(e)&&e.get(Nt.TRY_HARDER)===!0,s=m(e)?null:e.get(Nt.POSSIBLE_FORMATS),c=new Array;if(!m(s)){const f=s.some(g=>g===_t.UPC_A||g===_t.UPC_E||g===_t.EAN_13||g===_t.EAN_8||g===_t.CODABAR||g===_t.CODE_39||g===_t.CODE_93||g===_t.CODE_128||g===_t.ITF||g===_t.RSS_14||g===_t.RSS_EXPANDED);f&&!i&&c.push(new Di(e,this.verbose)),s.includes(_t.QR_CODE)&&c.push(new Yn),s.includes(_t.DATA_MATRIX)&&c.push(new je),s.includes(_t.AZTEC)&&c.push(new Sn),s.includes(_t.PDF_417)&&c.push(new ei),f&&i&&c.push(new Di(e,this.verbose))}c.length===0&&(i||c.push(new Di(e,this.verbose)),c.push(new Yn),c.push(new je),c.push(new Sn),c.push(new ei),i&&c.push(new Di(e,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Ei("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(e,this.hints)}catch(s){if(s instanceof Ei)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class So extends vt{constructor(e=null,i=500){const s=new Ao;s.setHints(e),super(s,i)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Gr extends vt{constructor(e=500){super(new ei,e)}}class bo extends vt{constructor(e=500){super(new Yn,e)}}var Ea;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(Ea||(Ea={}));var In=Ea;class Ks{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ye(e,Int32Array.from([1])))}buildGenerator(e){const i=this.cachedGenerators;if(e>=i.length){let s=i[i.length-1];const c=this.field;for(let f=i.length;f<=e;f++){const g=s.multiply(new Ye(c,Int32Array.from([1,c.exp(f-1+c.getGeneratorBase())])));i.push(g),s=g}}return i[e]}encode(e,i){if(i===0)throw new D("No error correction bytes");const s=e.length-i;if(s<=0)throw new D("No data bytes provided");const c=this.buildGenerator(i),f=new Int32Array(s);j.arraycopy(e,0,f,0,s);let g=new Ye(this.field,f);g=g.multiplyByMonomial(i,1);const v=g.divide(c)[1].getCoefficients(),b=i-v.length;for(let I=0;I<b;I++)e[s+I]=0;j.arraycopy(v,0,e,s+b,v.length)}}class En{constructor(){}static applyMaskPenaltyRule1(e){return En.applyMaskPenaltyRule1Internal(e,!0)+En.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let i=0;const s=e.getArray(),c=e.getWidth(),f=e.getHeight();for(let g=0;g<f-1;g++){const x=s[g];for(let v=0;v<c-1;v++){const b=x[v];b===x[v+1]&&b===s[g+1][v]&&b===s[g+1][v+1]&&i++}}return En.N2*i}static applyMaskPenaltyRule3(e){let i=0;const s=e.getArray(),c=e.getWidth(),f=e.getHeight();for(let g=0;g<f;g++)for(let x=0;x<c;x++){const v=s[g];x+6<c&&v[x]===1&&v[x+1]===0&&v[x+2]===1&&v[x+3]===1&&v[x+4]===1&&v[x+5]===0&&v[x+6]===1&&(En.isWhiteHorizontal(v,x-4,x)||En.isWhiteHorizontal(v,x+7,x+11))&&i++,g+6<f&&s[g][x]===1&&s[g+1][x]===0&&s[g+2][x]===1&&s[g+3][x]===1&&s[g+4][x]===1&&s[g+5][x]===0&&s[g+6][x]===1&&(En.isWhiteVertical(s,x,g-4,g)||En.isWhiteVertical(s,x,g+7,g+11))&&i++}return i*En.N3}static isWhiteHorizontal(e,i,s){i=Math.max(i,0),s=Math.min(s,e.length);for(let c=i;c<s;c++)if(e[c]===1)return!1;return!0}static isWhiteVertical(e,i,s,c){s=Math.max(s,0),c=Math.min(c,e.length);for(let f=s;f<c;f++)if(e[f][i]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let i=0;const s=e.getArray(),c=e.getWidth(),f=e.getHeight();for(let v=0;v<f;v++){const b=s[v];for(let I=0;I<c;I++)b[I]===1&&i++}const g=e.getHeight()*e.getWidth();return Math.floor(Math.abs(i*2-g)*10/g)*En.N4}static getDataMaskBit(e,i,s){let c,f;switch(e){case 0:c=s+i&1;break;case 1:c=s&1;break;case 2:c=i%3;break;case 3:c=(s+i)%3;break;case 4:c=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:f=s*i,c=(f&1)+f%3;break;case 6:f=s*i,c=(f&1)+f%3&1;break;case 7:f=s*i,c=f%3+(s+i&1)&1;break;default:throw new D("Invalid mask pattern: "+e)}return c===0}static applyMaskPenaltyRule1Internal(e,i){let s=0;const c=i?e.getHeight():e.getWidth(),f=i?e.getWidth():e.getHeight(),g=e.getArray();for(let x=0;x<c;x++){let v=0,b=-1;for(let I=0;I<f;I++){const P=i?g[x][I]:g[I][x];P===b?v++:(v>=5&&(s+=En.N1+(v-5)),v=1,b=P)}v>=5&&(s+=En.N1+(v-5))}return s}}En.N1=3,En.N2=3,En.N3=40,En.N4=10;class Aa{constructor(e,i){this.width=e,this.height=i;const s=new Array(i);for(let c=0;c!==i;c++)s[c]=new Uint8Array(e);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(e,i){return this.bytes[i][e]}getArray(){return this.bytes}setNumber(e,i,s){this.bytes[i][e]=s}setBoolean(e,i,s){this.bytes[i][e]=s?1:0}clear(e){for(const i of this.bytes)lt.fill(i,e)}equals(e){if(!(e instanceof Aa))return!1;const i=e;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,c=this.height;s<c;++s){const f=this.bytes[s],g=i.bytes[s];for(let x=0,v=this.width;x<v;++x)if(f[x]!==g[x])return!1}return!0}toString(){const e=new Lt;for(let i=0,s=this.height;i<s;++i){const c=this.bytes[i];for(let f=0,g=this.width;f<g;++f)switch(c[f]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class na{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Lt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<na.NUM_MASK_PATTERNS}}na.NUM_MASK_PATTERNS=8;class en extends S{}en.kind="WriterException";class le{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,i,s,c,f){le.clearMatrix(f),le.embedBasicPatterns(s,f),le.embedTypeInfo(i,c,f),le.maybeEmbedVersionInfo(s,f),le.embedDataBits(e,c,f)}static embedBasicPatterns(e,i){le.embedPositionDetectionPatternsAndSeparators(i),le.embedDarkDotAtLeftBottomCorner(i),le.maybeEmbedPositionAdjustmentPatterns(e,i),le.embedTimingPatterns(i)}static embedTypeInfo(e,i,s){const c=new nt;le.makeTypeInfoBits(e,i,c);for(let f=0,g=c.getSize();f<g;++f){const x=c.get(c.getSize()-1-f),v=le.TYPE_INFO_COORDINATES[f],b=v[0],I=v[1];if(s.setBoolean(b,I,x),f<8){const P=s.getWidth()-f-1;s.setBoolean(P,8,x)}else{const z=s.getHeight()-7+(f-8);s.setBoolean(8,z,x)}}}static maybeEmbedVersionInfo(e,i){if(e.getVersionNumber()<7)return;const s=new nt;le.makeVersionInfoBits(e,s);let c=6*3-1;for(let f=0;f<6;++f)for(let g=0;g<3;++g){const x=s.get(c);c--,i.setBoolean(f,i.getHeight()-11+g,x),i.setBoolean(i.getHeight()-11+g,f,x)}}static embedDataBits(e,i,s){let c=0,f=-1,g=s.getWidth()-1,x=s.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);x>=0&&x<s.getHeight();){for(let v=0;v<2;++v){const b=g-v;if(!le.isEmpty(s.get(b,x)))continue;let I;c<e.getSize()?(I=e.get(c),++c):I=!1,i!==255&&En.getDataMaskBit(i,b,x)&&(I=!I),s.setBoolean(b,x,I)}x+=f}f=-f,x+=f,g-=2}if(c!==e.getSize())throw new en("Not all bits consumed: "+c+"/"+e.getSize())}static findMSBSet(e){return 32-tt.numberOfLeadingZeros(e)}static calculateBCHCode(e,i){if(i===0)throw new D("0 polynomial");const s=le.findMSBSet(i);for(e<<=s-1;le.findMSBSet(e)>=s;)e^=i<<le.findMSBSet(e)-s;return e}static makeTypeInfoBits(e,i,s){if(!na.isValidMaskPattern(i))throw new en("Invalid mask pattern");const c=e.getBits()<<3|i;s.appendBits(c,5);const f=le.calculateBCHCode(c,le.TYPE_INFO_POLY);s.appendBits(f,10);const g=new nt;if(g.appendBits(le.TYPE_INFO_MASK_PATTERN,15),s.xor(g),s.getSize()!==15)throw new en("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(e,i){i.appendBits(e.getVersionNumber(),6);const s=le.calculateBCHCode(e.getVersionNumber(),le.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new en("should not happen but we got: "+i.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let i=8;i<e.getWidth()-8;++i){const s=(i+1)%2;le.isEmpty(e.get(i,6))&&e.setNumber(i,6,s),le.isEmpty(e.get(6,i))&&e.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new en;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,i,s){for(let c=0;c<8;++c){if(!le.isEmpty(s.get(e+c,i)))throw new en;s.setNumber(e+c,i,0)}}static embedVerticalSeparationPattern(e,i,s){for(let c=0;c<7;++c){if(!le.isEmpty(s.get(e,i+c)))throw new en;s.setNumber(e,i+c,0)}}static embedPositionAdjustmentPattern(e,i,s){for(let c=0;c<5;++c){const f=le.POSITION_ADJUSTMENT_PATTERN[c];for(let g=0;g<5;++g)s.setNumber(e+g,i+c,f[g])}}static embedPositionDetectionPattern(e,i,s){for(let c=0;c<7;++c){const f=le.POSITION_DETECTION_PATTERN[c];for(let g=0;g<7;++g)s.setNumber(e+g,i+c,f[g])}}static embedPositionDetectionPatternsAndSeparators(e){const i=le.POSITION_DETECTION_PATTERN[0].length;le.embedPositionDetectionPattern(0,0,e),le.embedPositionDetectionPattern(e.getWidth()-i,0,e),le.embedPositionDetectionPattern(0,e.getWidth()-i,e);const s=8;le.embedHorizontalSeparationPattern(0,s-1,e),le.embedHorizontalSeparationPattern(e.getWidth()-s,s-1,e),le.embedHorizontalSeparationPattern(0,e.getWidth()-s,e);const c=7;le.embedVerticalSeparationPattern(c,0,e),le.embedVerticalSeparationPattern(e.getHeight()-c-1,0,e),le.embedVerticalSeparationPattern(c,e.getHeight()-c,e)}static maybeEmbedPositionAdjustmentPatterns(e,i){if(e.getVersionNumber()<2)return;const s=e.getVersionNumber()-1,c=le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let f=0,g=c.length;f!==g;f++){const x=c[f];if(x>=0)for(let v=0;v!==g;v++){const b=c[v];b>=0&&le.isEmpty(i.get(b,x))&&le.embedPositionAdjustmentPattern(b-2,x-2,i)}}}}le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),le.VERSION_INFO_POLY=7973,le.TYPE_INFO_POLY=1335,le.TYPE_INFO_MASK_PATTERN=21522;class cl{constructor(e,i){this.dataBytes=e,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class rn{constructor(){}static calculateMaskPenalty(e){return En.applyMaskPenaltyRule1(e)+En.applyMaskPenaltyRule2(e)+En.applyMaskPenaltyRule3(e)+En.applyMaskPenaltyRule4(e)}static encode(e,i,s=null){let c=rn.DEFAULT_BYTE_MODE_ENCODING;const f=s!==null&&s.get(In.CHARACTER_SET)!==void 0;f&&(c=s.get(In.CHARACTER_SET).toString());const g=this.chooseMode(e,c),x=new nt;if(g===re.BYTE&&(f||rn.DEFAULT_BYTE_MODE_ENCODING!==c)){const Gt=st.getCharacterSetECIByName(c);Gt!==void 0&&this.appendECI(Gt,x)}this.appendModeInfo(g,x);const v=new nt;this.appendBytes(e,g,v,c);let b;if(s!==null&&s.get(In.QR_VERSION)!==void 0){const Gt=Number.parseInt(s.get(In.QR_VERSION).toString(),10);b=Wt.getVersionForNumber(Gt);const Ht=this.calculateBitsNeeded(g,x,v,b);if(!this.willFit(Ht,b,i))throw new en("Data too big for requested version")}else b=this.recommendVersion(i,g,x,v);const I=new nt;I.appendBitArray(x);const P=g===re.BYTE?v.getSizeInBytes():e.length;this.appendLengthInfo(P,b,g,I),I.appendBitArray(v);const z=b.getECBlocksForLevel(i),Y=b.getTotalCodewords()-z.getTotalECCodewords();this.terminateBits(Y,I);const K=this.interleaveWithECBytes(I,b.getTotalCodewords(),Y,z.getNumBlocks()),it=new na;it.setECLevel(i),it.setMode(g),it.setVersion(b);const pt=b.getDimensionForVersion(),Et=new Aa(pt,pt),Zt=this.chooseMaskPattern(K,i,b,Et);return it.setMaskPattern(Zt),le.buildMatrix(K,i,b,Zt,Et),it.setMatrix(Et),it}static recommendVersion(e,i,s,c){const f=this.calculateBitsNeeded(i,s,c,Wt.getVersionForNumber(1)),g=this.chooseVersion(f,e),x=this.calculateBitsNeeded(i,s,c,g);return this.chooseVersion(x,e)}static calculateBitsNeeded(e,i,s,c){return i.getSize()+e.getCharacterCountBits(c)+s.getSize()}static getAlphanumericCode(e){return e<rn.ALPHANUMERIC_TABLE.length?rn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,i=null){if(st.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(e))return re.KANJI;let s=!1,c=!1;for(let f=0,g=e.length;f<g;++f){const x=e.charAt(f);if(rn.isDigit(x))s=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return re.BYTE}return c?re.ALPHANUMERIC:s?re.NUMERIC:re.BYTE}static isOnlyDoubleByteKanji(e){let i;try{i=Dt.encode(e,st.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let c=0;c<s;c+=2){const f=i[c]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(e,i,s,c){let f=Number.MAX_SAFE_INTEGER,g=-1;for(let x=0;x<na.NUM_MASK_PATTERNS;x++){le.buildMatrix(e,i,s,x,c);let v=this.calculateMaskPenalty(c);v<f&&(f=v,g=x)}return g}static chooseVersion(e,i){for(let s=1;s<=40;s++){const c=Wt.getVersionForNumber(s);if(rn.willFit(e,c,i))return c}throw new en("Data too big")}static willFit(e,i,s){const c=i.getTotalCodewords(),g=i.getECBlocksForLevel(s).getTotalECCodewords(),x=c-g,v=(e+7)/8;return x>=v}static terminateBits(e,i){const s=e*8;if(i.getSize()>s)throw new en("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let g=0;g<4&&i.getSize()<s;++g)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let g=c;g<8;g++)i.appendBit(!1);const f=e-i.getSizeInBytes();for(let g=0;g<f;++g)i.appendBits((g&1)===0?236:17,8);if(i.getSize()!==s)throw new en("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,i,s,c,f,g){if(c>=s)throw new en("Block ID too large");const x=e%s,v=s-x,b=Math.floor(e/s),I=b+1,P=Math.floor(i/s),z=P+1,Y=b-P,K=I-z;if(Y!==K)throw new en("EC bytes mismatch");if(s!==v+x)throw new en("RS blocks mismatch");if(e!==(P+Y)*v+(z+K)*x)throw new en("Total bytes mismatch");c<v?(f[0]=P,g[0]=Y):(f[0]=z,g[0]=K)}static interleaveWithECBytes(e,i,s,c){if(e.getSizeInBytes()!==s)throw new en("Number of bits and data bytes does not match");let f=0,g=0,x=0;const v=new Array;for(let I=0;I<c;++I){const P=new Int32Array(1),z=new Int32Array(1);rn.getNumDataBytesAndNumECBytesForBlockID(i,s,c,I,P,z);const Y=P[0],K=new Uint8Array(Y);e.toBytes(8*f,K,0,Y);const it=rn.generateECBytes(K,z[0]);v.push(new cl(K,it)),g=Math.max(g,Y),x=Math.max(x,it.length),f+=P[0]}if(s!==f)throw new en("Data bytes does not match offset");const b=new nt;for(let I=0;I<g;++I)for(const P of v){const z=P.getDataBytes();I<z.length&&b.appendBits(z[I],8)}for(let I=0;I<x;++I)for(const P of v){const z=P.getErrorCorrectionBytes();I<z.length&&b.appendBits(z[I],8)}if(i!==b.getSizeInBytes())throw new en("Interleaving error: "+i+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(e,i){const s=e.length,c=new Int32Array(s+i);for(let g=0;g<s;g++)c[g]=e[g]&255;new Ks(de.QR_CODE_FIELD_256).encode(c,i);const f=new Uint8Array(i);for(let g=0;g<i;g++)f[g]=c[s+g];return f}static appendModeInfo(e,i){i.appendBits(e.getBits(),4)}static appendLengthInfo(e,i,s,c){const f=s.getCharacterCountBits(i);if(e>=1<<f)throw new en(e+" is bigger than "+((1<<f)-1));c.appendBits(e,f)}static appendBytes(e,i,s,c){switch(i){case re.NUMERIC:rn.appendNumericBytes(e,s);break;case re.ALPHANUMERIC:rn.appendAlphanumericBytes(e,s);break;case re.BYTE:rn.append8BitBytes(e,s,c);break;case re.KANJI:rn.appendKanjiBytes(e,s);break;default:throw new en("Invalid mode: "+i)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const i=rn.getDigit(e);return i>=0&&i<=9}static appendNumericBytes(e,i){const s=e.length;let c=0;for(;c<s;){const f=rn.getDigit(e.charAt(c));if(c+2<s){const g=rn.getDigit(e.charAt(c+1)),x=rn.getDigit(e.charAt(c+2));i.appendBits(f*100+g*10+x,10),c+=3}else if(c+1<s){const g=rn.getDigit(e.charAt(c+1));i.appendBits(f*10+g,7),c+=2}else i.appendBits(f,4),c++}}static appendAlphanumericBytes(e,i){const s=e.length;let c=0;for(;c<s;){const f=rn.getAlphanumericCode(e.charCodeAt(c));if(f===-1)throw new en;if(c+1<s){const g=rn.getAlphanumericCode(e.charCodeAt(c+1));if(g===-1)throw new en;i.appendBits(f*45+g,11),c+=2}else i.appendBits(f,6),c++}}static append8BitBytes(e,i,s){let c;try{c=Dt.encode(e,s)}catch(f){throw new en(f)}for(let f=0,g=c.length;f!==g;f++){const x=c[f];i.appendBits(x,8)}}static appendKanjiBytes(e,i){let s;try{s=Dt.encode(e,st.SJIS)}catch(f){throw new en(f)}const c=s.length;for(let f=0;f<c;f+=2){const g=s[f]&255,x=s[f+1]&255,v=g<<8&4294967295|x;let b=-1;if(v>=33088&&v<=40956?b=v-33088:v>=57408&&v<=60351&&(b=v-49472),b===-1)throw new en("Invalid byte sequence");const I=(b>>8)*192+(b&255);i.appendBits(I,13)}}static appendECI(e,i){i.appendBits(re.ECI.getBits(),4),i.appendBits(e.getValue(),8)}}rn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),rn.DEFAULT_BYTE_MODE_ENCODING=st.UTF8.getName();class Yr{write(e,i,s,c=null){if(e.length===0)throw new D("Found empty contents");if(i<0||s<0)throw new D("Requested dimensions are too small: "+i+"x"+s);let f=Ce.L,g=Yr.QUIET_ZONE_SIZE;c!==null&&(c.get(In.ERROR_CORRECTION)!==void 0&&(f=Ce.fromString(c.get(In.ERROR_CORRECTION).toString())),c.get(In.MARGIN)!==void 0&&(g=Number.parseInt(c.get(In.MARGIN).toString(),10)));const x=rn.encode(e,f,c);return this.renderResult(x,i,s,g)}writeToDom(e,i,s,c,f=null){typeof e=="string"&&(e=document.querySelector(e));const g=this.write(i,s,c,f);e&&e.appendChild(g)}renderResult(e,i,s,c){const f=e.getMatrix();if(f===null)throw new Xe;const g=f.getWidth(),x=f.getHeight(),v=g+c*2,b=x+c*2,I=Math.max(i,v),P=Math.max(s,b),z=Math.min(Math.floor(I/v),Math.floor(P/b)),Y=Math.floor((I-g*z)/2),K=Math.floor((P-x*z)/2),it=this.createSVGElement(I,P);for(let pt=0,Et=K;pt<x;pt++,Et+=z)for(let Zt=0,Gt=Y;Zt<g;Zt++,Gt+=z)if(f.get(Zt,pt)===1){const Ht=this.createSvgRectElement(Gt,Et,z,z);it.appendChild(Ht)}return it}createSVGElement(e,i){const s=document.createElementNS(Yr.SVG_NS,"svg");return s.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(e,i,s,c){const f=document.createElementNS(Yr.SVG_NS,"rect");return f.setAttributeNS(null,"x",e.toString()),f.setAttributeNS(null,"y",i.toString()),f.setAttributeNS(null,"height",s.toString()),f.setAttributeNS(null,"width",c.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Yr.QUIET_ZONE_SIZE=4,Yr.SVG_NS="http://www.w3.org/2000/svg";class vr{encode(e,i,s,c,f){if(e.length===0)throw new D("Found empty contents");if(i!==_t.QR_CODE)throw new D("Can only encode QR_CODE, but got "+i);if(s<0||c<0)throw new D(`Requested dimensions are too small: ${s}x${c}`);let g=Ce.L,x=vr.QUIET_ZONE_SIZE;f!==null&&(f.get(In.ERROR_CORRECTION)!==void 0&&(g=Ce.fromString(f.get(In.ERROR_CORRECTION).toString())),f.get(In.MARGIN)!==void 0&&(x=Number.parseInt(f.get(In.MARGIN).toString(),10)));const v=rn.encode(e,g,f);return vr.renderResult(v,s,c,x)}static renderResult(e,i,s,c){const f=e.getMatrix();if(f===null)throw new Xe;const g=f.getWidth(),x=f.getHeight(),v=g+c*2,b=x+c*2,I=Math.max(i,v),P=Math.max(s,b),z=Math.min(Math.floor(I/v),Math.floor(P/b)),Y=Math.floor((I-g*z)/2),K=Math.floor((P-x*z)/2),it=new X(I,P);for(let pt=0,Et=K;pt<x;pt++,Et+=z)for(let Zt=0,Gt=Y;Zt<g;Zt++,Gt+=z)f.get(Zt,pt)===1&&it.setRegion(Gt,Et,z,z);return it}}vr.QUIET_ZONE_SIZE=4;class ia{encode(e,i,s,c,f){let g;switch(i){case _t.QR_CODE:g=new vr;break;default:throw new D("No encoder available for format "+i)}return g.encode(e,i,s,c,f)}}class lr extends ut{constructor(e,i,s,c,f,g,x,v){if(super(g,x),this.yuvData=e,this.dataWidth=i,this.dataHeight=s,this.left=c,this.top=f,c+g>i||f+x>s)throw new D("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(g,x)}getRow(e,i){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const c=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,c,i,0,s),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=e*i,c=new Uint8ClampedArray(s);let f=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,f,c,0,s),c;for(let g=0;g<i;g++){const x=g*e;j.arraycopy(this.yuvData,f,c,x,e),f+=this.dataWidth}return c}isCropSupported(){return!0}crop(e,i,s,c){return new lr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+i,s,c,!1)}renderThumbnail(){const e=this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(e*i),c=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<i;g++){const x=g*e;for(let v=0;v<e;v++){const b=c[f+v*lr.THUMBNAIL_SCALE_FACTOR]&255;s[x+v]=4278190080|b*65793}f+=this.dataWidth*lr.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,i){const s=this.yuvData;for(let c=0,f=this.top*this.dataWidth+this.left;c<i;c++,f+=this.dataWidth){const g=f+e/2;for(let x=f,v=f+e-1;x<g;x++,v--){const b=s[x];s[x]=s[v],s[v]=b}}}invert(){return new ct(this)}}lr.THUMBNAIL_SCALE_FACTOR=2;class Er extends ut{constructor(e,i,s,c,f,g,x){if(super(i,s),this.dataWidth=c,this.dataHeight=f,this.left=g,this.top=x,e.BYTES_PER_ELEMENT===4){const v=i*s,b=new Uint8ClampedArray(v);for(let I=0;I<v;I++){const P=e[I],z=P>>16&255,Y=P>>7&510,K=P&255;b[I]=(z+Y+K)/4&255}this.luminances=b}else this.luminances=e;if(c===void 0&&(this.dataWidth=i),f===void 0&&(this.dataHeight=s),g===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(e,i){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const c=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,c,i,0,s),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=e*i,c=new Uint8ClampedArray(s);let f=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,f,c,0,s),c;for(let g=0;g<i;g++){const x=g*e;j.arraycopy(this.luminances,f,c,x,e),f+=this.dataWidth}return c}isCropSupported(){return!0}crop(e,i,s,c){return new Er(this.luminances,s,c,this.dataWidth,this.dataHeight,this.left+e,this.top+i)}invert(){return new ct(this)}}class ni extends st{static forName(e){return this.getCharacterSetECIByName(e)}}class fs{}fs.ISO_8859_1=st.ISO8859_1;class hs{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Js{static singletonList(e){return[e]}static min(e,i){return e.sort(i)[0]}}class ds{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Ar extends ds{constructor(e,i,s){super(e),this.value=i,this.bitCount=s}appendTo(e,i){e.appendBits(this.value,this.bitCount)}add(e,i){return new Ar(this,e,i)}addBinaryShift(e,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ar(this,e,i)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+tt.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class gs extends Ar{constructor(e,i,s){super(e,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(e,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):s===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(e,i){return new gs(this,e,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sa(B,e,i){return new gs(B,e,i)}function ba(B,e,i){return new Ar(B,e,i)}const fl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xn=0,ur=1,Li=2,Ai=3,Si=4,Ca=new Ar(null,0,0),Ta=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ma(B){for(let e of B)lt.fill(e,-1);return B[Xn][Si]=0,B[ur][Si]=0,B[ur][Xn]=28,B[Ai][Si]=0,B[Li][Si]=0,B[Li][Xn]=15,B}const ms=Ma(lt.createInt32Array(6,6));class fi{constructor(e,i,s,c){this.token=e,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,i){let s=this.bitCount,c=this.token;if(e!==this.mode){let g=Ta[this.mode][e];c=ba(c,g&65535,g>>16),s+=g>>16}let f=e===Li?4:5;return c=ba(c,i,f),new fi(c,e,0,s+f)}shiftAndAppend(e,i){let s=this.token,c=this.mode===Li?4:5;return s=ba(s,ms[this.mode][e],c),s=ba(s,i,5),new fi(s,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(e){let i=this.token,s=this.mode,c=this.bitCount;if(this.mode===Si||this.mode===Li){let x=Ta[s][Xn];i=ba(i,x&65535,x>>16),c+=x>>16,s=Xn}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new fi(i,s,this.binaryShiftByteCount+1,c+f);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(e+1)),g}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Sa(i,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new fi(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let i=this.bitCount+(Ta[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?i+=fi.calculateBinaryShiftCost(e)-fi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(i+=10),i<=e.bitCount}toBitArray(e){let i=[];for(let c=this.endBinaryShift(e.length).token;c!==null;c=c.getPrevious())i.unshift(c);let s=new nt;for(const c of i)c.appendTo(s,e);return s}toString(){return Tt.format("%s bits=%d bytes=%d",fl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}fi.INITIAL_STATE=new fi(Ca,Xn,0,0);function $s(B){const e=Tt.getCharCode(" "),i=Tt.getCharCode("."),s=Tt.getCharCode(",");B[Xn][e]=1;const c=Tt.getCharCode("Z"),f=Tt.getCharCode("A");for(let z=f;z<=c;z++)B[Xn][z]=z-f+2;B[ur][e]=1;const g=Tt.getCharCode("z"),x=Tt.getCharCode("a");for(let z=x;z<=g;z++)B[ur][z]=z-x+2;B[Li][e]=1;const v=Tt.getCharCode("9"),b=Tt.getCharCode("0");for(let z=b;z<=v;z++)B[Li][z]=z-b+2;B[Li][s]=12,B[Li][i]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let z=0;z<I.length;z++)B[Ai][Tt.getCharCode(I[z])]=z;const P=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let z=0;z<P.length;z++)Tt.getCharCode(P[z])>0&&(B[Si][Tt.getCharCode(P[z])]=z);return B}const Qi=$s(lt.createInt32Array(5,256));class Sr{constructor(e){this.text=e}encode(){const e=Tt.getCharCode(" "),i=Tt.getCharCode(`
`);let s=Js.singletonList(fi.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let g,x=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case Tt.getCharCode("\r"):g=x===i?2:0;break;case Tt.getCharCode("."):g=x===e?3:0;break;case Tt.getCharCode(","):g=x===e?4:0;break;case Tt.getCharCode(":"):g=x===e?5:0;break;default:g=0}g>0?(s=Sr.updateStateListForPair(s,f,g),f++):s=this.updateStateListForChar(s,f)}return Js.min(s,(f,g)=>f.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,i){const s=[];for(let c of e)this.updateStateForChar(c,i,s);return Sr.simplifyStates(s)}updateStateForChar(e,i,s){let c=this.text[i]&255,f=Qi[e.getMode()][c]>0,g=null;for(let x=0;x<=Si;x++){let v=Qi[x][c];if(v>0){if(g==null&&(g=e.endBinaryShift(i)),!f||x===e.getMode()||x===Li){const b=g.latchAndAppend(x,v);s.push(b)}if(!f&&ms[e.getMode()][x]>=0){const b=g.shiftAndAppend(x,v);s.push(b)}}}if(e.getBinaryShiftByteCount()>0||Qi[e.getMode()][c]===0){let x=e.addBinaryShiftChar(i);s.push(x)}}static updateStateListForPair(e,i,s){const c=[];for(let f of e)this.updateStateForPair(f,i,s,c);return this.simplifyStates(c)}static updateStateForPair(e,i,s,c){let f=e.endBinaryShift(i);if(c.push(f.latchAndAppend(Si,s)),e.getMode()!==Si&&c.push(f.shiftAndAppend(Si,s)),s===3||s===4){let g=f.latchAndAppend(Li,16-s).latchAndAppend(Li,1);c.push(g)}if(e.getBinaryShiftByteCount()>0){let g=e.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(g)}}static simplifyStates(e){let i=[];for(const s of e){let c=!0;for(const f of i){if(f.isBetterThanOrEqualTo(s)){c=!1;break}s.isBetterThanOrEqualTo(f)&&(i=i.filter(g=>g!==f))}c&&i.push(s)}return i}}class ke{constructor(){}static encodeBytes(e){return ke.encode(e,ke.DEFAULT_EC_PERCENT,ke.DEFAULT_AZTEC_LAYERS)}static encode(e,i,s){let c=new Sr(e).encode(),f=tt.truncDivision(c.getSize()*i,100)+11,g=c.getSize()+f,x,v,b,I,P;if(s!==ke.DEFAULT_AZTEC_LAYERS){if(x=s<0,v=Math.abs(s),v>(x?ke.MAX_NB_BITS_COMPACT:ke.MAX_NB_BITS))throw new D(Tt.format("Illegal value %s for layers",s));b=ke.totalBitsInLayer(v,x),I=ke.WORD_SIZE[v];let Ht=b-b%I;if(P=ke.stuffBits(c,I),P.getSize()+f>Ht)throw new D("Data to large for user specified layer");if(x&&P.getSize()>I*64)throw new D("Data to large for user specified layer")}else{I=0,P=null;for(let Ht=0;;Ht++){if(Ht>ke.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(x=Ht<=3,v=x?Ht+1:Ht,b=ke.totalBitsInLayer(v,x),g>b)continue;(P==null||I!==ke.WORD_SIZE[v])&&(I=ke.WORD_SIZE[v],P=ke.stuffBits(c,I));let ye=b-b%I;if(!(x&&P.getSize()>I*64)&&P.getSize()+f<=ye)break}}let z=ke.generateCheckWords(P,b,I),Y=P.getSize()/I,K=ke.generateModeMessage(x,v,Y),it=(x?11:14)+v*4,pt=new Int32Array(it),Et;if(x){Et=it;for(let Ht=0;Ht<pt.length;Ht++)pt[Ht]=Ht}else{Et=it+1+2*tt.truncDivision(tt.truncDivision(it,2)-1,15);let Ht=tt.truncDivision(it,2),ye=tt.truncDivision(Et,2);for(let we=0;we<Ht;we++){let dn=we+tt.truncDivision(we,15);pt[Ht-we-1]=ye-dn-1,pt[Ht+we]=ye+dn+1}}let Zt=new X(Et);for(let Ht=0,ye=0;Ht<v;Ht++){let we=(v-Ht)*4+(x?9:12);for(let dn=0;dn<we;dn++){let hi=dn*2;for(let bi=0;bi<2;bi++)z.get(ye+hi+bi)&&Zt.set(pt[Ht*2+bi],pt[Ht*2+dn]),z.get(ye+we*2+hi+bi)&&Zt.set(pt[Ht*2+dn],pt[it-1-Ht*2-bi]),z.get(ye+we*4+hi+bi)&&Zt.set(pt[it-1-Ht*2-bi],pt[it-1-Ht*2-dn]),z.get(ye+we*6+hi+bi)&&Zt.set(pt[it-1-Ht*2-dn],pt[Ht*2+bi])}ye+=we*8}if(ke.drawModeMessage(Zt,x,Et,K),x)ke.drawBullsEye(Zt,tt.truncDivision(Et,2),5);else{ke.drawBullsEye(Zt,tt.truncDivision(Et,2),7);for(let Ht=0,ye=0;Ht<tt.truncDivision(it,2)-1;Ht+=15,ye+=16)for(let we=tt.truncDivision(Et,2)&1;we<Et;we+=2)Zt.set(tt.truncDivision(Et,2)-ye,we),Zt.set(tt.truncDivision(Et,2)+ye,we),Zt.set(we,tt.truncDivision(Et,2)-ye),Zt.set(we,tt.truncDivision(Et,2)+ye)}let Gt=new hs;return Gt.setCompact(x),Gt.setSize(Et),Gt.setLayers(v),Gt.setCodeWords(Y),Gt.setMatrix(Zt),Gt}static drawBullsEye(e,i,s){for(let c=0;c<s;c+=2)for(let f=i-c;f<=i+c;f++)e.set(f,i-c),e.set(f,i+c),e.set(i-c,f),e.set(i+c,f);e.set(i-s,i-s),e.set(i-s+1,i-s),e.set(i-s,i-s+1),e.set(i+s,i-s),e.set(i+s,i-s+1),e.set(i+s,i+s-1)}static generateModeMessage(e,i,s){let c=new nt;return e?(c.appendBits(i-1,2),c.appendBits(s-1,6),c=ke.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(s-1,11),c=ke.generateCheckWords(c,40,4)),c}static drawModeMessage(e,i,s,c){let f=tt.truncDivision(s,2);if(i)for(let g=0;g<7;g++){let x=f-3+g;c.get(g)&&e.set(x,f-5),c.get(g+7)&&e.set(f+5,x),c.get(20-g)&&e.set(x,f+5),c.get(27-g)&&e.set(f-5,x)}else for(let g=0;g<10;g++){let x=f-5+g+tt.truncDivision(g,5);c.get(g)&&e.set(x,f-7),c.get(g+10)&&e.set(f+7,x),c.get(29-g)&&e.set(x,f+7),c.get(39-g)&&e.set(f-7,x)}}static generateCheckWords(e,i,s){let c=e.getSize()/s,f=new Ks(ke.getGF(s)),g=tt.truncDivision(i,s),x=ke.bitsToWords(e,s,g);f.encode(x,g-c);let v=i%s,b=new nt;b.appendBits(0,v);for(const I of Array.from(x))b.appendBits(I,s);return b}static bitsToWords(e,i,s){let c=new Int32Array(s),f,g;for(f=0,g=e.getSize()/i;f<g;f++){let x=0;for(let v=0;v<i;v++)x|=e.get(f*i+v)?1<<i-v-1:0;c[f]=x}return c}static getGF(e){switch(e){case 4:return de.AZTEC_PARAM;case 6:return de.AZTEC_DATA_6;case 8:return de.AZTEC_DATA_8;case 10:return de.AZTEC_DATA_10;case 12:return de.AZTEC_DATA_12;default:throw new D("Unsupported word size "+e)}}static stuffBits(e,i){let s=new nt,c=e.getSize(),f=(1<<i)-2;for(let g=0;g<c;g+=i){let x=0;for(let v=0;v<i;v++)(g+v>=c||e.get(g+v))&&(x|=1<<i-1-v);(x&f)===f?(s.appendBits(x&f,i),g--):(x&f)===0?(s.appendBits(x|1,i),g--):s.appendBits(x,i)}return s}static totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}ke.DEFAULT_EC_PERCENT=33,ke.DEFAULT_AZTEC_LAYERS=0,ke.MAX_NB_BITS=32,ke.MAX_NB_BITS_COMPACT=4,ke.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Na{encode(e,i,s,c){return this.encodeWithHints(e,i,s,c,null)}encodeWithHints(e,i,s,c,f){let g=fs.ISO_8859_1,x=ke.DEFAULT_EC_PERCENT,v=ke.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(In.CHARACTER_SET)&&(g=ni.forName(f.get(In.CHARACTER_SET).toString())),f.has(In.ERROR_CORRECTION)&&(x=tt.parseInt(f.get(In.ERROR_CORRECTION).toString())),f.has(In.AZTEC_LAYERS)&&(v=tt.parseInt(f.get(In.AZTEC_LAYERS).toString()))),Na.encodeLayers(e,i,s,c,g,x,v)}static encodeLayers(e,i,s,c,f,g,x){if(i!==_t.AZTEC)throw new D("Can only encode AZTEC, but got "+i);let v=ke.encode(Tt.getBytes(e,f),g,x);return Na.renderResult(v,s,c)}static renderResult(e,i,s){let c=e.getMatrix();if(c==null)throw new Xe;let f=c.getWidth(),g=c.getHeight(),x=Math.max(i,f),v=Math.max(s,g),b=Math.min(x/f,v/g),I=(x-f*b)/2,P=(v-g*b)/2,z=new X(x,v);for(let Y=0,K=P;Y<g;Y++,K+=b)for(let it=0,pt=I;it<f;it++,pt+=b)c.get(it,Y)&&z.setRegion(pt,K,b,b);return z}}u.AbstractExpandedDecoder=Ur,u.ArgumentException=N,u.ArithmeticException=xn,u.AztecCode=hs,u.AztecCodeReader=Sn,u.AztecCodeWriter=Na,u.AztecDecoder=Xt,u.AztecDetector=mr,u.AztecDetectorResult=Yi,u.AztecEncoder=ke,u.AztecHighLevelEncoder=Sr,u.AztecPoint=Be,u.BarcodeFormat=_t,u.Binarizer=rt,u.BinaryBitmap=H,u.BitArray=nt,u.BitMatrix=X,u.BitSource=Jn,u.BrowserAztecCodeReader=Ii,u.BrowserBarcodeReader=Hr,u.BrowserCodeReader=vt,u.BrowserDatamatrixCodeReader=Qs,u.BrowserMultiFormatReader=So,u.BrowserPDF417Reader=Gr,u.BrowserQRCodeReader=bo,u.BrowserQRCodeSvgWriter=Yr,u.CharacterSetECI=st,u.ChecksumException=V,u.Code128Reader=Vt,u.Code39Reader=Pe,u.DataMatrixDecodedBitStreamParser=Ri,u.DataMatrixReader=je,u.DecodeHintType=Nt,u.DecoderResult=Oe,u.DefaultGridSampler=_n,u.DetectorResult=Ui,u.EAN13Reader=li,u.EncodeHintType=In,u.Exception=S,u.FormatException=ft,u.GenericGF=de,u.GenericGFPoly=Ye,u.GlobalHistogramBinarizer=G,u.GridSampler=nr,u.GridSamplerInstance=yn,u.HTMLCanvasElementLuminanceSource=U,u.HybridBinarizer=J,u.ITFReader=be,u.IllegalArgumentException=D,u.IllegalStateException=Xe,u.InvertedLuminanceSource=ct,u.LuminanceSource=ut,u.MathUtils=fe,u.MultiFormatOneDReader=Di,u.MultiFormatReader=Ao,u.MultiFormatWriter=ia,u.NotFoundException=q,u.OneDReader=Ve,u.PDF417DecodedBitStreamParser=Mt,u.PDF417DecoderErrorCorrection=ta,u.PDF417Reader=ei,u.PDF417ResultMetadata=Ya,u.PerspectiveTransform=an,u.PlanarYUVLuminanceSource=lr,u.QRCodeByteMatrix=Aa,u.QRCodeDataMask=Nn,u.QRCodeDecodedBitStreamParser=ln,u.QRCodeDecoderErrorCorrectionLevel=Ce,u.QRCodeDecoderFormatInformation=$n,u.QRCodeEncoder=rn,u.QRCodeEncoderQRCode=na,u.QRCodeMaskUtil=En,u.QRCodeMatrixUtil=le,u.QRCodeMode=re,u.QRCodeReader=Yn,u.QRCodeVersion=Wt,u.QRCodeWriter=vr,u.RGBLuminanceSource=Er,u.RSS14Reader=Ge,u.RSSExpandedReader=Pt,u.ReaderException=Ei,u.ReedSolomonDecoder=Kn,u.ReedSolomonEncoder=Ks,u.ReedSolomonException=Mn,u.Result=At,u.ResultMetadataType=qt,u.ResultPoint=Qt,u.StringUtils=Tt,u.UnsupportedOperationException=Yt,u.VideoInputDevice=$,u.WhiteRectangleDetector=zn,u.WriterException=en,u.ZXingArrays=lt,u.ZXingCharset=ni,u.ZXingInteger=tt,u.ZXingStandardCharsets=fs,u.ZXingStringBuilder=Lt,u.ZXingStringEncoding=Dt,u.ZXingSystem=j,u.createAbstractExpandedDecoder=Fr,Object.defineProperty(u,"__esModule",{value:!0})})}(tu,tu.exports)),tu.exports}var On=s_();const o_=Fc(On),l_=Ox({__proto__:null,default:o_},[On]);var Bg=function(){function a(o,u,m){if(this.formatMap=new Map([[te.QR_CODE,On.BarcodeFormat.QR_CODE],[te.AZTEC,On.BarcodeFormat.AZTEC],[te.CODABAR,On.BarcodeFormat.CODABAR],[te.CODE_39,On.BarcodeFormat.CODE_39],[te.CODE_93,On.BarcodeFormat.CODE_93],[te.CODE_128,On.BarcodeFormat.CODE_128],[te.DATA_MATRIX,On.BarcodeFormat.DATA_MATRIX],[te.MAXICODE,On.BarcodeFormat.MAXICODE],[te.ITF,On.BarcodeFormat.ITF],[te.EAN_13,On.BarcodeFormat.EAN_13],[te.EAN_8,On.BarcodeFormat.EAN_8],[te.PDF_417,On.BarcodeFormat.PDF_417],[te.RSS_14,On.BarcodeFormat.RSS_14],[te.RSS_EXPANDED,On.BarcodeFormat.RSS_EXPANDED],[te.UPC_A,On.BarcodeFormat.UPC_A],[te.UPC_E,On.BarcodeFormat.UPC_E],[te.UPC_EAN_EXTENSION,On.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!l_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=u,this.logger=m;var p=this.createZXingFormats(o),_=new Map;_.set(On.DecodeHintType.POSSIBLE_FORMATS,p),_.set(On.DecodeHintType.TRY_HARDER,!1),this.hints=_}return a.prototype.decodeAsync=function(o){var u=this;return new Promise(function(m,p){try{m(u.decode(o))}catch(_){p(_)}})},a.prototype.decode=function(o){var u=new On.MultiFormatReader(this.verbose,this.hints),m=new On.HTMLCanvasElementLuminanceSource(o),p=new On.BinaryBitmap(new On.HybridBinarizer(m)),_=u.decode(p);return{text:_.text,format:Zm.create(this.toHtml5QrcodeSupportedFormats(_.format)),debugData:this.createDebugData()}},a.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(u,m,p){o.set(u,m)}),o},a.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},a.prototype.createZXingFormats=function(o){for(var u=[],m=0,p=o;m<p.length;m++){var _=p[m];this.formatMap.has(_)?u.push(this.formatMap.get(_)):this.logger.logError("".concat(_," is not supported by")+"ZXingHtml5QrcodeShim")}return u},a.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},a}(),u_=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},c_=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Pg=function(){function a(o,u,m){if(this.formatMap=new Map([[te.QR_CODE,"qr_code"],[te.AZTEC,"aztec"],[te.CODABAR,"codabar"],[te.CODE_39,"code_39"],[te.CODE_93,"code_93"],[te.CODE_128,"code_128"],[te.DATA_MATRIX,"data_matrix"],[te.ITF,"itf"],[te.EAN_13,"ean_13"],[te.EAN_8,"ean_8"],[te.PDF_417,"pdf417"],[te.UPC_A,"upc_a"],[te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!a.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=u,this.logger=m;var p=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(p),!this.detector)throw"BarcodeDetector detector not supported"}return a.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},a.prototype.decodeAsync=function(o){return u_(this,void 0,void 0,function(){var u,m;return c_(this,function(p){switch(p.label){case 0:return[4,this.detector.detect(o)];case 1:if(u=p.sent(),!u||u.length===0)throw"No barcode or QR code detected.";return m=this.selectLargestBarcode(u),[2,{text:m.rawValue,format:Zm.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}]}})})},a.prototype.selectLargestBarcode=function(o){for(var u=null,m=0,p=0,_=o;p<_.length;p++){var E=_[p],T=E.boundingBox.width*E.boundingBox.height;T>m&&(m=T,u=E)}if(!u)throw"No largest barcode found";return u},a.prototype.createBarcodeDetectorFormats=function(o){for(var u=[],m=0,p=o;m<p.length;m++){var _=p[m];this.formatMap.has(_)?u.push(this.formatMap.get(_)):this.logger.warn("".concat(_," is not supported by")+"BarcodeDetectorDelegate")}return{formats:u}},a.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},a.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(u,m,p){o.set(u,m)}),o},a.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},a}(),zg=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},kg=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},f_=function(){function a(o,u,m,p){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=m,u&&Pg.isSupported()?(this.primaryDecoder=new Pg(o,m,p),this.secondaryDecoder=new Bg(o,m,p)):this.primaryDecoder=new Bg(o,m,p)}return a.prototype.decodeAsync=function(o){return zg(this,void 0,void 0,function(){var u;return kg(this,function(m){switch(m.label){case 0:u=performance.now(),m.label=1;case 1:return m.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,m.sent()];case 3:return this.possiblyLogPerformance(u),[7];case 4:return[2]}})})},a.prototype.decodeRobustlyAsync=function(o){return zg(this,void 0,void 0,function(){var u,m;return kg(this,function(p){switch(p.label){case 0:u=performance.now(),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,p.sent()];case 3:if(m=p.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw m;case 4:return this.possiblyLogPerformance(u),[7];case 5:return[2]}})})},a.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},a.prototype.possiblyLogPerformance=function(o){if(this.verbose){var u=performance.now()-o;this.executionResults.push(u),this.executions++,this.possiblyFlushPerformanceReport()}},a.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,u=0,m=this.executionResults;u<m.length;u++){var p=m[u];o+=p}var _=o/this.executionResults.length;console.log("".concat(_," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},a}(),ld=function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(m[_]=p[_])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(o,u);function m(){this.constructor=o}o.prototype=u===null?Object.create(u):(m.prototype=u.prototype,new m)}}(),Mc=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},Nc=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Xm=function(){function a(o,u){this.name=o,this.track=u}return a.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},a.prototype.apply=function(o){var u={};u[this.name]=o;var m={advanced:[u]};return this.track.applyConstraints(m)},a.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var u=o[this.name];return u}return null},a}(),h_=function(a){ld(o,a);function o(u,m){return a.call(this,u,m)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(u){var m={};m[this.name]=u;var p={advanced:[m]};return this.track.applyConstraints(p)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var u=this.track.getCapabilities(),m=u[this.name];return{min:m.min,max:m.max,step:m.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(Xm),d_=function(a){ld(o,a);function o(u){return a.call(this,"zoom",u)||this}return o}(h_),g_=function(a){ld(o,a);function o(u){return a.call(this,"torch",u)||this}return o}(Xm),m_=function(){function a(o){this.track=o}return a.prototype.zoomFeature=function(){return new d_(this.track)},a.prototype.torchFeature=function(){return new g_(this.track)},a}(),p_=function(){function a(o,u,m){this.isClosed=!1,this.parentElement=o,this.mediaStream=u,this.callbacks=m,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return a.prototype.createVideoElement=function(o){var u=document.createElement("video");return u.style.width="".concat(o,"px"),u.style.display="block",u.muted=!0,u.setAttribute("muted","true"),u.playsInline=!0,u},a.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var u=function(){var m=o.surface.clientWidth,p=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(m,p),o.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.srcObject=this.mediaStream,this.surface.play()},a.create=function(o,u,m,p){return Mc(this,void 0,void 0,function(){var _,E;return Nc(this,function(T){switch(T.label){case 0:return _=new a(o,u,p),m.aspectRatio?(E={aspectRatio:m.aspectRatio},[4,_.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:T.sent(),T.label=2;case 2:return _.setupSurface(),[2,_]}})})},a.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},a.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},a.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},a.prototype.resume=function(o){this.failIfClosed();var u=this,m=function(){setTimeout(o,200),u.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.play()},a.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},a.prototype.getSurface=function(){return this.failIfClosed(),this.surface},a.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},a.prototype.applyVideoConstraints=function(o){return Mc(this,void 0,void 0,function(){return Nc(this,function(u){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},a.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(u,m){var p=o.mediaStream.getVideoTracks(),_=p.length,E=0;o.mediaStream.getVideoTracks().forEach(function(T){o.mediaStream.removeTrack(T),T.stop(),++E,E>=_&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),u())})})},a.prototype.getCapabilities=function(){return new m_(this.getFirstTrackOrFail())},a}(),x_=function(){function a(o){this.mediaStream=o}return a.prototype.render=function(o,u,m){return Mc(this,void 0,void 0,function(){return Nc(this,function(p){return[2,p_.create(o,this.mediaStream,u,m)]})})},a.create=function(o){return Mc(this,void 0,void 0,function(){var u,m;return Nc(this,function(p){switch(p.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return u={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(u)];case 1:return m=p.sent(),[2,new a(m)]}})})},a}(),Ug=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},Fg=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},__=function(){function a(){}return a.failIfNotSupported=function(){return Ug(this,void 0,void 0,function(){return Fg(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new a]})})},a.prototype.create=function(o){return Ug(this,void 0,void 0,function(){return Fg(this,function(u){return[2,x_.create(o)]})})},a}(),y_=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},w_=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},v_=function(){function a(){}return a.retrieve=function(){if(navigator.mediaDevices)return a.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?a.getCamerasFromMediaStreamTrack():a.rejectWithError()},a.rejectWithError=function(){var o=tl.unableToQuerySupportedDevices();return a.isHttpsOrLocalhost()||(o=tl.insecureContextCameraQueryError()),Promise.reject(o)},a.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},a.getCamerasFromMediaDevices=function(){return y_(this,void 0,void 0,function(){var o,u,m,p,_,E,T;return w_(this,function(M){switch(M.label){case 0:return o=function(S){for(var N=S.getVideoTracks(),D=0,H=N;D<H.length;D++){var V=H[D];V.enabled=!1,V.stop(),S.removeTrack(V)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return u=M.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(m=M.sent(),p=[],_=0,E=m;_<E.length;_++)T=E[_],T.kind==="videoinput"&&p.push({id:T.deviceId,label:T.label});return o(u),[2,p]}})})},a.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,u){var m=function(_){for(var E=[],T=0,M=_;T<M.length;T++){var S=M[T];S.kind==="video"&&E.push({id:S.id,label:S.label})}o(E)},p=MediaStreamTrack;p.getSources(m)})},a}(),qn;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.NOT_STARTED=1]="NOT_STARTED",a[a.SCANNING=2]="SCANNING",a[a.PAUSED=3]="PAUSED"})(qn||(qn={}));var E_=function(){function a(){this.state=qn.NOT_STARTED,this.onGoingTransactionNewState=qn.UNKNOWN}return a.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},a.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},a.prototype.execute=function(){if(this.onGoingTransactionNewState===qn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qn.UNKNOWN,this.directTransition(o)},a.prototype.cancel=function(){if(this.onGoingTransactionNewState===qn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qn.UNKNOWN},a.prototype.getState=function(){return this.state},a.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},a.prototype.validateTransition=function(o){switch(this.state){case qn.UNKNOWN:throw"Transition from unknown is not allowed";case qn.NOT_STARTED:this.failIfNewStateIs(o,[qn.PAUSED]);break;case qn.SCANNING:break;case qn.PAUSED:break}},a.prototype.failIfNewStateIs=function(o,u){for(var m=0,p=u;m<p.length;m++){var _=p[m];if(o===_)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},a}(),A_=function(){function a(o){this.stateManager=o}return a.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},a.prototype.directTransition=function(o){this.stateManager.directTransition(o)},a.prototype.getState=function(){return this.stateManager.getState()},a.prototype.canScanFile=function(){return this.stateManager.getState()===qn.NOT_STARTED},a.prototype.isScanning=function(){return this.stateManager.getState()!==qn.NOT_STARTED},a.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qn.SCANNING},a.prototype.isPaused=function(){return this.stateManager.getState()===qn.PAUSED},a}(),S_=function(){function a(){}return a.create=function(){return new A_(new E_)},a}(),b_=function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(m[_]=p[_])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(o,u);function m(){this.constructor=o}o.prototype=u===null?Object.create(u):(m.prototype=u.prototype,new m)}}(),Dr=function(a){b_(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o}(ca),C_=function(){function a(o,u){this.logger=u,this.fps=Dr.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=Dr.DEFAULT_DISABLE_FLIP}return a.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ym.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},a.prototype.isShadedBoxEnabled=function(){return!za(this.qrbox)},a.create=function(o,u){return new a(o,u)},a}(),Hg=function(){function a(o,u){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var m;typeof u=="boolean"?this.verbose=u===!0:u&&(m=u,this.verbose=m.verbose===!0,m.experimentalFeatures),this.logger=new Gm(this.verbose),this.qrcode=new f_(this.getSupportedFormats(u),this.getUseBarCodeDetectorIfSupported(m),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=S_.create()}return a.prototype.start=function(o,u,m,p){var _=this;if(!o)throw"cameraIdOrConfig is required";if(!m||typeof m!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;p?E=p:E=this.verbose?this.logger.log:function(){};var T=C_.create(u,this.logger);this.clearElement();var M=!1;T.videoConstraints&&(T.isMediaStreamConstraintsValid()?M=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var S=M,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:Dr.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var D=this,H=this.stateManagerProxy.startTransition(qn.SCANNING);return new Promise(function(V,rt){var j=S?T.videoConstraints:D.createVideoConstraints(o);if(!j){H.cancel(),rt("videoConstraints should be defined");return}var at={};(!S||T.aspectRatio)&&(at.aspectRatio=T.aspectRatio);var et={onRenderSurfaceReady:function(lt,tt){D.setupUi(lt,tt,T),D.isScanning=!0,D.foreverScan(T,m,E)}};__.failIfNotSupported().then(function(lt){lt.create(j).then(function(tt){return tt.render(_.element,at,et).then(function(nt){D.renderedCamera=nt,H.execute(),V(null)}).catch(function(nt){H.cancel(),rt(nt)})}).catch(function(tt){H.cancel(),rt(tl.errorGettingUserMedia(tt))})}).catch(function(lt){H.cancel(),rt(tl.cameraStreamingNotSupported())})})},a.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qn.PAUSED),this.showPausedState(),(za(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},a.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,u=function(){o.stateManagerProxy.directTransition(qn.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){u();return}this.renderedCamera.resume(function(){u()})},a.prototype.getState=function(){return this.stateManagerProxy.getState()},a.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var u=this.stateManagerProxy.startTransition(qn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var m=function(){if(o.element){var _=document.getElementById(Dr.SHADED_REGION_ELEMENT_ID);_&&o.element.removeChild(_)}},p=this;return this.renderedCamera.close().then(function(){return p.renderedCamera=null,p.element&&(p.element.removeChild(p.canvasElement),p.canvasElement=null),m(),p.qrRegion&&(p.qrRegion=null),p.context&&(p.context=null),u.execute(),p.hidePausedState(),p.isScanning=!1,Promise.resolve()})},a.prototype.scanFile=function(o,u){return this.scanFileV2(o,u).then(function(m){return m.decodedText})},a.prototype.scanFileV2=function(o,u){var m=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(za(u)&&(u=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(p,_){m.possiblyCloseLastScanImageFile(),m.clearElement(),m.lastScanImageFile=URL.createObjectURL(o);var E=new Image;E.onload=function(){var T=E.width,M=E.height,S=document.getElementById(m.elementId),N=S.clientWidth?S.clientWidth:Dr.DEFAULT_WIDTH,D=Math.max(S.clientHeight?S.clientHeight:M,Dr.FILE_SCAN_MIN_HEIGHT),H=m.computeCanvasDrawConfig(T,M,N,D);if(u){var V=m.createCanvasElement(N,D,"qr-canvas-visible");V.style.display="inline-block",S.appendChild(V);var rt=V.getContext("2d");if(!rt)throw"Unable to get 2d context from canvas";rt.canvas.width=N,rt.canvas.height=D,rt.drawImage(E,0,0,T,M,H.x,H.y,H.width,H.height)}var j=Dr.FILE_SCAN_HIDDEN_CANVAS_PADDING,at=Math.max(E.width,H.width),et=Math.max(E.height,H.height),lt=at+2*j,tt=et+2*j,nt=m.createCanvasElement(lt,tt);S.appendChild(nt);var bt=nt.getContext("2d");if(!bt)throw"Unable to get 2d context from canvas";bt.canvas.width=lt,bt.canvas.height=tt,bt.drawImage(E,0,0,T,M,j,j,at,et);try{m.qrcode.decodeRobustlyAsync(nt).then(function(Nt){p(Dg.createFromQrcodeResult(Nt))}).catch(_)}catch(Nt){_("QR code parse error, error = ".concat(Nt))}},E.onerror=_,E.onabort=_,E.onstalled=_,E.onsuspend=_,E.src=URL.createObjectURL(o)})},a.prototype.clear=function(){this.clearElement()},a.getCameras=function(){return v_.retrieve()},a.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},a.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},a.prototype.applyVideoConstraints=function(o){if(o){if(!Ym.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},a.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},a.prototype.getSupportedFormats=function(o){var u=[te.QR_CODE,te.AZTEC,te.CODABAR,te.CODE_39,te.CODE_93,te.CODE_128,te.DATA_MATRIX,te.MAXICODE,te.ITF,te.EAN_13,te.EAN_8,te.PDF_417,te.RSS_14,te.RSS_EXPANDED,te.UPC_A,te.UPC_E,te.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return u;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var m=[],p=0,_=o.formatsToSupport;p<_.length;p++){var E=_[p];i_(E)?m.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(m.length===0)throw"None of formatsToSupport match supported values.";return m},a.prototype.getUseBarCodeDetectorIfSupported=function(o){if(za(o))return!0;if(!za(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(za(o.experimentalFeatures))return!0;var u=o.experimentalFeatures;return za(u.useBarCodeDetectorIfSupported)?!0:u.useBarCodeDetectorIfSupported!==!1},a.prototype.validateQrboxSize=function(o,u,m){var p=this,_=m.qrbox;this.validateQrboxConfig(_);var E=this.toQrdimensions(o,u,_),T=function(S){if(S<Dr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Dr.MIN_QR_BOX_SIZE,"px.")},M=function(S){return S>o&&(p.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=o),S};T(E.width),T(E.height),E.width=M(E.width)},a.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},a.prototype.toQrdimensions=function(o,u,m){if(typeof m=="number")return{width:m,height:m};if(typeof m=="function")try{return m(o,u)}catch(p){throw new Error("qrbox config was passed as a function but it failed with unknown error"+p)}return m},a.prototype.setupUi=function(o,u,m){m.isShadedBoxEnabled()&&this.validateQrboxSize(o,u,m);var p=za(m.qrbox)?{width:o,height:u}:m.qrbox;this.validateQrboxConfig(p);var _=this.toQrdimensions(o,u,p);_.height>u&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=m.isShadedBoxEnabled()&&_.height<=u,T={x:0,y:0,width:o,height:u},M=E?this.getShadedRegionBounds(o,u,_):T,S=this.createCanvasElement(M.width,M.height),N={willReadFrequently:!0},D=S.getContext("2d",N);D.canvas.width=M.width,D.canvas.height=M.height,this.element.append(S),E&&this.possiblyInsertShadingElement(this.element,o,u,_),this.createScannerPausedUiElement(this.element),this.qrRegion=M,this.context=D,this.canvasElement=S},a.prototype.createScannerPausedUiElement=function(o){var u=document.createElement("div");u.innerText=tl.scannerPaused(),u.style.display="none",u.style.position="absolute",u.style.top="0px",u.style.zIndex="1",u.style.background="rgba(9, 9, 9, 0.46)",u.style.color="#FFECEC",u.style.textAlign="center",u.style.width="100%",o.appendChild(u),this.scannerPausedUiElement=u},a.prototype.scanContext=function(o,u){var m=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(p){return o(p.text,Dg.createFromQrcodeResult(p)),m.possiblyUpdateShaders(!0),!0}).catch(function(p){m.possiblyUpdateShaders(!1);var _=tl.codeParseError(p);return u(_,Vm.createFrom(_)),!1})},a.prototype.foreverScan=function(o,u,m){var p=this;if(this.shouldScan&&this.renderedCamera){var _=this.renderedCamera.getSurface(),E=_.videoWidth/_.clientWidth,T=_.videoHeight/_.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var M=this.qrRegion.width*E,S=this.qrRegion.height*T,N=this.qrRegion.x*E,D=this.qrRegion.y*T;this.context.drawImage(_,N,D,M,S,0,0,this.qrRegion.width,this.qrRegion.height);var H=function(){p.foreverScanTimeout=setTimeout(function(){p.foreverScan(o,u,m)},p.getTimeoutFps(o.fps))};this.scanContext(u,m).then(function(V){!V&&o.disableFlip!==!0?(p.context.translate(p.context.canvas.width,0),p.context.scale(-1,1),p.scanContext(u,m).finally(function(){H()})):H()}).catch(function(V){p.logger.logError("Error happend while scanning context",V),H()})}},a.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var u="facingMode",m="deviceId",p={user:!0,environment:!0},_="exact",E=function(rt){if(rt in p)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(rt,"'")},T=Object.keys(o);if(T.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(T.length," keys");var M=Object.keys(o)[0];if(M!==u&&M!==m)throw"Only '".concat(u,"' and '").concat(m,"' ")+" are supported for 'cameraIdOrConfig'";if(M===u){var S=o.facingMode;if(typeof S=="string"){if(E(S))return{facingMode:S}}else if(typeof S=="object")if(_ in S){if(E(S["".concat(_)]))return{facingMode:{exact:S["".concat(_)]}}}else throw"'facingMode' should be string or object with"+" ".concat(_," as key.");else{var N=typeof S;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var D=o.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(_ in D)return{deviceId:{exact:D["".concat(_)]}};throw"'deviceId' should be string or object with"+" ".concat(_," as key.")}else{var H=typeof D;throw"Invalid type of 'deviceId' = ".concat(H)}}}var V=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(V)},a.prototype.computeCanvasDrawConfig=function(o,u,m,p){if(o<=m&&u<=p){var _=(m-o)/2,E=(p-u)/2;return{x:_,y:E,width:o,height:u}}else{var T=o,M=u;return o>m&&(u=m/o*u,o=m),u>p&&(o=p/u*o,u=p),this.logger.log("Image downsampled from "+"".concat(T,"X").concat(M)+" to ".concat(o,"X").concat(u,".")),this.computeCanvasDrawConfig(o,u,m,p)}},a.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},a.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(u){u.style.backgroundColor=o?Dr.BORDER_SHADER_MATCH_COLOR:Dr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},a.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},a.prototype.createCanvasElement=function(o,u,m){var p=o,_=u,E=document.createElement("canvas");return E.style.width="".concat(p,"px"),E.style.height="".concat(_,"px"),E.style.display="none",E.id=za(m)?"qr-canvas":m,E},a.prototype.getShadedRegionBounds=function(o,u,m){if(m.width>o||m.height>u)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-m.width)/2,y:(u-m.height)/2,width:m.width,height:m.height}},a.prototype.possiblyInsertShadingElement=function(o,u,m,p){if(!(u-p.width<1||m-p.height<1)){var _=document.createElement("div");_.style.position="absolute";var E=(u-p.width)/2,T=(m-p.height)/2;if(_.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),_.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),_.style.borderTop="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),_.style.borderBottom="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),_.style.boxSizing="border-box",_.style.top="0px",_.style.bottom="0px",_.style.left="0px",_.style.right="0px",_.id="".concat(Dr.SHADED_REGION_ELEMENT_ID),u-p.width<11||m-p.height<11)this.hasBorderShaders=!1;else{var M=5,S=40;this.insertShaderBorders(_,S,M,-M,null,0,!0),this.insertShaderBorders(_,S,M,-M,null,0,!1),this.insertShaderBorders(_,S,M,null,-M,0,!0),this.insertShaderBorders(_,S,M,null,-M,0,!1),this.insertShaderBorders(_,M,S+M,-M,null,-M,!0),this.insertShaderBorders(_,M,S+M,null,-M,-M,!0),this.insertShaderBorders(_,M,S+M,-M,null,-M,!1),this.insertShaderBorders(_,M,S+M,null,-M,-M,!1),this.hasBorderShaders=!0}o.append(_)}},a.prototype.insertShaderBorders=function(o,u,m,p,_,E,T){var M=document.createElement("div");M.style.position="absolute",M.style.backgroundColor=Dr.BORDER_SHADER_DEFAULT_COLOR,M.style.width="".concat(u,"px"),M.style.height="".concat(m,"px"),p!==null&&(M.style.top="".concat(p,"px")),_!==null&&(M.style.bottom="".concat(_,"px")),T?M.style.left="".concat(E,"px"):M.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(M),o.appendChild(M)},a.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},a.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},a.prototype.getTimeoutFps=function(o){return 1e3/o},a}(),ud="data:image/svg+xml;base64,",T_=ud+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",M_=ud+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Zg=ud+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",N_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Vg=function(){function a(){}return a.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},a}(),I_=function(){function a(){this.data=Vg.createDefault();var o=localStorage.getItem(a.LOCAL_STORAGE_KEY);o?this.data=JSON.parse(o):this.reset()}return a.prototype.hasCameraPermissions=function(){return this.data.hasPermission},a.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},a.prototype.setHasPermission=function(o){this.data.hasPermission=o,this.flush()},a.prototype.setLastUsedCameraId=function(o){this.data.lastUsedCameraId=o,this.flush()},a.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},a.prototype.reset=function(){this.data=Vg.createDefault(),this.flush()},a.prototype.flush=function(){localStorage.setItem(a.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},a.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",a}(),O_=function(){function a(){this.infoDiv=document.createElement("div")}return a.prototype.renderInto=function(o){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Rg.poweredBy();var u=document.createElement("a");u.innerText="ScanApp",u.href="https://scanapp.org",u.target="new",u.style.color="white",this.infoDiv.appendChild(u);var m=document.createElement("br"),p=document.createElement("br");this.infoDiv.appendChild(m),this.infoDiv.appendChild(p);var _=document.createElement("a");_.innerText=Rg.reportIssues(),_.href="https://github.com/mebjas/html5-qrcode/issues",_.target="new",_.style.color="white",this.infoDiv.appendChild(_),o.appendChild(this.infoDiv)},a.prototype.show=function(){this.infoDiv.style.display="block"},a.prototype.hide=function(){this.infoDiv.style.display="none"},a}(),D_=function(){function a(o,u){this.isShowingInfoIcon=!0,this.onTapIn=o,this.onTapOut=u,this.infoIcon=document.createElement("img")}return a.prototype.renderInto=function(o){var u=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Zg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(m){return u.onHoverIn()},this.infoIcon.onmouseout=function(m){return u.onHoverOut()},this.infoIcon.onclick=function(m){return u.onClick()},o.appendChild(this.infoIcon)},a.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},a.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},a.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=N_,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Zg,this.infoIcon.style.opacity="0.6")},a}(),R_=function(){function a(){var o=this;this.infoDiv=new O_,this.infoIcon=new D_(function(){o.infoDiv.show()},function(){o.infoDiv.hide()})}return a.prototype.renderInto=function(o){this.infoDiv.renderInto(o),this.infoIcon.renderInto(o)},a}(),L_=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},B_=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Gg=function(){function a(){}return a.hasPermissions=function(){return L_(this,void 0,void 0,function(){var o,u,m,p;return B_(this,function(_){switch(_.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(o=_.sent(),u=0,m=o;u<m.length;u++)if(p=m[u],p.kind==="videoinput"&&p.label)return[2,!0];return[2,!1]}})})},a}(),Hs=function(){function a(o){this.supportedScanTypes=this.validateAndReturnScanTypes(o)}return a.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},a.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},a.prototype.isCameraScanRequired=function(){for(var o=0,u=this.supportedScanTypes;o<u.length;o++){var m=u[o];if(a.isCameraScanType(m))return!0}return!1},a.isCameraScanType=function(o){return o===Ws.SCAN_TYPE_CAMERA},a.isFileScanType=function(o){return o===Ws.SCAN_TYPE_FILE},a.prototype.validateAndReturnScanTypes=function(o){if(!o||o.length===0)return ca.DEFAULT_SUPPORTED_SCAN_TYPE;var u=ca.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(o.length>u)throw"Max ".concat(u," values expected for ")+"supportedScanTypes";for(var m=0,p=o;m<p.length;m++){var _=p[m];if(!ca.DEFAULT_SUPPORTED_SCAN_TYPE.includes(_))throw"Unsupported scan type ".concat(_)}return o},a}(),Lr=function(){function a(){}return a.ALL_ELEMENT_CLASS="html5-qrcode-element",a.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",a.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",a.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",a.TORCH_BUTTON_ID="html5-qrcode-button-torch",a.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",a.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",a.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",a.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",a.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",a.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",a}(),rs=function(){function a(){}return a.createElement=function(o,u){var m=document.createElement(o);return m.id=u,m.classList.add(Lr.ALL_ELEMENT_CLASS),o==="button"&&m.setAttribute("type","button"),m},a}(),jm=function(a,o,u,m){function p(_){return _ instanceof u?_:new u(function(E){E(_)})}return new(u||(u=Promise))(function(_,E){function T(N){try{S(m.next(N))}catch(D){E(D)}}function M(N){try{S(m.throw(N))}catch(D){E(D)}}function S(N){N.done?_(N.value):p(N.value).then(T,M)}S((m=m.apply(a,o||[])).next())})},qm=function(a,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},m,p,_,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(S){return function(N){return M([S,N])}}function M(S){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,S[0]&&(u=0)),u;)try{if(m=1,p&&(_=S[0]&2?p.return:S[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,S[1])).done)return _;switch(p=0,_&&(S=[S[0]&2,_.value]),S[0]){case 0:case 1:_=S;break;case 4:return u.label++,{value:S[1],done:!1};case 5:u.label++,p=S[1],S=[0];continue;case 7:S=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(S[0]===6||S[0]===2)){u=0;continue}if(S[0]===3&&(!_||S[1]>_[0]&&S[1]<_[3])){u.label=S[1];break}if(S[0]===6&&u.label<_[1]){u.label=_[1],_=S;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(S);break}_[2]&&u.ops.pop(),u.trys.pop();continue}S=o.call(a,u)}catch(N){S=[6,N],p=0}finally{m=_=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Yg=function(){function a(o,u,m){this.isTorchOn=!1,this.torchCapability=o,this.buttonController=u,this.onTorchActionFailureCallback=m}return a.prototype.isTorchEnabled=function(){return this.isTorchOn},a.prototype.flipState=function(){return jm(this,void 0,void 0,function(){var o,u;return qm(this,function(m){switch(m.label){case 0:this.buttonController.disable(),o=!this.isTorchOn,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.torchCapability.apply(o)];case 2:return m.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),o),[3,4];case 3:return u=m.sent(),this.propagateFailure(o,u),this.buttonController.enable(),[3,4];case 4:return[2]}})})},a.prototype.updateUiBasedOnLatestSettings=function(o,u){o===u?(this.buttonController.setText(u?fn.torchOffButton():fn.torchOnButton()),this.isTorchOn=u):this.propagateFailure(u),this.buttonController.enable()},a.prototype.propagateFailure=function(o,u){var m=o?fn.torchOnFailedMessage():fn.torchOffFailedMessage();u&&(m+="; Error = "+u),this.onTorchActionFailureCallback(m)},a.prototype.reset=function(){this.isTorchOn=!1},a}(),P_=function(){function a(o,u){this.onTorchActionFailureCallback=u,this.torchButton=rs.createElement("button",Lr.TORCH_BUTTON_ID),this.torchController=new Yg(o,this,u)}return a.prototype.render=function(o,u){var m=this;this.torchButton.innerText=fn.torchOnButton(),this.torchButton.style.display=u.display,this.torchButton.style.marginLeft=u.marginLeft;var p=this;this.torchButton.addEventListener("click",function(_){return jm(m,void 0,void 0,function(){return qm(this,function(E){switch(E.label){case 0:return[4,p.torchController.flipState()];case 1:return E.sent(),p.torchController.isTorchEnabled()?(p.torchButton.classList.remove(Lr.TORCH_BUTTON_CLASS_TORCH_OFF),p.torchButton.classList.add(Lr.TORCH_BUTTON_CLASS_TORCH_ON)):(p.torchButton.classList.remove(Lr.TORCH_BUTTON_CLASS_TORCH_ON),p.torchButton.classList.add(Lr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),o.appendChild(this.torchButton)},a.prototype.updateTorchCapability=function(o){this.torchController=new Yg(o,this,this.onTorchActionFailureCallback)},a.prototype.getTorchButton=function(){return this.torchButton},a.prototype.hide=function(){this.torchButton.style.display="none"},a.prototype.show=function(){this.torchButton.style.display="inline-block"},a.prototype.disable=function(){this.torchButton.disabled=!0},a.prototype.enable=function(){this.torchButton.disabled=!1},a.prototype.setText=function(o){this.torchButton.innerText=o},a.prototype.reset=function(){this.torchButton.innerText=fn.torchOnButton(),this.torchController.reset()},a.create=function(o,u,m,p){var _=new a(u,p);return _.render(o,m),_},a}(),z_=function(){function a(o,u,m){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=u?"block":"none",o.appendChild(this.fileBasedScanRegion);var p=document.createElement("label");p.setAttribute("for",this.getFileScanInputId()),p.style.display="inline-block",this.fileBasedScanRegion.appendChild(p),this.fileSelectionButton=rs.createElement("button",Lr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(T){p.click()}),p.append(this.fileSelectionButton),this.fileScanInput=rs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",p.appendChild(this.fileScanInput);var _=this;this.fileScanInput.addEventListener("change",function(T){if(!(T==null||T.target==null)){var M=T.target;if(!(M.files&&M.files.length===0)){var S=M.files,N=S[0],D=N.name;_.setImageNameToButton(D),m(N)}}});var E=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(E),this.fileBasedScanRegion.addEventListener("dragenter",function(T){_.fileBasedScanRegion.style.border=_.fileBasedScanRegionActiveBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(T){_.fileBasedScanRegion.style.border=_.fileBasedScanRegionDefaultBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(T){_.fileBasedScanRegion.style.border=_.fileBasedScanRegionActiveBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(T){T.stopPropagation(),T.preventDefault(),_.fileBasedScanRegion.style.border=_.fileBasedScanRegionDefaultBorder();var M=T.dataTransfer;if(M){var S=M.files;if(!S||S.length===0)return;for(var N=!1,D=0;D<S.length;++D){var H=S.item(D);if(H){var V=/image.*/;if(H.type.match(V)){N=!0;var rt=H.name;_.setImageNameToButton(rt),m(H),E.innerText=fn.dragAndDropMessage();break}}}N||(E.innerText=fn.dragAndDropMessageOnlyImages())}})}return a.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},a.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},a.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},a.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},a.prototype.createFileBasedScanRegion=function(){var o=document.createElement("div");return o.style.textAlign="center",o.style.margin="auto",o.style.width="80%",o.style.maxWidth="600px",o.style.border=this.fileBasedScanRegionDefaultBorder(),o.style.padding="10px",o.style.marginBottom="10px",o},a.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},a.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},a.prototype.createDragAndDropMessage=function(){var o=document.createElement("div");return o.innerText=fn.dragAndDropMessage(),o.style.fontWeight="400",o},a.prototype.setImageNameToButton=function(o){var u=20;if(o.length>u){var m=o.substring(0,8),p=o.length,_=o.substring(p-8,p);o="".concat(m,"....").concat(_)}var E=fn.fileSelectionChooseAnother()+" - "+o;this.fileSelectionButton.innerText=E},a.prototype.setInitialValueToButton=function(){var o=fn.fileSelectionChooseImage()+" - "+fn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=o},a.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},a.create=function(o,u,m){var p=new a(o,u,m);return p},a}(),k_=function(){function a(o){this.selectElement=rs.createElement("select",Lr.CAMERA_SELECTION_SELECT_ID),this.cameras=o,this.options=[]}return a.prototype.render=function(o){var u=document.createElement("span");u.style.marginRight="10px";var m=this.cameras.length;if(m===0)throw new Error("No cameras found");if(m===1)u.style.display="none";else{var p=fn.selectCamera();u.innerText="".concat(p," (").concat(this.cameras.length,")  ")}for(var _=1,E=0,T=this.cameras;E<T.length;E++){var M=T[E],S=M.id,N=M.label==null?S:M.label;(!N||N==="")&&(N=[fn.anonymousCameraPrefix(),_++].join(" "));var D=document.createElement("option");D.value=S,D.innerText=N,this.options.push(D),this.selectElement.appendChild(D)}u.appendChild(this.selectElement),o.appendChild(u)},a.prototype.disable=function(){this.selectElement.disabled=!0},a.prototype.isDisabled=function(){return this.selectElement.disabled===!0},a.prototype.enable=function(){this.selectElement.disabled=!1},a.prototype.getValue=function(){return this.selectElement.value},a.prototype.hasValue=function(o){for(var u=0,m=this.options;u<m.length;u++){var p=m[u];if(p.value===o)return!0}return!1},a.prototype.setValue=function(o){if(!this.hasValue(o))throw new Error("".concat(o," is not present in the camera list."));this.selectElement.value=o},a.prototype.hasSingleItem=function(){return this.cameras.length===1},a.prototype.numCameras=function(){return this.cameras.length},a.create=function(o,u){var m=new a(u);return m.render(o),m},a}(),U_=function(){function a(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=rs.createElement("input",Lr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return a.prototype.render=function(o,u){this.zoomElementContainer.style.display=u?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",o.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var m=fn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(m),this.rangeText.style.marginRight="10px";var p=this;this.rangeInput.addEventListener("input",function(){return p.onValueChange()}),this.rangeInput.addEventListener("change",function(){return p.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},a.prototype.onValueChange=function(){var o=fn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},a.prototype.setValues=function(o,u,m,p){this.rangeInput.min=o.toString(),this.rangeInput.max=u.toString(),this.rangeInput.step=p.toString(),this.rangeInput.value=m.toString(),this.onValueChange()},a.prototype.show=function(){this.zoomElementContainer.style.display="block"},a.prototype.hide=function(){this.zoomElementContainer.style.display="none"},a.prototype.setOnCameraZoomValueChangeCallback=function(o){this.onChangeCallback=o},a.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},a.create=function(o,u){var m=new a;return m.render(o,u),m},a}(),Rr;(function(a){a[a.STATUS_DEFAULT=0]="STATUS_DEFAULT",a[a.STATUS_SUCCESS=1]="STATUS_SUCCESS",a[a.STATUS_WARNING=2]="STATUS_WARNING",a[a.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Rr||(Rr={}));function F_(a){return{fps:a.fps,qrbox:a.qrbox,aspectRatio:a.aspectRatio,disableFlip:a.disableFlip,videoConstraints:a.videoConstraints}}function H_(a,o){return{formatsToSupport:a.formatsToSupport,useBarCodeDetectorIfSupported:a.useBarCodeDetectorIfSupported,experimentalFeatures:a.experimentalFeatures,verbose:o}}var Z_=function(){function a(o,u,m){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=o,this.config=this.createConfig(u),this.verbose=m===!0,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.scanTypeSelector=new Hs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Gm(this.verbose),this.persistedDataManager=new I_,u.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return a.prototype.render=function(o,u){var m=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(_,E){if(o)o(_,E);else{if(m.lastMatchFound===_)return;m.lastMatchFound=_,m.setHeaderMessage(fn.lastMatch(_),Rr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(_,E){u&&u(_,E)};var p=document.getElementById(this.elementId);if(!p)throw"HTML Element with id=".concat(this.elementId," not found");p.innerHTML="",this.createBasicLayout(p),this.html5Qrcode=new Hg(this.getScanRegionId(),H_(this.config,this.verbose))},a.prototype.pause=function(o){(za(o)||o!==!0)&&(o=!1),this.getHtml5QrcodeOrFail().pause(o)},a.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},a.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},a.prototype.clear=function(){var o=this,u=function(){var m=document.getElementById(o.elementId);m&&(m.innerHTML="",o.resetBasicLayout(m))};return this.html5Qrcode?new Promise(function(m,p){if(!o.html5Qrcode){m();return}o.html5Qrcode.isScanning?o.html5Qrcode.stop().then(function(_){if(!o.html5Qrcode){m();return}o.html5Qrcode.clear(),u(),m()}).catch(function(_){o.verbose&&o.logger.logError("Unable to stop qrcode scanner",_),p(_)}):(o.html5Qrcode.clear(),u(),m())}):Promise.resolve()},a.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},a.prototype.applyVideoConstraints=function(o){return this.getHtml5QrcodeOrFail().applyVideoConstraints(o)},a.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},a.prototype.createConfig=function(o){return o?(o.fps||(o.fps=ca.SCAN_DEFAULT_FPS),o.rememberLastUsedCamera!==!ca.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(o.rememberLastUsedCamera=ca.DEFAULT_REMEMBER_LAST_CAMERA_USED),o.supportedScanTypes||(o.supportedScanTypes=ca.DEFAULT_SUPPORTED_SCAN_TYPE),o):{fps:ca.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ca.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ca.DEFAULT_SUPPORTED_SCAN_TYPE}},a.prototype.createBasicLayout=function(o){o.style.position="relative",o.style.padding="0px",o.style.border="1px solid silver",this.createHeader(o);var u=document.createElement("div"),m=this.getScanRegionId();u.id=m,u.style.width="100%",u.style.minHeight="100px",u.style.textAlign="center",o.appendChild(u),Hs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var p=document.createElement("div"),_=this.getDashboardId();p.id=_,p.style.width="100%",o.appendChild(p),this.setupInitialDashboard(p)},a.prototype.resetBasicLayout=function(o){o.style.border="none"},a.prototype.setupInitialDashboard=function(o){this.createSection(o),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},a.prototype.createHeader=function(o){var u=document.createElement("div");u.style.textAlign="left",u.style.margin="0px",o.appendChild(u);var m=new R_;m.renderInto(u);var p=document.createElement("div");p.id=this.getHeaderMessageContainerId(),p.style.display="none",p.style.textAlign="center",p.style.fontSize="14px",p.style.padding="2px 10px",p.style.margin="4px",p.style.borderTop="1px solid #f6f6f6",u.appendChild(p)},a.prototype.createSection=function(o){var u=document.createElement("div");u.id=this.getDashboardSectionId(),u.style.width="100%",u.style.padding="10px 0px 10px 0px",u.style.textAlign="left",o.appendChild(u)},a.prototype.createCameraListUi=function(o,u,m){var p=this;p.showHideScanTypeSwapLink(!1),p.setHeaderMessage(fn.cameraPermissionRequesting());var _=function(){m||p.createPermissionButton(o,u)};Hg.getCameras().then(function(E){p.persistedDataManager.setHasPermission(!0),p.showHideScanTypeSwapLink(!0),p.resetHeaderMessage(),E&&E.length>0?(o.removeChild(u),p.renderCameraSelection(E)):(p.setHeaderMessage(fn.noCameraFound(),Rr.STATUS_WARNING),_())}).catch(function(E){p.persistedDataManager.setHasPermission(!1),m?m.disabled=!1:_(),p.setHeaderMessage(E,Rr.STATUS_WARNING),p.showHideScanTypeSwapLink(!0)})},a.prototype.createPermissionButton=function(o,u){var m=this,p=rs.createElement("button",this.getCameraPermissionButtonId());p.innerText=fn.cameraPermissionTitle(),p.addEventListener("click",function(){p.disabled=!0,m.createCameraListUi(o,u,p)}),u.appendChild(p)},a.prototype.createPermissionsUi=function(o,u){var m=this;if(Hs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Gg.hasPermissions().then(function(p){p?m.createCameraListUi(o,u):(m.persistedDataManager.setHasPermission(!1),m.createPermissionButton(o,u))}).catch(function(p){m.persistedDataManager.setHasPermission(!1),m.createPermissionButton(o,u)});return}this.createPermissionButton(o,u)},a.prototype.createSectionControlPanel=function(){var o=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");o.appendChild(u);var m=document.createElement("div");m.id=this.getDashboardSectionCameraScanRegionId(),m.style.display=Hs.isCameraScanType(this.currentScanType)?"block":"none",u.appendChild(m);var p=document.createElement("div");p.style.textAlign="center",m.appendChild(p),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(m,p),this.renderFileScanUi(u)},a.prototype.renderFileScanUi=function(o){var u=Hs.isFileScanType(this.currentScanType),m=this,p=function(_){if(!m.html5Qrcode)throw"html5Qrcode not defined";Hs.isFileScanType(m.currentScanType)&&(m.setHeaderMessage(fn.loadingImage()),m.html5Qrcode.scanFileV2(_,!0).then(function(E){m.resetHeaderMessage(),m.qrCodeSuccessCallback(E.decodedText,E)}).catch(function(E){m.setHeaderMessage(E,Rr.STATUS_WARNING),m.qrCodeErrorCallback(E,Vm.createFrom(E))}))};this.fileSelectionUi=z_.create(o,u,p)},a.prototype.renderCameraSelection=function(o){var u=this,m=this,p=document.getElementById(this.getDashboardSectionCameraScanRegionId());p.style.textAlign="center";var _=U_.create(p,!1),E=function(j){var at=j.zoomFeature();if(at.isSupported()){_.setOnCameraZoomValueChangeCallback(function(lt){at.apply(lt)});var et=1;u.config.defaultZoomValueIfSupported&&(et=u.config.defaultZoomValueIfSupported),et=r_(et,at.min(),at.max()),_.setValues(at.min(),at.max(),et,at.step()),_.show()}},T=k_.create(p,o),M=document.createElement("span"),S=rs.createElement("button",Lr.CAMERA_START_BUTTON_ID);S.innerText=fn.scanButtonStartScanningText(),M.appendChild(S);var N=rs.createElement("button",Lr.CAMERA_STOP_BUTTON_ID);N.innerText=fn.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,M.appendChild(N);var D,H=function(j){if(!j.torchFeature().isSupported()){D&&D.hide();return}D?D.updateTorchCapability(j.torchFeature()):D=P_.create(M,j.torchFeature(),{display:"none",marginLeft:"5px"},function(at){m.setHeaderMessage(at,Rr.STATUS_WARNING)}),D.show()};p.appendChild(M);var V=function(j){j||(S.style.display="none"),S.innerText=fn.scanButtonStartScanningText(),S.style.opacity="1",S.disabled=!1,j&&(S.style.display="inline-block")};if(S.addEventListener("click",function(j){S.innerText=fn.scanButtonScanningStarting(),T.disable(),S.disabled=!0,S.style.opacity="0.5",u.scanTypeSelector.hasMoreThanOneScanType()&&m.showHideScanTypeSwapLink(!1),m.resetHeaderMessage();var at=T.getValue();m.persistedDataManager.setLastUsedCameraId(at),m.html5Qrcode.start(at,F_(m.config),m.qrCodeSuccessCallback,m.qrCodeErrorCallback).then(function(et){N.disabled=!1,N.style.display="inline-block",V(!1);var lt=m.html5Qrcode.getRunningTrackCameraCapabilities();u.config.showTorchButtonIfSupported===!0&&H(lt),u.config.showZoomSliderIfSupported===!0&&E(lt)}).catch(function(et){m.showHideScanTypeSwapLink(!0),T.enable(),V(!0),m.setHeaderMessage(et,Rr.STATUS_WARNING)})}),T.hasSingleItem()&&S.click(),N.addEventListener("click",function(j){if(!m.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,m.html5Qrcode.stop().then(function(at){u.scanTypeSelector.hasMoreThanOneScanType()&&m.showHideScanTypeSwapLink(!0),T.enable(),S.disabled=!1,N.style.display="none",S.style.display="inline-block",D&&(D.reset(),D.hide()),_.removeOnCameraZoomValueChangeCallback(),_.hide(),m.insertCameraScanImageToScanRegion()}).catch(function(at){N.disabled=!1,m.setHeaderMessage(at,Rr.STATUS_WARNING)})}),m.persistedDataManager.getLastUsedCameraId()){var rt=m.persistedDataManager.getLastUsedCameraId();T.hasValue(rt)?(T.setValue(rt),S.click()):m.persistedDataManager.resetLastUsedCameraId()}},a.prototype.createSectionSwap=function(){var o=this,u=fn.textIfCameraScanSelected(),m=fn.textIfFileScanSelected(),p=document.getElementById(this.getDashboardSectionId()),_=document.createElement("div");_.style.textAlign="center";var E=rs.createElement("span",this.getDashboardSectionSwapLinkId());E.style.textDecoration="underline",E.style.cursor="pointer",E.innerText=Hs.isCameraScanType(this.currentScanType)?u:m,E.addEventListener("click",function(){if(!o.sectionSwapAllowed){o.verbose&&o.logger.logError("Section swap called when not allowed");return}o.resetHeaderMessage(),o.fileSelectionUi.resetValue(),o.sectionSwapAllowed=!1,Hs.isCameraScanType(o.currentScanType)?(o.clearScanRegion(),o.getCameraScanRegion().style.display="none",o.fileSelectionUi.show(),E.innerText=m,o.currentScanType=Ws.SCAN_TYPE_FILE,o.insertFileScanImageToScanRegion()):(o.clearScanRegion(),o.getCameraScanRegion().style.display="block",o.fileSelectionUi.hide(),E.innerText=u,o.currentScanType=Ws.SCAN_TYPE_CAMERA,o.insertCameraScanImageToScanRegion(),o.startCameraScanIfPermissionExistsOnSwap()),o.sectionSwapAllowed=!0}),_.appendChild(E),p.appendChild(_)},a.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var o=this,u=this;if(this.persistedDataManager.hasCameraPermissions()){Gg.hasPermissions().then(function(m){if(m){var p=document.getElementById(u.getCameraPermissionButtonId());if(!p)throw o.logger.logError("Permission button not found, fail;"),"Permission button not found";p.click()}else u.persistedDataManager.setHasPermission(!1)}).catch(function(m){u.persistedDataManager.setHasPermission(!1)});return}},a.prototype.resetHeaderMessage=function(){var o=document.getElementById(this.getHeaderMessageContainerId());o.style.display="none"},a.prototype.setHeaderMessage=function(o,u){u||(u=Rr.STATUS_DEFAULT);var m=this.getHeaderMessageDiv();switch(m.innerText=o,m.style.display="block",u){case Rr.STATUS_SUCCESS:m.style.background="rgba(106, 175, 80, 0.26)",m.style.color="#477735";break;case Rr.STATUS_WARNING:m.style.background="rgba(203, 36, 49, 0.14)",m.style.color="#cb2431";break;case Rr.STATUS_DEFAULT:default:m.style.background="rgba(0, 0, 0, 0)",m.style.color="rgb(17, 17, 17)";break}},a.prototype.showHideScanTypeSwapLink=function(o){this.scanTypeSelector.hasMoreThanOneScanType()&&(o!==!0&&(o=!1),this.sectionSwapAllowed=o,this.getDashboardSectionSwapLink().style.display=o?"inline-block":"none")},a.prototype.insertCameraScanImageToScanRegion=function(){var o=this,u=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){u.innerHTML="<br>",u.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(m){u.innerHTML="<br>",u.appendChild(o.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=T_,this.cameraScanImage.alt=fn.cameraScanAltText()},a.prototype.insertFileScanImageToScanRegion=function(){var o=this,u=document.getElementById(this.getScanRegionId());if(this.fileScanImage){u.innerHTML="<br>",u.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(m){u.innerHTML="<br>",u.appendChild(o.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=M_,this.fileScanImage.alt=fn.fileScanAltText()},a.prototype.clearScanRegion=function(){var o=document.getElementById(this.getScanRegionId());o.innerHTML=""},a.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},a.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},a.prototype.getDashboardSectionSwapLinkId=function(){return Lr.SCAN_TYPE_CHANGE_ANCHOR_ID},a.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},a.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},a.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},a.prototype.getCameraPermissionButtonId=function(){return Lr.CAMERA_PERMISSION_BUTTON_ID},a.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},a.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},a.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},a}();function Wm(a,o){const u=xt.useRef(o);xt.useEffect(function(){o!==u.current&&a.attributionControl!=null&&(u.current!=null&&a.attributionControl.removeAttribution(u.current),o!=null&&a.attributionControl.addAttribution(o)),u.current=o},[a,o])}var V_=Hm();const G_=1;function Y_(a){return Object.freeze({__version:G_,map:a})}function X_(a,o){return Object.freeze({...a,...o})}const cd=xt.createContext(null);function fd(){const a=xt.use(cd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function j_(a){function o(u,m){const{instance:p,context:_}=a(u).current;xt.useImperativeHandle(m,()=>p);const{children:E}=u;return E==null?null:Ft.createElement(cd,{value:_},E)}return xt.forwardRef(o)}function q_(a){function o(u,m){const[p,_]=xt.useState(!1),{instance:E}=a(u,_).current;xt.useImperativeHandle(m,()=>E),xt.useEffect(function(){p&&E.update()},[E,p,u.children]);const T=E._contentNode;return T?V_.createPortal(u.children,T):null}return xt.forwardRef(o)}function W_(a){function o(u,m){const{instance:p}=a(u).current;return xt.useImperativeHandle(m,()=>p),null}return xt.forwardRef(o)}function Qm(a,o){const u=xt.useRef(void 0);xt.useEffect(function(){return o!=null&&a.instance.on(o),u.current=o,function(){u.current!=null&&a.instance.off(u.current),u.current=null}},[a,o])}function hd(a,o){const u=a.pane??o.pane;return u?{...a,pane:u}:a}function Q_(a,o){return function(m,p){const _=fd(),E=a(hd(m,_),_);return Wm(_.map,m.attribution),Qm(E.current,m.eventHandlers),o(E.current,_,m,p),E}}var eu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var K_=eu.exports,Xg;function J_(){return Xg||(Xg=1,function(a,o){(function(u,m){m(o)})(K_,function(u){var m="1.9.4";function p(r){var h,y,C,O;for(y=1,C=arguments.length;y<C;y++){O=arguments[y];for(h in O)r[h]=O[h]}return r}var _=Object.create||function(){function r(){}return function(h){return r.prototype=h,new r}}();function E(r,h){var y=Array.prototype.slice;if(r.bind)return r.bind.apply(r,y.call(arguments,1));var C=y.call(arguments,2);return function(){return r.apply(h,C.length?C.concat(y.call(arguments)):arguments)}}var T=0;function M(r){return"_leaflet_id"in r||(r._leaflet_id=++T),r._leaflet_id}function S(r,h,y){var C,O,k,W;return W=function(){C=!1,O&&(k.apply(y,O),O=!1)},k=function(){C?O=arguments:(r.apply(y,arguments),setTimeout(W,h),C=!0)},k}function N(r,h,y){var C=h[1],O=h[0],k=C-O;return r===C&&y?r:((r-O)%k+k)%k+O}function D(){return!1}function H(r,h){if(h===!1)return r;var y=Math.pow(10,h===void 0?6:h);return Math.round(r*y)/y}function V(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function rt(r){return V(r).split(/\s+/)}function j(r,h){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?_(r.options):{});for(var y in h)r.options[y]=h[y];return r.options}function at(r,h,y){var C=[];for(var O in r)C.push(encodeURIComponent(y?O.toUpperCase():O)+"="+encodeURIComponent(r[O]));return(!h||h.indexOf("?")===-1?"?":"&")+C.join("&")}var et=/\{ *([\w_ -]+) *\}/g;function lt(r,h){return r.replace(et,function(y,C){var O=h[C];if(O===void 0)throw new Error("No value provided for variable "+y);return typeof O=="function"&&(O=O(h)),O})}var tt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function nt(r,h){for(var y=0;y<r.length;y++)if(r[y]===h)return y;return-1}var bt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Nt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var ft=0;function Ot(r){var h=+new Date,y=Math.max(0,16-(h-ft));return ft=h+y,window.setTimeout(r,y)}var st=window.requestAnimationFrame||Nt("RequestAnimationFrame")||Ot,Yt=window.cancelAnimationFrame||Nt("CancelAnimationFrame")||Nt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Dt(r,h,y){if(y&&st===Ot)r.call(h);else return st.call(window,E(r,h))}function Tt(r){r&&Yt.call(window,r)}var Lt={__proto__:null,extend:p,create:_,bind:E,get lastId(){return T},stamp:M,throttle:S,wrapNum:N,falseFn:D,formatNum:H,trim:V,splitWords:rt,setOptions:j,getParamString:at,template:lt,isArray:tt,indexOf:nt,emptyImageUrl:bt,requestFn:st,cancelFn:Yt,requestAnimFrame:Dt,cancelAnimFrame:Tt};function X(){}X.extend=function(r){var h=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=h.__super__=this.prototype,C=_(y);C.constructor=h,h.prototype=C;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(h[O]=this[O]);return r.statics&&p(h,r.statics),r.includes&&(q(r.includes),p.apply(null,[C].concat(r.includes))),p(C,r),delete C.statics,delete C.includes,C.options&&(C.options=y.options?_(y.options):{},p(C.options,r.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,W=C._initHooks.length;k<W;k++)C._initHooks[k].call(this)}},h},X.include=function(r){var h=this.prototype.options;return p(this.prototype,r),r.options&&(this.prototype.options=h,this.mergeOptions(r.options)),this},X.mergeOptions=function(r){return p(this.prototype.options,r),this},X.addInitHook=function(r){var h=Array.prototype.slice.call(arguments,1),y=typeof r=="function"?r:function(){this[r].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function q(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=tt(r)?r:[r];for(var h=0;h<r.length;h++)r[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(r,h,y){if(typeof r=="object")for(var C in r)this._on(C,r[C],h);else{r=rt(r);for(var O=0,k=r.length;O<k;O++)this._on(r[O],h,y)}return this},off:function(r,h,y){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var C in r)this._off(C,r[C],h);else{r=rt(r);for(var O=arguments.length===1,k=0,W=r.length;k<W;k++)O?this._off(r[k]):this._off(r[k],h,y)}return this},_on:function(r,h,y,C){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(r,h,y)===!1){y===this&&(y=void 0);var O={fn:h,ctx:y};C&&(O.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(O)}},_off:function(r,h,y){var C,O,k;if(this._events&&(C=this._events[r],!!C)){if(arguments.length===1){if(this._firingCount)for(O=0,k=C.length;O<k;O++)C[O].fn=D;delete this._events[r];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var W=this._listens(r,h,y);if(W!==!1){var gt=C[W];this._firingCount&&(gt.fn=D,this._events[r]=C=C.slice()),C.splice(W,1)}}},fire:function(r,h,y){if(!this.listens(r,y))return this;var C=p({},h,{type:r,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var O=this._events[r];if(O){this._firingCount=this._firingCount+1||1;for(var k=0,W=O.length;k<W;k++){var gt=O[k],It=gt.fn;gt.once&&this.off(r,It,gt.ctx),It.call(gt.ctx||this,C)}this._firingCount--}}return y&&this._propagateEvent(C),this},listens:function(r,h,y,C){typeof r!="string"&&console.warn('"string" type argument expected');var O=h;typeof h!="function"&&(C=!!h,O=void 0,y=void 0);var k=this._events&&this._events[r];if(k&&k.length&&this._listens(r,O,y)!==!1)return!0;if(C){for(var W in this._eventParents)if(this._eventParents[W].listens(r,h,y,C))return!0}return!1},_listens:function(r,h,y){if(!this._events)return!1;var C=this._events[r]||[];if(!h)return!!C.length;y===this&&(y=void 0);for(var O=0,k=C.length;O<k;O++)if(C[O].fn===h&&C[O].ctx===y)return O;return!1},once:function(r,h,y){if(typeof r=="object")for(var C in r)this._on(C,r[C],h,!0);else{r=rt(r);for(var O=0,k=r.length;O<k;O++)this._on(r[O],h,y,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[M(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[M(r)],this},_propagateEvent:function(r){for(var h in this._eventParents)this._eventParents[h].fire(r.type,p({layer:r.target,propagatedFrom:r.target},r),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var J=X.extend(G);function ut(r,h,y){this.x=y?Math.round(r):r,this.y=y?Math.round(h):h}var ct=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ut(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ut(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ct(this.x),this.y=ct(this.y),this},distanceTo:function(r){r=U(r);var h=r.x-this.x,y=r.y-this.y;return Math.sqrt(h*h+y*y)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+H(this.x)+", "+H(this.y)+")"}};function U(r,h,y){return r instanceof ut?r:tt(r)?new ut(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ut(r.x,r.y):new ut(r,h,y)}function $(r,h){if(r)for(var y=h?[r,h]:r,C=0,O=y.length;C<O;C++)this.extend(y[C])}$.prototype={extend:function(r){var h,y;if(!r)return this;if(r instanceof ut||typeof r[0]=="number"||"x"in r)h=y=U(r);else if(r=ht(r),h=r.min,y=r.max,!h||!y)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=y.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var h,y;return typeof r[0]=="number"||r instanceof ut?r=U(r):r=ht(r),r instanceof $?(h=r.min,y=r.max):h=y=r,h.x>=this.min.x&&y.x<=this.max.x&&h.y>=this.min.y&&y.y<=this.max.y},intersects:function(r){r=ht(r);var h=this.min,y=this.max,C=r.min,O=r.max,k=O.x>=h.x&&C.x<=y.x,W=O.y>=h.y&&C.y<=y.y;return k&&W},overlaps:function(r){r=ht(r);var h=this.min,y=this.max,C=r.min,O=r.max,k=O.x>h.x&&C.x<y.x,W=O.y>h.y&&C.y<y.y;return k&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var h=this.min,y=this.max,C=Math.abs(h.x-y.x)*r,O=Math.abs(h.y-y.y)*r;return ht(U(h.x-C,h.y-O),U(y.x+C,y.y+O))},equals:function(r){return r?(r=ht(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ht(r,h){return!r||r instanceof $?r:new $(r,h)}function vt(r,h){if(r)for(var y=h?[r,h]:r,C=0,O=y.length;C<O;C++)this.extend(y[C])}vt.prototype={extend:function(r){var h=this._southWest,y=this._northEast,C,O;if(r instanceof kt)C=r,O=r;else if(r instanceof vt){if(C=r._southWest,O=r._northEast,!C||!O)return this}else return r?this.extend(_t(r)||At(r)):this;return!h&&!y?(this._southWest=new kt(C.lat,C.lng),this._northEast=new kt(O.lat,O.lng)):(h.lat=Math.min(C.lat,h.lat),h.lng=Math.min(C.lng,h.lng),y.lat=Math.max(O.lat,y.lat),y.lng=Math.max(O.lng,y.lng)),this},pad:function(r){var h=this._southWest,y=this._northEast,C=Math.abs(h.lat-y.lat)*r,O=Math.abs(h.lng-y.lng)*r;return new vt(new kt(h.lat-C,h.lng-O),new kt(y.lat+C,y.lng+O))},getCenter:function(){return new kt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new kt(this.getNorth(),this.getWest())},getSouthEast:function(){return new kt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof kt||"lat"in r?r=_t(r):r=At(r);var h=this._southWest,y=this._northEast,C,O;return r instanceof vt?(C=r.getSouthWest(),O=r.getNorthEast()):C=O=r,C.lat>=h.lat&&O.lat<=y.lat&&C.lng>=h.lng&&O.lng<=y.lng},intersects:function(r){r=At(r);var h=this._southWest,y=this._northEast,C=r.getSouthWest(),O=r.getNorthEast(),k=O.lat>=h.lat&&C.lat<=y.lat,W=O.lng>=h.lng&&C.lng<=y.lng;return k&&W},overlaps:function(r){r=At(r);var h=this._southWest,y=this._northEast,C=r.getSouthWest(),O=r.getNorthEast(),k=O.lat>h.lat&&C.lat<y.lat,W=O.lng>h.lng&&C.lng<y.lng;return k&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,h){return r?(r=At(r),this._southWest.equals(r.getSouthWest(),h)&&this._northEast.equals(r.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function At(r,h){return r instanceof vt?r:new vt(r,h)}function kt(r,h,y){if(isNaN(r)||isNaN(h))throw new Error("Invalid LatLng object: ("+r+", "+h+")");this.lat=+r,this.lng=+h,y!==void 0&&(this.alt=+y)}kt.prototype={equals:function(r,h){if(!r)return!1;r=_t(r);var y=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return y<=(h===void 0?1e-9:h)},toString:function(r){return"LatLng("+H(this.lat,r)+", "+H(this.lng,r)+")"},distanceTo:function(r){return qt.distance(this,_t(r))},wrap:function(){return qt.wrapLatLng(this)},toBounds:function(r){var h=180*r/40075017,y=h/Math.cos(Math.PI/180*this.lat);return At([this.lat-h,this.lng-y],[this.lat+h,this.lng+y])},clone:function(){return new kt(this.lat,this.lng,this.alt)}};function _t(r,h,y){return r instanceof kt?r:tt(r)&&typeof r[0]!="object"?r.length===3?new kt(r[0],r[1],r[2]):r.length===2?new kt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new kt(r.lat,"lng"in r?r.lng:r.lon,r.alt):h===void 0?null:new kt(r,h,y)}var se={latLngToPoint:function(r,h){var y=this.projection.project(r),C=this.scale(h);return this.transformation._transform(y,C)},pointToLatLng:function(r,h){var y=this.scale(h),C=this.transformation.untransform(r,y);return this.projection.unproject(C)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var h=this.projection.bounds,y=this.scale(r),C=this.transformation.transform(h.min,y),O=this.transformation.transform(h.max,y);return new $(C,O)},infinite:!1,wrapLatLng:function(r){var h=this.wrapLng?N(r.lng,this.wrapLng,!0):r.lng,y=this.wrapLat?N(r.lat,this.wrapLat,!0):r.lat,C=r.alt;return new kt(y,h,C)},wrapLatLngBounds:function(r){var h=r.getCenter(),y=this.wrapLatLng(h),C=h.lat-y.lat,O=h.lng-y.lng;if(C===0&&O===0)return r;var k=r.getSouthWest(),W=r.getNorthEast(),gt=new kt(k.lat-C,k.lng-O),It=new kt(W.lat-C,W.lng-O);return new vt(gt,It)}},qt=p({},se,{wrapLng:[-180,180],R:6371e3,distance:function(r,h){var y=Math.PI/180,C=r.lat*y,O=h.lat*y,k=Math.sin((h.lat-r.lat)*y/2),W=Math.sin((h.lng-r.lng)*y/2),gt=k*k+Math.cos(C)*Math.cos(O)*W*W,It=2*Math.atan2(Math.sqrt(gt),Math.sqrt(1-gt));return this.R*It}}),Oe=6378137,Re={R:Oe,MAX_LATITUDE:85.0511287798,project:function(r){var h=Math.PI/180,y=this.MAX_LATITUDE,C=Math.max(Math.min(y,r.lat),-y),O=Math.sin(C*h);return new ut(this.R*r.lng*h,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(r){var h=180/Math.PI;return new kt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*h,r.x*h/this.R)},bounds:function(){var r=Oe*Math.PI;return new $([-r,-r],[r,r])}()};function Ye(r,h,y,C){if(tt(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=h,this._c=y,this._d=C}Ye.prototype={transform:function(r,h){return this._transform(r.clone(),h)},_transform:function(r,h){return h=h||1,r.x=h*(this._a*r.x+this._b),r.y=h*(this._c*r.y+this._d),r},untransform:function(r,h){return h=h||1,new ut((r.x/h-this._b)/this._a,(r.y/h-this._d)/this._c)}};function xn(r,h,y,C){return new Ye(r,h,y,C)}var de=p({},qt,{code:"EPSG:3857",projection:Re,transformation:function(){var r=.5/(Math.PI*Re.R);return xn(r,.5,-r,.5)}()}),Mn=p({},de,{code:"EPSG:900913"});function Xe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Kn(r,h){var y="",C,O,k,W,gt,It;for(C=0,k=r.length;C<k;C++){for(gt=r[C],O=0,W=gt.length;O<W;O++)It=gt[O],y+=(O?"L":"M")+It.x+" "+It.y;y+=h?$t.svg?"z":"x":""}return y||"M0 0"}var oe=document.documentElement.style,Xt="ActiveXObject"in window,fe=Xt&&!document.addEventListener,pi="msLaunchUri"in navigator&&!("documentMode"in document),Qt=$e("webkit"),Ui=$e("android"),Yi=$e("android 2")||$e("android 3"),zn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nr=Ui&&$e("Google")&&zn<537&&!("AudioNode"in window),an=!!window.opera,_n=!pi&&$e("chrome"),yn=$e("gecko")&&!Qt&&!an&&!Xt,Be=!_n&&$e("safari"),mr=$e("phantom"),Sn="OTransition"in oe,Ii=navigator.platform.indexOf("Win")===0,Ve=Xt&&"transition"in oe,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yi,Pe="MozPerspective"in oe,be=!window.L_DISABLE_3D&&(Ve||Vt||Pe)&&!Sn&&!mr,Ae=typeof orientation<"u"||$e("mobile"),Xi=Ae&&Qt,zr=Ae&&Vt,ir=!window.PointerEvent&&window.MSPointerEvent,Te=!!(window.PointerEvent||ir),li="ontouchstart"in window||!!window.TouchEvent,rr=!window.L_NO_TOUCH&&(li||Te),Ha=Ae&&an,xi=Ae&&yn,Jr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dn=function(){var r=!1;try{var h=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",D,h),window.removeEventListener("testPassiveEventSupport",D,h)}catch{}return r}(),pr=function(){return!!document.createElement("canvas").getContext}(),kr=!!(document.createElementNS&&Xe("svg").createSVGRect),kn=!!kr&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Vn=!kr&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var h=r.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),bn=navigator.platform.indexOf("Mac")===0,ar=navigator.platform.indexOf("Linux")===0;function $e(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var $t={ie:Xt,ielt9:fe,edge:pi,webkit:Qt,android:Ui,android23:Yi,androidStock:nr,opera:an,chrome:_n,gecko:yn,safari:Be,phantom:mr,opera12:Sn,win:Ii,ie3d:Ve,webkit3d:Vt,gecko3d:Pe,any3d:be,mobile:Ae,mobileWebkit:Xi,mobileWebkit3d:zr,msPointer:ir,pointer:Te,touch:rr,touchNative:li,mobileOpera:Ha,mobileGecko:xi,retina:Jr,passiveEvents:Dn,canvas:pr,svg:kr,vml:Vn,inlineSvg:kn,mac:bn,linux:ar},ui=$t.msPointer?"MSPointerDown":"pointerdown",Kt=$t.msPointer?"MSPointerMove":"pointermove",Oi=$t.msPointer?"MSPointerUp":"pointerup",Ur=$t.msPointer?"MSPointerCancel":"pointercancel",hn={touchstart:ui,touchmove:Kt,touchend:Oi,touchcancel:Ur},_i={touchstart:ji,touchmove:Fr,touchend:Fr,touchcancel:Fr},ci={},Fi=!1;function Qe(r,h,y){return h==="touchstart"&&tn(),_i[h]?(y=_i[h].bind(this,y),r.addEventListener(hn[h],y,!1),y):(console.warn("wrong event specified:",h),D)}function ls(r,h,y){if(!hn[h]){console.warn("wrong event specified:",h);return}r.removeEventListener(hn[h],y,!1)}function us(r){ci[r.pointerId]=r}function Gn(r){ci[r.pointerId]&&(ci[r.pointerId]=r)}function wn(r){delete ci[r.pointerId]}function tn(){Fi||(document.addEventListener(ui,us,!0),document.addEventListener(Kt,Gn,!0),document.addEventListener(Oi,wn,!0),document.addEventListener(Ur,wn,!0),Fi=!0)}function Fr(r,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var y in ci)h.touches.push(ci[y]);h.changedTouches=[h],r(h)}}function ji(r,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ln(h),Fr(r,h)}function Za(r){var h={},y,C;for(C in r)y=r[C],h[C]=y&&y.bind?y.bind(r):y;return r=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Pt=200;function ma(r,h){r.addEventListener("dblclick",h);var y=0,C;function O(k){if(k.detail!==1){C=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var W=ea(k);if(!(W.some(function(It){return It instanceof HTMLLabelElement&&It.attributes.for})&&!W.some(function(It){return It instanceof HTMLInputElement||It instanceof HTMLSelectElement}))){var gt=Date.now();gt-y<=Pt?(C++,C===2&&h(Za(k))):C=1,y=gt}}}return r.addEventListener("click",O),{dblclick:h,simDblclick:O}}function Ge(r,h){r.removeEventListener("dblclick",h.dblclick),r.removeEventListener("click",h.simDblclick)}var Di=mt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hr=mt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Me=Hr==="webkitTransition"||Hr==="OTransition"?Hr+"End":"transitionend";function De(r){return typeof r=="string"?document.getElementById(r):r}function pe(r,h){var y=r.style[h]||r.currentStyle&&r.currentStyle[h];if((!y||y==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(r,null);y=C?C[h]:null}return y==="auto"?null:y}function ze(r,h,y){var C=document.createElement(r);return C.className=h||"",y&&y.appendChild(C),C}function nn(r){var h=r.parentNode;h&&h.removeChild(r)}function Jn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function sn(r){var h=r.parentNode;h&&h.lastChild!==r&&h.appendChild(r)}function Ri(r){var h=r.parentNode;h&&h.firstChild!==r&&h.insertBefore(r,h.firstChild)}function pa(r,h){if(r.classList!==void 0)return r.classList.contains(h);var y=Rn(r);return y.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(y)}function ee(r,h){if(r.classList!==void 0)for(var y=rt(h),C=0,O=y.length;C<O;C++)r.classList.add(y[C]);else if(!pa(r,h)){var k=Rn(r);Qs(r,(k?k+" ":"")+h)}}function je(r,h){r.classList!==void 0?r.classList.remove(h):Qs(r,V((" "+Rn(r)+" ").replace(" "+h+" "," ")))}function Qs(r,h){r.className.baseVal===void 0?r.className=h:r.className.baseVal=h}function Rn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ce(r,h){"opacity"in r.style?r.style.opacity=h:"filter"in r.style&&$n(r,h)}function $n(r,h){var y=!1,C="DXImageTransform.Microsoft.Alpha";try{y=r.filters.item(C)}catch{if(h===1)return}h=Math.round(h*100),y?(y.Enabled=h!==100,y.Opacity=h):r.style.filter+=" progid:"+C+"(opacity="+h+")"}function mt(r){for(var h=document.documentElement.style,y=0;y<r.length;y++)if(r[y]in h)return r[y];return!1}function Z(r,h,y){var C=h||new ut(0,0);r.style[Di]=($t.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(y?" scale("+y+")":"")}function Wt(r,h){r._leaflet_pos=h,$t.any3d?Z(r,h):(r.style.left=h.x+"px",r.style.top=h.y+"px")}function on(r){return r._leaflet_pos||new ut(0,0)}var Nn,Va,xa;if("onselectstart"in document)Nn=function(){he(window,"selectstart",Ln)},Va=function(){jt(window,"selectstart",Ln)};else{var ti=mt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(ti){var r=document.documentElement.style;xa=r[ti],r[ti]="none"}},Va=function(){ti&&(document.documentElement.style[ti]=xa,xa=void 0)}}function re(){he(window,"dragstart",Ln)}function ln(){jt(window,"dragstart",Ln)}var Ga,_a;function $r(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(xr(),Ga=r,_a=r.style.outlineStyle,r.style.outlineStyle="none",he(window,"keydown",xr))}function xr(){Ga&&(Ga.style.outlineStyle=_a,Ga=void 0,_a=void 0,jt(window,"keydown",xr))}function _r(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Zr(r){var h=r.getBoundingClientRect();return{x:h.width/r.offsetWidth||1,y:h.height/r.offsetHeight||1,boundingClientRect:h}}var Un={__proto__:null,TRANSFORM:Di,TRANSITION:Hr,TRANSITION_END:Me,get:De,getStyle:pe,create:ze,remove:nn,empty:Jn,toFront:sn,toBack:Ri,hasClass:pa,addClass:ee,removeClass:je,setClass:Qs,getClass:Rn,setOpacity:Ce,testProp:mt,setTransform:Z,setPosition:Wt,getPosition:on,get disableTextSelection(){return Nn},get enableTextSelection(){return Va},disableImageDrag:re,enableImageDrag:ln,preventOutline:$r,restoreOutline:xr,getSizedParentNode:_r,getScale:Zr};function he(r,h,y,C){if(h&&typeof h=="object")for(var O in h)vn(r,O,h[O],y);else{h=rt(h);for(var k=0,W=h.length;k<W;k++)vn(r,h[k],y,C)}return this}var Yn="_leaflet_events";function jt(r,h,y,C){if(arguments.length===1)sr(r),delete r[Yn];else if(h&&typeof h=="object")for(var O in h)or(r,O,h[O],y);else if(h=rt(h),arguments.length===2)sr(r,function(gt){return nt(h,gt)!==-1});else for(var k=0,W=h.length;k<W;k++)or(r,h[k],y,C);return this}function sr(r,h){for(var y in r[Yn]){var C=y.split(/\d/)[0];(!h||h(C))&&or(r,C,null,null,y)}}var xe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vn(r,h,y,C){var O=h+M(y)+(C?"_"+M(C):"");if(r[Yn]&&r[Yn][O])return this;var k=function(gt){return y.call(C||r,gt||window.event)},W=k;!$t.touchNative&&$t.pointer&&h.indexOf("touch")===0?k=Qe(r,h,k):$t.touch&&h==="dblclick"?k=ma(r,k):"addEventListener"in r?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?r.addEventListener(xe[h]||h,k,$t.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(k=function(gt){gt=gt||window.event,Wi(r,gt)&&W(gt)},r.addEventListener(xe[h],k,!1)):r.addEventListener(h,W,!1):r.attachEvent("on"+h,k),r[Yn]=r[Yn]||{},r[Yn][O]=k}function or(r,h,y,C,O){O=O||h+M(y)+(C?"_"+M(C):"");var k=r[Yn]&&r[Yn][O];if(!k)return this;!$t.touchNative&&$t.pointer&&h.indexOf("touch")===0?ls(r,h,k):$t.touch&&h==="dblclick"?Ge(r,k):"removeEventListener"in r?r.removeEventListener(xe[h]||h,k,!1):r.detachEvent("on"+h,k),r[Yn][O]=null}function qi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ta(r){return vn(r,"wheel",qi),this}function Hi(r){return he(r,"mousedown touchstart dblclick contextmenu",qi),r._leaflet_disable_click=!0,this}function Ln(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function yi(r){return Ln(r),qi(r),this}function ea(r){if(r.composedPath)return r.composedPath();for(var h=[],y=r.target;y;)h.push(y),y=y.parentNode;return h}function Fn(r,h){if(!h)return new ut(r.clientX,r.clientY);var y=Zr(h),C=y.boundingClientRect;return new ut((r.clientX-C.left)/y.x-h.clientLeft,(r.clientY-C.top)/y.y-h.clientTop)}var Vr=$t.linux&&$t.chrome?window.devicePixelRatio:$t.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yr(r){return $t.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Vr:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Wi(r,h){var y=h.relatedTarget;if(!y)return!0;try{for(;y&&y!==r;)y=y.parentNode}catch{return!1}return y!==r}var wi={__proto__:null,on:he,off:jt,stopPropagation:qi,disableScrollPropagation:ta,disableClickPropagation:Hi,preventDefault:Ln,stop:yi,getPropagationPath:ea,getMousePosition:Fn,getWheelDelta:yr,isExternalTarget:Wi,addListener:he,removeListener:jt},Ya=J.extend({run:function(r,h,y,C){this.stop(),this._el=r,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=on(r),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Dt(this._animate,this),this._step()},_step:function(r){var h=+new Date-this._startTime,y=this._duration*1e3;h<y?this._runFrame(this._easeOut(h/y),r):(this._runFrame(1),this._complete())},_runFrame:function(r,h){var y=this._startPos.add(this._offset.multiplyBy(r));h&&y._round(),Wt(this._el,y),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Ne=J.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,h){h=j(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=E(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(_t(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hr&&$t.any3d&&!$t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,Me,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,h,y){if(h=h===void 0?this._zoom:this._limitZoom(h),r=this._limitCenter(_t(r),h,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=p({animate:y.animate},y.zoom),y.pan=p({animate:y.animate,duration:y.duration},y.pan));var C=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,h,y.zoom):this._tryAnimatedPan(r,y.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(r,h,y.pan&&y.pan.noMoveStart),this},setZoom:function(r,h){return this._loaded?this.setView(this.getCenter(),r,{zoom:h}):(this._zoom=r,this)},zoomIn:function(r,h){return r=r||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,h)},zoomOut:function(r,h){return r=r||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,h)},setZoomAround:function(r,h,y){var C=this.getZoomScale(h),O=this.getSize().divideBy(2),k=r instanceof ut?r:this.latLngToContainerPoint(r),W=k.subtract(O).multiplyBy(1-1/C),gt=this.containerPointToLatLng(O.add(W));return this.setView(gt,h,{zoom:y})},_getBoundsCenterZoom:function(r,h){h=h||{},r=r.getBounds?r.getBounds():At(r);var y=U(h.paddingTopLeft||h.padding||[0,0]),C=U(h.paddingBottomRight||h.padding||[0,0]),O=this.getBoundsZoom(r,!1,y.add(C));if(O=typeof h.maxZoom=="number"?Math.min(h.maxZoom,O):O,O===1/0)return{center:r.getCenter(),zoom:O};var k=C.subtract(y).divideBy(2),W=this.project(r.getSouthWest(),O),gt=this.project(r.getNorthEast(),O),It=this.unproject(W.add(gt).divideBy(2).add(k),O);return{center:It,zoom:O}},fitBounds:function(r,h){if(r=At(r),!r.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(r,h);return this.setView(y.center,y.zoom,h)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,h){return this.setView(r,this._zoom,{pan:h})},panBy:function(r,h){if(r=U(r).round(),h=h||{},!r.x&&!r.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ya,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){ee(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,y,h.duration||.25,h.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,h,y){if(y=y||{},y.animate===!1||!$t.any3d)return this.setView(r,h,y);this._stop();var C=this.project(this.getCenter()),O=this.project(r),k=this.getSize(),W=this._zoom;r=_t(r),h=h===void 0?W:h;var gt=Math.max(k.x,k.y),It=gt*this.getZoomScale(W,h),Ut=O.distanceTo(C)||1,Jt=1.42,ne=Jt*Jt;function ae(Bn){var jr=Bn?-1:1,sa=Bn?It:gt,Da=It*It-gt*gt+jr*ne*ne*Ut*Ut,oa=2*sa*ne*Ut,ao=Da/oa,Mo=Math.sqrt(ao*ao+1)-ao,so=Mo<1e-9?-18:Math.log(Mo);return so}function ve(Bn){return(Math.exp(Bn)-Math.exp(-Bn))/2}function Cn(Bn){return(Math.exp(Bn)+Math.exp(-Bn))/2}function Hn(Bn){return ve(Bn)/Cn(Bn)}var Ci=ae(0);function cr(Bn){return gt*(Cn(Ci)/Cn(Ci+Jt*Bn))}function _u(Bn){return gt*(Cn(Ci)*Hn(Ci+Jt*Bn)-ve(Ci))/ne}function yu(Bn){return 1-Math.pow(1-Bn,1.5)}var ro=Date.now(),ys=(ae(1)-Ci)/Jt,wu=y.duration?1e3*y.duration:1e3*ys*.8;function ws(){var Bn=(Date.now()-ro)/wu,jr=yu(Bn)*ys;Bn<=1?(this._flyToFrame=Dt(ws,this),this._move(this.unproject(C.add(O.subtract(C).multiplyBy(_u(jr)/Ut)),W),this.getScaleZoom(gt/cr(jr),W),{flyTo:!0})):this._move(r,h)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),ws.call(this),this},flyToBounds:function(r,h){var y=this._getBoundsCenterZoom(r,h);return this.flyTo(y.center,y.zoom,h)},setMaxBounds:function(r){return r=At(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var h=this.options.minZoom;return this.options.minZoom=r,this._loaded&&h!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var h=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&h!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,h){this._enforcingBounds=!0;var y=this.getCenter(),C=this._limitCenter(y,this._zoom,At(r));return y.equals(C)||this.panTo(C,h),this._enforcingBounds=!1,this},panInside:function(r,h){h=h||{};var y=U(h.paddingTopLeft||h.padding||[0,0]),C=U(h.paddingBottomRight||h.padding||[0,0]),O=this.project(this.getCenter()),k=this.project(r),W=this.getPixelBounds(),gt=ht([W.min.add(y),W.max.subtract(C)]),It=gt.getSize();if(!gt.contains(k)){this._enforcingBounds=!0;var Ut=k.subtract(gt.getCenter()),Jt=gt.extend(k).getSize().subtract(It);O.x+=Ut.x<0?-Jt.x:Jt.x,O.y+=Ut.y<0?-Jt.y:Jt.y,this.panTo(this.unproject(O),h),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=p({animate:!1,pan:!0},r===!0?{animate:!0}:r);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),C=h.divideBy(2).round(),O=y.divideBy(2).round(),k=C.subtract(O);return!k.x&&!k.y?this:(r.animate&&r.pan?this.panBy(k):(r.pan&&this._rawPanBy(k),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(E(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=p({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=E(this._handleGeolocationResponse,this),y=E(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,y,r):navigator.geolocation.getCurrentPosition(h,y,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var h=r.code,y=r.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var h=r.coords.latitude,y=r.coords.longitude,C=new kt(h,y),O=C.toBounds(r.coords.accuracy*2),k=this._locateOptions;if(k.setView){var W=this.getBoundsZoom(O);this.setView(C,k.maxZoom?Math.min(W,k.maxZoom):W)}var gt={latlng:C,bounds:O,timestamp:r.timestamp};for(var It in r.coords)typeof r.coords[It]=="number"&&(gt[It]=r.coords[It]);this.fire("locationfound",gt)}},addHandler:function(r,h){if(!h)return this;var y=this[r]=new h(this);return this._handlers.push(y),this.options[r]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)nn(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,h){var y="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),C=ze("div",y,h||this._mapPane);return r&&(this._panes[r]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),h=this.unproject(r.getBottomLeft()),y=this.unproject(r.getTopRight());return new vt(h,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,h,y){r=At(r),y=U(y||[0,0]);var C=this.getZoom()||0,O=this.getMinZoom(),k=this.getMaxZoom(),W=r.getNorthWest(),gt=r.getSouthEast(),It=this.getSize().subtract(y),Ut=ht(this.project(gt,C),this.project(W,C)).getSize(),Jt=$t.any3d?this.options.zoomSnap:1,ne=It.x/Ut.x,ae=It.y/Ut.y,ve=h?Math.max(ne,ae):Math.min(ne,ae);return C=this.getScaleZoom(ve,C),Jt&&(C=Math.round(C/(Jt/100))*(Jt/100),C=h?Math.ceil(C/Jt)*Jt:Math.floor(C/Jt)*Jt),Math.max(O,Math.min(k,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,h){var y=this._getTopLeftPoint(r,h);return new $(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,h){var y=this.options.crs;return h=h===void 0?this._zoom:h,y.scale(r)/y.scale(h)},getScaleZoom:function(r,h){var y=this.options.crs;h=h===void 0?this._zoom:h;var C=y.zoom(r*y.scale(h));return isNaN(C)?1/0:C},project:function(r,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(_t(r),h)},unproject:function(r,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(U(r),h)},layerPointToLatLng:function(r){var h=U(r).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(r){var h=this.project(_t(r))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(_t(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(At(r))},distance:function(r,h){return this.options.crs.distance(_t(r),_t(h))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var h=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(r)))},mouseEventToContainerPoint:function(r){return Fn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var h=this._container=De(r);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(h,"scroll",this._onScroll,this),this._containerId=M(h)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&$t.any3d,ee(r,"leaflet-container"+($t.touch?" leaflet-touch":"")+($t.retina?" leaflet-retina":"")+($t.ielt9?" leaflet-oldie":"")+($t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=pe(r,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ee(r.markerPane,"leaflet-zoom-hide"),ee(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,h,y){Wt(this._mapPane,new ut(0,0));var C=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var O=this._zoom!==h;this._moveStart(O,y)._move(r,h)._moveEnd(O),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(r,h){return r&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(r,h,y,C){h===void 0&&(h=this._zoom);var O=this._zoom!==h;return this._zoom=h,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),C?y&&y.pinch&&this.fire("zoom",y):((O||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Wt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[M(this._container)]=this;var h=r?jt:he;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),$t.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,h){for(var y=[],C,O=h==="mouseout"||h==="mouseover",k=r.target||r.srcElement,W=!1;k;){if(C=this._targets[M(k)],C&&(h==="click"||h==="preclick")&&this._draggableMoved(C)){W=!0;break}if(C&&C.listens(h,!0)&&(O&&!Wi(k,r)||(y.push(C),O))||k===this._container)break;k=k.parentNode}return!y.length&&!W&&!O&&this.listens(h,!0)&&(y=[this]),y},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var h=r.target||r.srcElement;if(!(!this._loaded||h._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(h))){var y=r.type;y==="mousedown"&&$r(h),this._fireDOMEvent(r,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,h,y){if(r.type==="click"){var C=p({},r);C.type="preclick",this._fireDOMEvent(C,C.type,y)}var O=this._findEventTargets(r,h);if(y){for(var k=[],W=0;W<y.length;W++)y[W].listens(h,!0)&&k.push(y[W]);O=k.concat(O)}if(O.length){h==="contextmenu"&&Ln(r);var gt=O[0],It={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Ut=gt.getLatLng&&(!gt._radius||gt._radius<=10);It.containerPoint=Ut?this.latLngToContainerPoint(gt.getLatLng()):this.mouseEventToContainerPoint(r),It.layerPoint=this.containerPointToLayerPoint(It.containerPoint),It.latlng=Ut?gt.getLatLng():this.layerPointToLatLng(It.layerPoint)}for(W=0;W<O.length;W++)if(O[W].fire(h,It,!0),It.originalEvent._stopped||O[W].options.bubblingMouseEvents===!1&&nt(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,h=this._handlers.length;r<h;r++)this._handlers[r].disable()},whenReady:function(r,h){return this._loaded?r.call(h||this,{target:this}):this.on("load",r,h),this},_getMapPanePos:function(){return on(this._mapPane)||new ut(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,h){var y=r&&h!==void 0?this._getNewPixelOrigin(r,h):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,h){var y=this.getSize()._divideBy(2);return this.project(r,h)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,h,y){var C=this._getNewPixelOrigin(y,h);return this.project(r,h)._subtract(C)},_latLngBoundsToNewLayerBounds:function(r,h,y){var C=this._getNewPixelOrigin(y,h);return ht([this.project(r.getSouthWest(),h)._subtract(C),this.project(r.getNorthWest(),h)._subtract(C),this.project(r.getSouthEast(),h)._subtract(C),this.project(r.getNorthEast(),h)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,h,y){if(!y)return r;var C=this.project(r,h),O=this.getSize().divideBy(2),k=new $(C.subtract(O),C.add(O)),W=this._getBoundsOffset(k,y,h);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?r:this.unproject(C.add(W),h)},_limitOffset:function(r,h){if(!h)return r;var y=this.getPixelBounds(),C=new $(y.min.add(r),y.max.add(r));return r.add(this._getBoundsOffset(C,h))},_getBoundsOffset:function(r,h,y){var C=ht(this.project(h.getNorthEast(),y),this.project(h.getSouthWest(),y)),O=C.min.subtract(r.min),k=C.max.subtract(r.max),W=this._rebound(O.x,-k.x),gt=this._rebound(O.y,-k.y);return new ut(W,gt)},_rebound:function(r,h){return r+h>0?Math.round(r-h)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(h))},_limitZoom:function(r){var h=this.getMinZoom(),y=this.getMaxZoom(),C=$t.any3d?this.options.zoomSnap:1;return C&&(r=Math.round(r/C)*C),Math.max(h,Math.min(y,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,h){var y=this._getCenterOffset(r)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,h),!0)},_createAnimProxy:function(){var r=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(h){var y=Di,C=this._proxy.style[y];Z(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),C===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),h=this.getZoom();Z(this._proxy,this.project(r,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,h,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(h),O=this._getCenterOffset(r)._divideBy(1-1/C);return y.animate!==!0&&!this.getSize().contains(O)?!1:(Dt(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(r,h,!0)},this),!0)},_animateZoom:function(r,h,y,C){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=h,ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:h,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(E(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ya(r,h){return new Ne(r,h)}var vi=X.extend({options:{position:"topright"},initialize:function(r){j(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var h=this._map;return h&&h.removeControl(this),this.options.position=r,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var h=this._container=this.onAdd(r),y=this.getPosition(),C=r._controlCorners[y];return ee(h,"leaflet-control"),y.indexOf("bottom")!==-1?C.insertBefore(h,C.firstChild):C.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),wa=function(r){return new vi(r)};Ne.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},h="leaflet-",y=this._controlContainer=ze("div",h+"control-container",this._container);function C(O,k){var W=h+O+" "+h+k;r[O+k]=ze("div",W,y)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)nn(this._controlCorners[r]);nn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Eo=vi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,h,y,C){return y<C?-1:C<y?1:0}},initialize:function(r,h,y){j(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in r)this._addLayer(r[C],C);for(C in h)this._addLayer(h[C],C,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return vi.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,h){return this._addLayer(r,h),this._map?this._update():this},addOverlay:function(r,h){return this._addLayer(r,h,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var h=this._getLayer(M(r));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",h=this._container=ze("div",r),y=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Hi(h),ta(h);var C=this._section=ze("section",r+"-list");y&&(this._map.on("click",this.collapse,this),he(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=ze("a",r+"-toggle",h);O.href="#",O.title="Layers",O.setAttribute("role","button"),he(O,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Ln(k),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=ze("div",r+"-base",C),this._separator=ze("div",r+"-separator",C),this._overlaysList=ze("div",r+"-overlays",C),h.appendChild(C)},_getLayer:function(r){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&M(this._layers[h].layer)===r)return this._layers[h]},_addLayer:function(r,h,y){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:h,overlay:y}),this.options.sortLayers&&this._layers.sort(E(function(C,O){return this.options.sortFunction(C.layer,O.layer,C.name,O.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jn(this._baseLayersList),Jn(this._overlaysList),this._layerControlInputs=[];var r,h,y,C,O=0;for(y=0;y<this._layers.length;y++)C=this._layers[y],this._addItem(C),h=h||C.overlay,r=r||!C.overlay,O+=C.overlay?0:1;return this.options.hideSingleBase&&(r=r&&O>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=h&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var h=this._getLayer(M(r.target)),y=h.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;y&&this._map.fire(y,h)},_createRadioElement:function(r,h){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(h?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=y,C.firstChild},_addItem:function(r){var h=document.createElement("label"),y=this._map.hasLayer(r.layer),C;r.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=y):C=this._createRadioElement("leaflet-base-layers_"+M(this),y),this._layerControlInputs.push(C),C.layerId=M(r.layer),he(C,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+r.name;var k=document.createElement("span");h.appendChild(k),k.appendChild(C),k.appendChild(O);var W=r.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,h,y,C=[],O=[];this._handlingClick=!0;for(var k=r.length-1;k>=0;k--)h=r[k],y=this._getLayer(h.layerId).layer,h.checked?C.push(y):h.checked||O.push(y);for(k=0;k<O.length;k++)this._map.hasLayer(O[k])&&this._map.removeLayer(O[k]);for(k=0;k<C.length;k++)this._map.hasLayer(C[k])||this._map.addLayer(C[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,h,y,C=this._map.getZoom(),O=r.length-1;O>=0;O--)h=r[O],y=this._getLayer(h.layerId).layer,h.disabled=y.options.minZoom!==void 0&&C<y.options.minZoom||y.options.maxZoom!==void 0&&C>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,he(r,"click",Ln),this.expand();var h=this;setTimeout(function(){jt(r,"click",Ln),h._preventClick=!1})}}),Ke=function(r,h,y){return new Eo(r,h,y)},cs=vi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var h="leaflet-control-zoom",y=ze("div",h+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,h+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,h+"-out",y,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,h,y,C,O){var k=ze("a",y,C);return k.innerHTML=r,k.href="#",k.title=h,k.setAttribute("role","button"),k.setAttribute("aria-label",h),Hi(k),he(k,"click",yi),he(k,"click",O,this),he(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var r=this._map,h="leaflet-disabled";je(this._zoomInButton,h),je(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(ee(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(ee(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ne.mergeOptions({zoomControl:!0}),Ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cs,this.addControl(this.zoomControl))});var va=function(r){return new cs(r)},wr=vi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var h="leaflet-control-scale",y=ze("div",h),C=this.options;return this._addScales(C,h+"-line",y),r.on(C.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),y},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,h,y){r.metric&&(this._mScale=ze("div",h,y)),r.imperial&&(this._iScale=ze("div",h,y))},_update:function(){var r=this._map,h=r.getSize().y/2,y=r.distance(r.containerPointToLatLng([0,h]),r.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(y)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var h=this._getRoundNum(r),y=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,y,h/r)},_updateImperial:function(r){var h=r*3.2808399,y,C,O;h>5280?(y=h/5280,C=this._getRoundNum(y),this._updateScale(this._iScale,C+" mi",C/y)):(O=this._getRoundNum(h),this._updateScale(this._iScale,O+" ft",O/h))},_updateScale:function(r,h,y){r.style.width=Math.round(this.options.maxWidth*y)+"px",r.innerHTML=h},_getRoundNum:function(r){var h=Math.pow(10,(Math.floor(r)+"").length-1),y=r/h;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,h*y}}),ul=function(r){return new wr(r)},Mt='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Se=vi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($t.inlineSvg?Mt+" ":"")+"Leaflet</a>"},initialize:function(r){j(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Hi(this._container);for(var h in r._layers)r._layers[h].getAttribution&&this.addAttribution(r._layers[h].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var h in this._attributions)this._attributions[h]&&r.push(h);var y=[];this.options.prefix&&y.push(this.options.prefix),r.length&&y.push(r.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Ne.mergeOptions({attributionControl:!0}),Ne.addInitHook(function(){this.options.attributionControl&&new Se().addTo(this)});var ei=function(r){return new Se(r)};vi.Layers=Eo,vi.Zoom=cs,vi.Scale=wr,vi.Attribution=Se,wa.layers=Ke,wa.zoom=va,wa.scale=ul,wa.attribution=ei;var Ei=X.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ei.addTo=function(r,h){return r.addHandler(h,this),this};var Ao={Events:G},So=$t.touch?"touchstart mousedown":"mousedown",Gr=J.extend({options:{clickTolerance:3},initialize:function(r,h,y,C){j(this,C),this._element=r,this._dragStartTarget=h||r,this._preventOutline=y},enable:function(){this._enabled||(he(this._dragStartTarget,So,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gr._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,So,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!pa(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Gr._dragging===this&&this.finishDrag();return}if(!(Gr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Gr._dragging=this,this._preventOutline&&$r(this._element),re(),Nn(),!this._moving)){this.fire("down");var h=r.touches?r.touches[0]:r,y=_r(this._element);this._startPoint=new ut(h.clientX,h.clientY),this._startPos=on(this._element),this._parentScale=Zr(y);var C=r.type==="mousedown";he(document,C?"mousemove":"touchmove",this._onMove,this),he(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var h=r.touches&&r.touches.length===1?r.touches[0]:r,y=new ut(h.clientX,h.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Ln(r),this._moved||(this.fire("dragstart"),this._moved=!0,ee(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Wt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){je(document.body,"leaflet-dragging"),this._lastTarget&&(je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),ln(),Va();var h=this._moved&&this._moving;this._moving=!1,Gr._dragging=!1,h&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function bo(r,h,y){var C,O=[1,4,2,8],k,W,gt,It,Ut,Jt,ne,ae;for(k=0,Jt=r.length;k<Jt;k++)r[k]._code=ia(r[k],h);for(gt=0;gt<4;gt++){for(ne=O[gt],C=[],k=0,Jt=r.length,W=Jt-1;k<Jt;W=k++)It=r[k],Ut=r[W],It._code&ne?Ut._code&ne||(ae=vr(Ut,It,ne,h,y),ae._code=ia(ae,h),C.push(ae)):(Ut._code&ne&&(ae=vr(Ut,It,ne,h,y),ae._code=ia(ae,h),C.push(ae)),C.push(It));r=C}return r}function Ea(r,h){var y,C,O,k,W,gt,It,Ut,Jt;if(!r||r.length===0)throw new Error("latlngs not passed");ni(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ne=_t([0,0]),ae=At(r),ve=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());ve<1700&&(ne=In(r));var Cn=r.length,Hn=[];for(y=0;y<Cn;y++){var Ci=_t(r[y]);Hn.push(h.project(_t([Ci.lat-ne.lat,Ci.lng-ne.lng])))}for(gt=It=Ut=0,y=0,C=Cn-1;y<Cn;C=y++)O=Hn[y],k=Hn[C],W=O.y*k.x-k.y*O.x,It+=(O.x+k.x)*W,Ut+=(O.y+k.y)*W,gt+=W*3;gt===0?Jt=Hn[0]:Jt=[It/gt,Ut/gt];var cr=h.unproject(U(Jt));return _t([cr.lat+ne.lat,cr.lng+ne.lng])}function In(r){for(var h=0,y=0,C=0,O=0;O<r.length;O++){var k=_t(r[O]);h+=k.lat,y+=k.lng,C++}return _t([h/C,y/C])}var Ks={__proto__:null,clipPolygon:bo,polygonCenter:Ea,centroid:In};function En(r,h){if(!h||!r.length)return r.slice();var y=h*h;return r=cl(r,y),r=en(r,y),r}function Aa(r,h,y){return Math.sqrt(Er(r,h,y,!0))}function na(r,h,y){return Er(r,h,y)}function en(r,h){var y=r.length,C=typeof Uint8Array<"u"?Uint8Array:Array,O=new C(y);O[0]=O[y-1]=1,le(r,O,h,0,y-1);var k,W=[];for(k=0;k<y;k++)O[k]&&W.push(r[k]);return W}function le(r,h,y,C,O){var k=0,W,gt,It;for(gt=C+1;gt<=O-1;gt++)It=Er(r[gt],r[C],r[O],!0),It>k&&(W=gt,k=It);k>y&&(h[W]=1,le(r,h,y,C,W),le(r,h,y,W,O))}function cl(r,h){for(var y=[r[0]],C=1,O=0,k=r.length;C<k;C++)lr(r[C],r[O])>h&&(y.push(r[C]),O=C);return O<k-1&&y.push(r[k-1]),y}var rn;function Yr(r,h,y,C,O){var k=C?rn:ia(r,y),W=ia(h,y),gt,It,Ut;for(rn=W;;){if(!(k|W))return[r,h];if(k&W)return!1;gt=k||W,It=vr(r,h,gt,y,O),Ut=ia(It,y),gt===k?(r=It,k=Ut):(h=It,W=Ut)}}function vr(r,h,y,C,O){var k=h.x-r.x,W=h.y-r.y,gt=C.min,It=C.max,Ut,Jt;return y&8?(Ut=r.x+k*(It.y-r.y)/W,Jt=It.y):y&4?(Ut=r.x+k*(gt.y-r.y)/W,Jt=gt.y):y&2?(Ut=It.x,Jt=r.y+W*(It.x-r.x)/k):y&1&&(Ut=gt.x,Jt=r.y+W*(gt.x-r.x)/k),new ut(Ut,Jt,O)}function ia(r,h){var y=0;return r.x<h.min.x?y|=1:r.x>h.max.x&&(y|=2),r.y<h.min.y?y|=4:r.y>h.max.y&&(y|=8),y}function lr(r,h){var y=h.x-r.x,C=h.y-r.y;return y*y+C*C}function Er(r,h,y,C){var O=h.x,k=h.y,W=y.x-O,gt=y.y-k,It=W*W+gt*gt,Ut;return It>0&&(Ut=((r.x-O)*W+(r.y-k)*gt)/It,Ut>1?(O=y.x,k=y.y):Ut>0&&(O+=W*Ut,k+=gt*Ut)),W=r.x-O,gt=r.y-k,C?W*W+gt*gt:new ut(O,k)}function ni(r){return!tt(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function fs(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ni(r)}function hs(r,h){var y,C,O,k,W,gt,It,Ut;if(!r||r.length===0)throw new Error("latlngs not passed");ni(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Jt=_t([0,0]),ne=At(r),ae=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());ae<1700&&(Jt=In(r));var ve=r.length,Cn=[];for(y=0;y<ve;y++){var Hn=_t(r[y]);Cn.push(h.project(_t([Hn.lat-Jt.lat,Hn.lng-Jt.lng])))}for(y=0,C=0;y<ve-1;y++)C+=Cn[y].distanceTo(Cn[y+1])/2;if(C===0)Ut=Cn[0];else for(y=0,k=0;y<ve-1;y++)if(W=Cn[y],gt=Cn[y+1],O=W.distanceTo(gt),k+=O,k>C){It=(k-C)/O,Ut=[gt.x-It*(gt.x-W.x),gt.y-It*(gt.y-W.y)];break}var Ci=h.unproject(U(Ut));return _t([Ci.lat+Jt.lat,Ci.lng+Jt.lng])}var Js={__proto__:null,simplify:En,pointToSegmentDistance:Aa,closestPointOnSegment:na,clipSegment:Yr,_getEdgeIntersection:vr,_getBitCode:ia,_sqClosestPointOnSegment:Er,isFlat:ni,_flat:fs,polylineCenter:hs},ds={project:function(r){return new ut(r.lng,r.lat)},unproject:function(r){return new kt(r.y,r.x)},bounds:new $([-180,-90],[180,90])},Ar={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var h=Math.PI/180,y=this.R,C=r.lat*h,O=this.R_MINOR/y,k=Math.sqrt(1-O*O),W=k*Math.sin(C),gt=Math.tan(Math.PI/4-C/2)/Math.pow((1-W)/(1+W),k/2);return C=-y*Math.log(Math.max(gt,1e-10)),new ut(r.lng*h*y,C)},unproject:function(r){for(var h=180/Math.PI,y=this.R,C=this.R_MINOR/y,O=Math.sqrt(1-C*C),k=Math.exp(-r.y/y),W=Math.PI/2-2*Math.atan(k),gt=0,It=.1,Ut;gt<15&&Math.abs(It)>1e-7;gt++)Ut=O*Math.sin(W),Ut=Math.pow((1-Ut)/(1+Ut),O/2),It=Math.PI/2-2*Math.atan(k*Ut)-W,W+=It;return new kt(W*h,r.x*h/y)}},gs={__proto__:null,LonLat:ds,Mercator:Ar,SphericalMercator:Re},Sa=p({},qt,{code:"EPSG:3395",projection:Ar,transformation:function(){var r=.5/(Math.PI*Ar.R);return xn(r,.5,-r,.5)}()}),ba=p({},qt,{code:"EPSG:4326",projection:ds,transformation:xn(1/180,1,-1/180,.5)}),fl=p({},se,{projection:ds,transformation:xn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,h){var y=h.lng-r.lng,C=h.lat-r.lat;return Math.sqrt(y*y+C*C)},infinite:!0});se.Earth=qt,se.EPSG3395=Sa,se.EPSG3857=de,se.EPSG900913=Mn,se.EPSG4326=ba,se.Simple=fl;var Xn=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[M(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[M(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var h=r.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var y=this.getEvents();h.on(y,this),this.once("remove",function(){h.off(y,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Ne.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var h=M(r);return this._layers[h]?this:(this._layers[h]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var h=M(r);return this._layers[h]?(this._loaded&&r.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return M(r)in this._layers},eachLayer:function(r,h){for(var y in this._layers)r.call(h,this._layers[y]);return this},_addLayers:function(r){r=r?tt(r)?r:[r]:[];for(var h=0,y=r.length;h<y;h++)this.addLayer(r[h])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[M(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var h=M(r);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,h=-1/0,y=this._getZoomSpan();for(var C in this._zoomBoundLayers){var O=this._zoomBoundLayers[C].options;r=O.minZoom===void 0?r:Math.min(r,O.minZoom),h=O.maxZoom===void 0?h:Math.max(h,O.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=r===1/0?void 0:r,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ur=Xn.extend({initialize:function(r,h){j(this,h),this._layers={};var y,C;if(r)for(y=0,C=r.length;y<C;y++)this.addLayer(r[y])},addLayer:function(r){var h=this.getLayerId(r);return this._layers[h]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var h=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(r){var h=typeof r=="number"?r:this.getLayerId(r);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var h=Array.prototype.slice.call(arguments,1),y,C;for(y in this._layers)C=this._layers[y],C[r]&&C[r].apply(C,h);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,h){for(var y in this._layers)r.call(h,this._layers[y]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return M(r)}}),Li=function(r,h){return new ur(r,h)},Ai=ur.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ur.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ur.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new vt;for(var h in this._layers){var y=this._layers[h];r.extend(y.getBounds?y.getBounds():y.getLatLng())}return r}}),Si=function(r,h){return new Ai(r,h)},Ca=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){j(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,h){var y=this._getIconUrl(r);if(!y){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(y,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(C,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(r,h){var y=this.options,C=y[h+"Size"];typeof C=="number"&&(C=[C,C]);var O=U(C),k=U(h==="shadow"&&y.shadowAnchor||y.iconAnchor||O&&O.divideBy(2,!0));r.className="leaflet-marker-"+h+" "+(y.className||""),k&&(r.style.marginLeft=-k.x+"px",r.style.marginTop=-k.y+"px"),O&&(r.style.width=O.x+"px",r.style.height=O.y+"px")},_createImg:function(r,h){return h=h||document.createElement("img"),h.src=r,h},_getIconUrl:function(r){return $t.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ta(r){return new Ca(r)}var Ma=Ca.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ma.imagePath!="string"&&(Ma.imagePath=this._detectIconPath()),(this.options.imagePath||Ma.imagePath)+Ca.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var h=function(y,C,O){var k=C.exec(y);return k&&k[O]};return r=h(r,/^url\((['"])?(.+)\1\)$/,2),r&&h(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ze("div","leaflet-default-icon-path",document.body),h=pe(r,"background-image")||pe(r,"backgroundImage");if(document.body.removeChild(r),h=this._stripUrl(h),h)return h;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),ms=Ei.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Gr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ee(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var h=this._marker,y=h._map,C=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,k=on(h._icon),W=y.getPixelBounds(),gt=y.getPixelOrigin(),It=ht(W.min._subtract(gt).add(O),W.max._subtract(gt).subtract(O));if(!It.contains(k)){var Ut=U((Math.max(It.max.x,k.x)-It.max.x)/(W.max.x-It.max.x)-(Math.min(It.min.x,k.x)-It.min.x)/(W.min.x-It.min.x),(Math.max(It.max.y,k.y)-It.max.y)/(W.max.y-It.max.y)-(Math.min(It.min.y,k.y)-It.min.y)/(W.min.y-It.min.y)).multiplyBy(C);y.panBy(Ut,{animate:!1}),this._draggable._newPos._add(Ut),this._draggable._startPos._add(Ut),Wt(h._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Dt(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Dt(this._adjustPan.bind(this,r)))},_onDrag:function(r){var h=this._marker,y=h._shadow,C=on(h._icon),O=h._map.layerPointToLatLng(C);y&&Wt(y,C),h._latlng=O,r.latlng=O,r.oldLatLng=this._oldLatLng,h.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),fi=Xn.extend({options:{icon:new Ma,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,h){j(this,h),this._latlng=_t(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var h=this._latlng;return this._latlng=_t(r),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=r.icon.createIcon(this._icon),C=!1;y!==this._icon&&(this._icon&&this._removeIcon(),C=!0,r.title&&(y.title=r.title),y.tagName==="IMG"&&(y.alt=r.alt||"")),ee(y,h),r.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(y,"focus",this._panOnFocus,this);var O=r.icon.createShadow(this._shadow),k=!1;O!==this._shadow&&(this._removeShadow(),k=!0),O&&(ee(O,h),O.alt=""),this._shadow=O,r.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&k&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),nn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nn(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Wt(this._icon,r),this._shadow&&Wt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var h=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ms)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ms(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var h=this.options.icon.options,y=h.iconSize?U(h.iconSize):U(0,0),C=h.iconAnchor?U(h.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:y.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $s(r,h){return new fi(r,h)}var Qi=Xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return j(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Sr=Qi.extend({options:{fill:!0,radius:10},initialize:function(r,h){j(this,h),this._latlng=_t(r),this._radius=this.options.radius},setLatLng:function(r){var h=this._latlng;return this._latlng=_t(r),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var h=r&&r.radius||this._radius;return Qi.prototype.setStyle.call(this,r),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,h=this._radiusY||r,y=this._clickTolerance(),C=[r+y,h+y];this._pxBounds=new $(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ke(r,h){return new Sr(r,h)}var Na=Sr.extend({initialize:function(r,h,y){if(typeof h=="number"&&(h=p({},y,{radius:h})),j(this,h),this._latlng=_t(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new vt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Qi.prototype.setStyle,_project:function(){var r=this._latlng.lng,h=this._latlng.lat,y=this._map,C=y.options.crs;if(C.distance===qt.distance){var O=Math.PI/180,k=this._mRadius/qt.R/O,W=y.project([h+k,r]),gt=y.project([h-k,r]),It=W.add(gt).divideBy(2),Ut=y.unproject(It).lat,Jt=Math.acos((Math.cos(k*O)-Math.sin(h*O)*Math.sin(Ut*O))/(Math.cos(h*O)*Math.cos(Ut*O)))/O;(isNaN(Jt)||Jt===0)&&(Jt=k/Math.cos(Math.PI/180*h)),this._point=It.subtract(y.getPixelOrigin()),this._radius=isNaN(Jt)?0:It.x-y.project([Ut,r-Jt]).x,this._radiusY=It.y-W.y}else{var ne=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(ne).x}this._updateBounds()}});function B(r,h,y){return new Na(r,h,y)}var e=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,h){j(this,h),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var h=1/0,y=null,C=Er,O,k,W=0,gt=this._parts.length;W<gt;W++)for(var It=this._parts[W],Ut=1,Jt=It.length;Ut<Jt;Ut++){O=It[Ut-1],k=It[Ut];var ne=C(r,O,k,!0);ne<h&&(h=ne,y=C(r,O,k))}return y&&(y.distance=Math.sqrt(h)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,h){return h=h||this._defaultShape(),r=_t(r),h.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new vt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return ni(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var h=[],y=ni(r),C=0,O=r.length;C<O;C++)y?(h[C]=_t(r[C]),this._bounds.extend(h[C])):h[C]=this._convertLatLngs(r[C]);return h},_project:function(){var r=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),h=new ut(r,r);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(r,h,y){var C=r[0]instanceof kt,O=r.length,k,W;if(C){for(W=[],k=0;k<O;k++)W[k]=this._map.latLngToLayerPoint(r[k]),y.extend(W[k]);h.push(W)}else for(k=0;k<O;k++)this._projectLatlngs(r[k],h,y)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,y,C,O,k,W,gt,It;for(y=0,O=0,k=this._rings.length;y<k;y++)for(It=this._rings[y],C=0,W=It.length;C<W-1;C++)gt=Yr(It[C],It[C+1],r,C,!0),gt&&(h[O]=h[O]||[],h[O].push(gt[0]),(gt[1]!==It[C+1]||C===W-2)&&(h[O].push(gt[1]),O++))}},_simplifyPoints:function(){for(var r=this._parts,h=this.options.smoothFactor,y=0,C=r.length;y<C;y++)r[y]=En(r[y],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,h){var y,C,O,k,W,gt,It=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(y=0,k=this._parts.length;y<k;y++)for(gt=this._parts[y],C=0,W=gt.length,O=W-1;C<W;O=C++)if(!(!h&&C===0)&&Aa(r,gt[O],gt[C])<=It)return!0;return!1}});function i(r,h){return new e(r,h)}e._flat=fs;var s=e.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ea(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var h=e.prototype._convertLatLngs.call(this,r),y=h.length;return y>=2&&h[0]instanceof kt&&h[0].equals(h[y-1])&&h.pop(),h},_setLatLngs:function(r){e.prototype._setLatLngs.call(this,r),ni(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ni(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,h=this.options.weight,y=new ut(h,h);if(r=new $(r.min.subtract(y),r.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,O=this._rings.length,k;C<O;C++)k=bo(this._rings[C],r,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var h=!1,y,C,O,k,W,gt,It,Ut;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(k=0,It=this._parts.length;k<It;k++)for(y=this._parts[k],W=0,Ut=y.length,gt=Ut-1;W<Ut;gt=W++)C=y[W],O=y[gt],C.y>r.y!=O.y>r.y&&r.x<(O.x-C.x)*(r.y-C.y)/(O.y-C.y)+C.x&&(h=!h);return h||e.prototype._containsPoint.call(this,r,!0)}});function c(r,h){return new s(r,h)}var f=Ai.extend({initialize:function(r,h){j(this,h),this._layers={},r&&this.addData(r)},addData:function(r){var h=tt(r)?r:r.features,y,C,O;if(h){for(y=0,C=h.length;y<C;y++)O=h[y],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var k=this.options;if(k.filter&&!k.filter(r))return this;var W=g(r,k);return W?(W.feature=Y(r),W.defaultOptions=W.options,this.resetStyle(W),k.onEachFeature&&k.onEachFeature(r,W),this.addLayer(W)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=p({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(h){this._setLayerStyle(h,r)},this)},_setLayerStyle:function(r,h){r.setStyle&&(typeof h=="function"&&(h=h(r.feature)),r.setStyle(h))}});function g(r,h){var y=r.type==="Feature"?r.geometry:r,C=y?y.coordinates:null,O=[],k=h&&h.pointToLayer,W=h&&h.coordsToLatLng||v,gt,It,Ut,Jt;if(!C&&!y)return null;switch(y.type){case"Point":return gt=W(C),x(k,r,gt,h);case"MultiPoint":for(Ut=0,Jt=C.length;Ut<Jt;Ut++)gt=W(C[Ut]),O.push(x(k,r,gt,h));return new Ai(O);case"LineString":case"MultiLineString":return It=b(C,y.type==="LineString"?0:1,W),new e(It,h);case"Polygon":case"MultiPolygon":return It=b(C,y.type==="Polygon"?1:2,W),new s(It,h);case"GeometryCollection":for(Ut=0,Jt=y.geometries.length;Ut<Jt;Ut++){var ne=g({geometry:y.geometries[Ut],type:"Feature",properties:r.properties},h);ne&&O.push(ne)}return new Ai(O);case"FeatureCollection":for(Ut=0,Jt=y.features.length;Ut<Jt;Ut++){var ae=g(y.features[Ut],h);ae&&O.push(ae)}return new Ai(O);default:throw new Error("Invalid GeoJSON object.")}}function x(r,h,y,C){return r?r(h,y):new fi(y,C&&C.markersInheritOptions&&C)}function v(r){return new kt(r[1],r[0],r[2])}function b(r,h,y){for(var C=[],O=0,k=r.length,W;O<k;O++)W=h?b(r[O],h-1,y):(y||v)(r[O]),C.push(W);return C}function I(r,h){return r=_t(r),r.alt!==void 0?[H(r.lng,h),H(r.lat,h),H(r.alt,h)]:[H(r.lng,h),H(r.lat,h)]}function P(r,h,y,C){for(var O=[],k=0,W=r.length;k<W;k++)O.push(h?P(r[k],ni(r[k])?0:h-1,y,C):I(r[k],C));return!h&&y&&O.length>0&&O.push(O[0].slice()),O}function z(r,h){return r.feature?p({},r.feature,{geometry:h}):Y(h)}function Y(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var K={toGeoJSON:function(r){return z(this,{type:"Point",coordinates:I(this.getLatLng(),r)})}};fi.include(K),Na.include(K),Sr.include(K),e.include({toGeoJSON:function(r){var h=!ni(this._latlngs),y=P(this._latlngs,h?1:0,!1,r);return z(this,{type:(h?"Multi":"")+"LineString",coordinates:y})}}),s.include({toGeoJSON:function(r){var h=!ni(this._latlngs),y=h&&!ni(this._latlngs[0]),C=P(this._latlngs,y?2:h?1:0,!0,r);return h||(C=[C]),z(this,{type:(y?"Multi":"")+"Polygon",coordinates:C})}}),ur.include({toMultiPoint:function(r){var h=[];return this.eachLayer(function(y){h.push(y.toGeoJSON(r).geometry.coordinates)}),z(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(r){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(r);var y=h==="GeometryCollection",C=[];return this.eachLayer(function(O){if(O.toGeoJSON){var k=O.toGeoJSON(r);if(y)C.push(k.geometry);else{var W=Y(k);W.type==="FeatureCollection"?C.push.apply(C,W.features):C.push(W)}}}),y?z(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function it(r,h){return new f(r,h)}var pt=it,Et=Xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,h,y){this._url=r,this._bounds=At(h),j(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&sn(this._image),this},bringToBack:function(){return this._map&&Ri(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=At(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",h=this._image=r?this._url:ze("img");if(ee(h,"leaflet-image-layer"),this._zoomAnimated&&ee(h,"leaflet-zoom-animated"),this.options.className&&ee(h,this.options.className),h.onselectstart=D,h.onmousemove=D,h.onload=E(this.fire,this,"load"),h.onerror=E(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(r){var h=this._map.getZoomScale(r.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Z(this._image,y,h)},_reset:function(){var r=this._image,h=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=h.getSize();Wt(r,h.min),r.style.width=y.x+"px",r.style.height=y.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Zt=function(r,h,y){return new Et(r,h,y)},Gt=Et.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",h=this._image=r?this._url:ze("video");if(ee(h,"leaflet-image-layer"),this._zoomAnimated&&ee(h,"leaflet-zoom-animated"),this.options.className&&ee(h,this.options.className),h.onselectstart=D,h.onmousemove=D,h.onloadeddata=E(this.fire,this,"load"),r){for(var y=h.getElementsByTagName("source"),C=[],O=0;O<y.length;O++)C.push(y[O].src);this._url=y.length>0?C:[h.src];return}tt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var W=ze("source");W.src=this._url[k],h.appendChild(W)}}});function Ht(r,h,y){return new Gt(r,h,y)}var ye=Et.extend({_initImage:function(){var r=this._image=this._url;ee(r,"leaflet-image-layer"),this._zoomAnimated&&ee(r,"leaflet-zoom-animated"),this.options.className&&ee(r,this.options.className),r.onselectstart=D,r.onmousemove=D}});function we(r,h,y){return new ye(r,h,y)}var dn=Xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,h){r&&(r instanceof kt||tt(r))?(this._latlng=_t(r),j(this,h)):(j(this,r),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(E(nn,void 0,this._container),200)):nn(this._container),this.options.interactive&&(je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=_t(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&sn(this._container),this},bringToBack:function(){return this._map&&Ri(this._container),this},_prepareOpen:function(r){var h=this._source;if(!h._map)return!1;if(h instanceof Ai){h=null;var y=this._source._layers;for(var C in y)if(y[C]._map){h=y[C];break}if(!h)return!1;this._source=h}if(!r)if(h.getCenter)r=h.getCenter();else if(h.getLatLng)r=h.getLatLng();else if(h.getBounds)r=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")r.innerHTML=h;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),h=U(this.options.offset),y=this._getAnchor();this._zoomAnimated?Wt(this._container,r.add(y)):h=h.add(r).add(y);var C=this._containerBottom=-h.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=C+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Ne.include({_initOverlay:function(r,h,y,C){var O=h;return O instanceof r||(O=new r(C).setContent(h)),y&&O.setLatLng(y),O}}),Xn.include({_initOverlay:function(r,h,y,C){var O=y;return O instanceof r?(j(O,C),O._source=this):(O=h&&!C?h:new r(C,this),O.setContent(y)),O}});var hi=dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,dn.prototype.openOn.call(this,r)},onAdd:function(r){dn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",qi))},onRemove:function(r){dn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",qi))},getEvents:function(){var r=dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",h=this._container=ze("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=ze("div",r+"-content-wrapper",h);if(this._contentNode=ze("div",r+"-content",y),Hi(h),ta(this._contentNode),he(h,"contextmenu",qi),this._tipContainer=ze("div",r+"-tip-container",h),this._tip=ze("div",r+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ze("a",r+"-close-button",h);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',he(C,"click",function(O){Ln(O),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,h=r.style;h.width="",h.whiteSpace="nowrap";var y=r.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),h.width=y+1+"px",h.whiteSpace="",h.height="";var C=r.offsetHeight,O=this.options.maxHeight,k="leaflet-popup-scrolled";O&&C>O?(h.height=O+"px",ee(r,k)):je(r,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var h=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),y=this._getAnchor();Wt(this._container,h.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,h=parseInt(pe(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+h,C=this._containerWidth,O=new ut(this._containerLeft,-y-this._containerBottom);O._add(on(this._container));var k=r.layerPointToContainerPoint(O),W=U(this.options.autoPanPadding),gt=U(this.options.autoPanPaddingTopLeft||W),It=U(this.options.autoPanPaddingBottomRight||W),Ut=r.getSize(),Jt=0,ne=0;k.x+C+It.x>Ut.x&&(Jt=k.x+C-Ut.x+It.x),k.x-Jt-gt.x<0&&(Jt=k.x-gt.x),k.y+y+It.y>Ut.y&&(ne=k.y+y-Ut.y+It.y),k.y-ne-gt.y<0&&(ne=k.y-gt.y),(Jt||ne)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Jt,ne]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bi=function(r,h){return new hi(r,h)};Ne.mergeOptions({closePopupOnClick:!0}),Ne.include({openPopup:function(r,h,y){return this._initOverlay(hi,r,h,y).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Xn.include({bindPopup:function(r,h){return this._popup=this._initOverlay(hi,this._popup,r,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ai||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){yi(r);var h=r.layer||r.target;if(this._popup._source===h&&!(h instanceof Qi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=h,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var qe=dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){dn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){dn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=dn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",h=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+M(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var h,y,C=this._map,O=this._container,k=C.latLngToContainerPoint(C.getCenter()),W=C.layerPointToContainerPoint(r),gt=this.options.direction,It=O.offsetWidth,Ut=O.offsetHeight,Jt=U(this.options.offset),ne=this._getAnchor();gt==="top"?(h=It/2,y=Ut):gt==="bottom"?(h=It/2,y=0):gt==="center"?(h=It/2,y=Ut/2):gt==="right"?(h=0,y=Ut/2):gt==="left"?(h=It,y=Ut/2):W.x<k.x?(gt="right",h=0,y=Ut/2):(gt="left",h=It+(Jt.x+ne.x)*2,y=Ut/2),r=r.subtract(U(h,y,!0)).add(Jt).add(ne),je(O,"leaflet-tooltip-right"),je(O,"leaflet-tooltip-left"),je(O,"leaflet-tooltip-top"),je(O,"leaflet-tooltip-bottom"),ee(O,"leaflet-tooltip-"+gt),Wt(O,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ce(this._container,r)},_animateZoom:function(r){var h=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(h)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ii=function(r,h){return new qe(r,h)};Ne.include({openTooltip:function(r,h,y){return this._initOverlay(qe,r,h,y).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Xn.include({bindTooltip:function(r,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qe,this._tooltip,r,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var h=r?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[h](y),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ai||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var h=typeof r.getElement=="function"&&r.getElement();h&&(he(h,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),he(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var h=typeof r.getElement=="function"&&r.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var h=r.latlng,y,C;this._tooltip.options.sticky&&r.originalEvent&&(y=this._map.mouseEventToContainerPoint(r.originalEvent),C=this._map.containerPointToLayerPoint(y),h=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(h)}});var di=Ca.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var h=r&&r.tagName==="DIV"?r:document.createElement("div"),y=this.options;if(y.html instanceof Element?(Jn(h),h.appendChild(y.html)):h.innerHTML=y.html!==!1?y.html:"",y.bgPos){var C=U(y.bgPos);h.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function ra(r){return new di(r)}Ca.Default=Ma;var Zi=Xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){j(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),nn(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(sn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ut?r:new ut(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var h=this.getPane().children,y=-r(-1/0,1/0),C=0,O=h.length,k;C<O;C++)k=h[C].style.zIndex,h[C]!==this._container&&k&&(y=r(y,+k));isFinite(y)&&(this.options.zIndex=y+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$t.ielt9){Ce(this._container,this.options.opacity);var r=+new Date,h=!1,y=!1;for(var C in this._tiles){var O=this._tiles[C];if(!(!O.current||!O.loaded)){var k=Math.min(1,(r-O.loaded)/200);Ce(O.el,k),k<1?h=!0:(O.active?y=!0:this._onOpaqueTile(O),O.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),h&&(Tt(this._fadeFrame),this._fadeFrame=Dt(this._updateOpacity,this))}},_onOpaqueTile:D,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,h=this.options.maxZoom;if(r!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===r?(this._levels[y].el.style.zIndex=h-Math.abs(r-y),this._onUpdateLevel(y)):(nn(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var C=this._levels[r],O=this._map;return C||(C=this._levels[r]={},C.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=h,C.origin=O.project(O.unproject(O.getPixelOrigin()),r).round(),C.zoom=r,this._setZoomTransform(C,O.getCenter(),O.getZoom()),D(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:D,_onRemoveLevel:D,_onCreateLevel:D,_pruneTiles:function(){if(this._map){var r,h,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)h=this._tiles[r],h.retain=h.current;for(r in this._tiles)if(h=this._tiles[r],h.current&&!h.active){var C=h.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var h in this._tiles)this._tiles[h].coords.z===r&&this._removeTile(h)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)nn(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,h,y,C){var O=Math.floor(r/2),k=Math.floor(h/2),W=y-1,gt=new ut(+O,+k);gt.z=+W;var It=this._tileCoordsToKey(gt),Ut=this._tiles[It];return Ut&&Ut.active?(Ut.retain=!0,!0):(Ut&&Ut.loaded&&(Ut.retain=!0),W>C?this._retainParent(O,k,W,C):!1)},_retainChildren:function(r,h,y,C){for(var O=2*r;O<2*r+2;O++)for(var k=2*h;k<2*h+2;k++){var W=new ut(O,k);W.z=y+1;var gt=this._tileCoordsToKey(W),It=this._tiles[gt];if(It&&It.active){It.retain=!0;continue}else It&&It.loaded&&(It.retain=!0);y+1<C&&this._retainChildren(O,k,y+1,C)}},_resetView:function(r){var h=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var h=this.options;return h.minNativeZoom!==void 0&&r<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<r?h.maxNativeZoom:r},_setView:function(r,h,y,C){var O=Math.round(h);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var k=this.options.updateWhenZooming&&O!==this._tileZoom;(!C||k)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(r),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(r,h)},_setZoomTransforms:function(r,h){for(var y in this._levels)this._setZoomTransform(this._levels[y],r,h)},_setZoomTransform:function(r,h,y){var C=this._map.getZoomScale(y,r.zoom),O=r.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(h,y)).round();$t.any3d?Z(r.el,O,C):Wt(r.el,O)},_resetGrid:function(){var r=this._map,h=r.options.crs,y=this._tileSize=this.getTileSize(),C=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,h.wrapLng[0]],C).x/y.x),Math.ceil(r.project([0,h.wrapLng[1]],C).x/y.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([h.wrapLat[0],0],C).y/y.x),Math.ceil(r.project([h.wrapLat[1],0],C).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var h=this._map,y=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),C=h.getZoomScale(y,this._tileZoom),O=h.project(r,this._tileZoom).floor(),k=h.getSize().divideBy(C*2);return new $(O.subtract(k),O.add(k))},_update:function(r){var h=this._map;if(h){var y=this._clampZoom(h.getZoom());if(r===void 0&&(r=h.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(r),O=this._pxBoundsToTileRange(C),k=O.getCenter(),W=[],gt=this.options.keepBuffer,It=new $(O.getBottomLeft().subtract([gt,-gt]),O.getTopRight().add([gt,-gt]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ut in this._tiles){var Jt=this._tiles[Ut].coords;(Jt.z!==this._tileZoom||!It.contains(new ut(Jt.x,Jt.y)))&&(this._tiles[Ut].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(r,y);return}for(var ne=O.min.y;ne<=O.max.y;ne++)for(var ae=O.min.x;ae<=O.max.x;ae++){var ve=new ut(ae,ne);if(ve.z=this._tileZoom,!!this._isValidTile(ve)){var Cn=this._tiles[this._tileCoordsToKey(ve)];Cn?Cn.current=!0:W.push(ve)}}if(W.sort(function(Ci,cr){return Ci.distanceTo(k)-cr.distanceTo(k)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hn=document.createDocumentFragment();for(ae=0;ae<W.length;ae++)this._addTile(W[ae],Hn);this._level.el.appendChild(Hn)}}}},_isValidTile:function(r){var h=this._map.options.crs;if(!h.infinite){var y=this._globalTileRange;if(!h.wrapLng&&(r.x<y.min.x||r.x>y.max.x)||!h.wrapLat&&(r.y<y.min.y||r.y>y.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(r);return At(this.options.bounds).overlaps(C)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var h=this._map,y=this.getTileSize(),C=r.scaleBy(y),O=C.add(y),k=h.unproject(C,r.z),W=h.unproject(O,r.z);return[k,W]},_tileCoordsToBounds:function(r){var h=this._tileCoordsToNwSe(r),y=new vt(h[0],h[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var h=r.split(":"),y=new ut(+h[0],+h[1]);return y.z=+h[2],y},_removeTile:function(r){var h=this._tiles[r];h&&(nn(h.el),delete this._tiles[r],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){ee(r,"leaflet-tile");var h=this.getTileSize();r.style.width=h.x+"px",r.style.height=h.y+"px",r.onselectstart=D,r.onmousemove=D,$t.ielt9&&this.options.opacity<1&&Ce(r,this.options.opacity)},_addTile:function(r,h){var y=this._getTilePos(r),C=this._tileCoordsToKey(r),O=this.createTile(this._wrapCoords(r),E(this._tileReady,this,r));this._initTile(O),this.createTile.length<2&&Dt(E(this._tileReady,this,r,null,O)),Wt(O,y),this._tiles[C]={el:O,coords:r,current:!0},h.appendChild(O),this.fire("tileloadstart",{tile:O,coords:r})},_tileReady:function(r,h,y){h&&this.fire("tileerror",{error:h,tile:y,coords:r});var C=this._tileCoordsToKey(r);y=this._tiles[C],y&&(y.loaded=+new Date,this._map._fadeAnimated?(Ce(y.el,0),Tt(this._fadeFrame),this._fadeFrame=Dt(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),h||(ee(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$t.ielt9||!this._map._fadeAnimated?Dt(this._pruneTiles,this):setTimeout(E(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var h=new ut(this._wrapX?N(r.x,this._wrapX):r.x,this._wrapY?N(r.y,this._wrapY):r.y);return h.z=r.z,h},_pxBoundsToTileRange:function(r){var h=this.getTileSize();return new $(r.min.unscaleBy(h).floor(),r.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Ki(r){return new Zi(r)}var aa=Zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,h){this._url=r,h=j(this,h),h.detectRetina&&$t.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,h){return this._url===r&&h===void 0&&(h=!0),this._url=r,h||this.redraw(),this},createTile:function(r,h){var y=document.createElement("img");return he(y,"load",E(this._tileOnLoad,this,h,y)),he(y,"error",E(this._tileOnError,this,h,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(r),y},getTileUrl:function(r){var h={r:$t.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-r.y;this.options.tms&&(h.y=y),h["-y"]=y}return lt(this._url,p(h,this.options))},_tileOnLoad:function(r,h){$t.ielt9?setTimeout(E(r,this,null,h),0):r(null,h)},_tileOnError:function(r,h,y){var C=this.options.errorTileUrl;C&&h.getAttribute("src")!==C&&(h.src=C),r(y,h)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,h=this.options.maxZoom,y=this.options.zoomReverse,C=this.options.zoomOffset;return y&&(r=h-r),r+C},_getSubdomain:function(r){var h=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var r,h;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(h=this._tiles[r].el,h.onload=D,h.onerror=D,!h.complete)){h.src=bt;var y=this._tiles[r].coords;nn(h),delete this._tiles[r],this.fire("tileabort",{tile:h,coords:y})}},_removeTile:function(r){var h=this._tiles[r];if(h)return h.el.setAttribute("src",bt),Zi.prototype._removeTile.call(this,r)},_tileReady:function(r,h,y){if(!(!this._map||y&&y.getAttribute("src")===bt))return Zi.prototype._tileReady.call(this,r,h,y)}});function Ji(r,h){return new aa(r,h)}var $i=aa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,h){this._url=r;var y=p({},this.defaultWmsParams);for(var C in h)C in this.options||(y[C]=h[C]);h=j(this,h);var O=h.detectRetina&&$t.retina?2:1,k=this.getTileSize();y.width=k.x*O,y.height=k.y*O,this.wmsParams=y},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,aa.prototype.onAdd.call(this,r)},getTileUrl:function(r){var h=this._tileCoordsToNwSe(r),y=this._crs,C=ht(y.project(h[0]),y.project(h[1])),O=C.min,k=C.max,W=(this._wmsVersion>=1.3&&this._crs===ba?[O.y,O.x,k.y,k.x]:[O.x,O.y,k.x,k.y]).join(","),gt=aa.prototype.getTileUrl.call(this,r);return gt+at(this.wmsParams,gt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(r,h){return p(this.wmsParams,r),h||this.redraw(),this}});function ps(r,h){return new $i(r,h)}aa.WMS=$i,Ji.wms=ps;var br=Xn.extend({options:{padding:.1},initialize:function(r){j(this,r),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,h){var y=this._map.getZoomScale(h,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,h),k=C.multiplyBy(-y).add(O).subtract(this._map._getNewPixelOrigin(r,h));$t.any3d?Z(this._container,k,y):Wt(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,h=this._map.getSize(),y=this._map.containerPointToLayerPoint(h.multiplyBy(-r)).round();this._bounds=new $(y,y.add(h.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),to=br.extend({options:{tolerance:0},getEvents:function(){var r=br.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");he(r,"mousemove",this._onMouseMove,this),he(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,nn(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var h in this._layers)r=this._layers[h],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){br.prototype._update.call(this);var r=this._bounds,h=this._container,y=r.getSize(),C=$t.retina?2:1;Wt(h,r.min),h.width=C*y.x,h.height=C*y.y,h.style.width=y.x+"px",h.style.height=y.y+"px",$t.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[M(r)]=r;var h=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var h=r._order,y=h.next,C=h.prev;y?y.prev=C:this._drawLast=C,C?C.next=y:this._drawFirst=y,delete r._order,delete this._layers[M(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var h=r.options.dashArray.split(/[, ]+/),y=[],C,O;for(O=0;O<h.length;O++){if(C=Number(h[O]),isNaN(C))return;y.push(C)}r.options._dashArray=y}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Dt(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var h=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(r._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(r._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var h=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,h=this._redrawBounds;if(this._ctx.save(),h){var y=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)r=C.layer,(!h||r._pxBounds&&r._pxBounds.intersects(h))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,h){if(this._drawing){var y,C,O,k,W=r._parts,gt=W.length,It=this._ctx;if(gt){for(It.beginPath(),y=0;y<gt;y++){for(C=0,O=W[y].length;C<O;C++)k=W[y][C],It[C?"lineTo":"moveTo"](k.x,k.y);h&&It.closePath()}this._fillStroke(It,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var h=r._point,y=this._ctx,C=Math.max(Math.round(r._radius),1),O=(Math.max(Math.round(r._radiusY),1)||C)/C;O!==1&&(y.save(),y.scale(1,O)),y.beginPath(),y.arc(h.x,h.y/O,C,0,Math.PI*2,!1),O!==1&&y.restore(),this._fillStroke(y,r)}},_fillStroke:function(r,h){var y=h.options;y.fill&&(r.globalAlpha=y.fillOpacity,r.fillStyle=y.fillColor||y.color,r.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(r.setLineDash&&r.setLineDash(h.options&&h.options._dashArray||[]),r.globalAlpha=y.opacity,r.lineWidth=y.weight,r.strokeStyle=y.color,r.lineCap=y.lineCap,r.lineJoin=y.lineJoin,r.stroke())},_onClick:function(r){for(var h=this._map.mouseEventToLayerPoint(r),y,C,O=this._drawFirst;O;O=O.next)y=O.layer,y.options.interactive&&y._containsPoint(h)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(y))&&(C=y);this._fireEvent(C?[C]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,h)}},_handleMouseOut:function(r){var h=this._hoveredLayer;h&&(je(this._container,"leaflet-interactive"),this._fireEvent([h],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,h){if(!this._mouseHoverThrottled){for(var y,C,O=this._drawFirst;O;O=O.next)y=O.layer,y.options.interactive&&y._containsPoint(h)&&(C=y);C!==this._hoveredLayer&&(this._handleMouseOut(r),C&&(ee(this._container,"leaflet-interactive"),this._fireEvent([C],r,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(E(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,h,y){this._map._fireDOMEvent(h,y||h.type,r)},_bringToFront:function(r){var h=r._order;if(h){var y=h.next,C=h.prev;if(y)y.prev=C;else return;C?C.next=y:y&&(this._drawFirst=y),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(r)}},_bringToBack:function(r){var h=r._order;if(h){var y=h.next,C=h.prev;if(C)C.next=y;else return;y?y.prev=C:C&&(this._drawLast=C),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(r)}}});function eo(r){return $t.canvas?new to(r):null}var Xa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xs={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(br.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var h=r._container=Xa("shape");ee(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",r._path=Xa("path"),h.appendChild(r._path),this._updateStyle(r),this._layers[M(r)]=r},_addPath:function(r){var h=r._container;this._container.appendChild(h),r.options.interactive&&r.addInteractiveTarget(h)},_removePath:function(r){var h=r._container;nn(h),r.removeInteractiveTarget(h),delete this._layers[M(r)]},_updateStyle:function(r){var h=r._stroke,y=r._fill,C=r.options,O=r._container;O.stroked=!!C.stroke,O.filled=!!C.fill,C.stroke?(h||(h=r._stroke=Xa("stroke")),O.appendChild(h),h.weight=C.weight+"px",h.color=C.color,h.opacity=C.opacity,C.dashArray?h.dashStyle=tt(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=C.lineCap.replace("butt","flat"),h.joinstyle=C.lineJoin):h&&(O.removeChild(h),r._stroke=null),C.fill?(y||(y=r._fill=Xa("fill")),O.appendChild(y),y.color=C.fillColor||C.color,y.opacity=C.fillOpacity):y&&(O.removeChild(y),r._fill=null)},_updateCircle:function(r){var h=r._point.round(),y=Math.round(r._radius),C=Math.round(r._radiusY||y);this._setPath(r,r._empty()?"M0 0":"AL "+h.x+","+h.y+" "+y+","+C+" 0,"+65535*360)},_setPath:function(r,h){r._path.v=h},_bringToFront:function(r){sn(r._container)},_bringToBack:function(r){Ri(r._container)}},no=$t.vml?Xa:Xe,Ia=br.extend({_initContainer:function(){this._container=no("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=no("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nn(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){br.prototype._update.call(this);var r=this._bounds,h=r.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,y.setAttribute("width",h.x),y.setAttribute("height",h.y)),Wt(y,r.min),y.setAttribute("viewBox",[r.min.x,r.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(r){var h=r._path=no("path");r.options.className&&ee(h,r.options.className),r.options.interactive&&ee(h,"leaflet-interactive"),this._updateStyle(r),this._layers[M(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){nn(r._path),r.removeInteractiveTarget(r._path),delete this._layers[M(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var h=r._path,y=r.options;h&&(y.stroke?(h.setAttribute("stroke",y.color),h.setAttribute("stroke-opacity",y.opacity),h.setAttribute("stroke-width",y.weight),h.setAttribute("stroke-linecap",y.lineCap),h.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?h.setAttribute("stroke-dasharray",y.dashArray):h.removeAttribute("stroke-dasharray"),y.dashOffset?h.setAttribute("stroke-dashoffset",y.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),y.fill?(h.setAttribute("fill",y.fillColor||y.color),h.setAttribute("fill-opacity",y.fillOpacity),h.setAttribute("fill-rule",y.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(r,h){this._setPath(r,Kn(r._parts,h))},_updateCircle:function(r){var h=r._point,y=Math.max(Math.round(r._radius),1),C=Math.max(Math.round(r._radiusY),1)||y,O="a"+y+","+C+" 0 1,0 ",k=r._empty()?"M0 0":"M"+(h.x-y)+","+h.y+O+y*2+",0 "+O+-y*2+",0 ";this._setPath(r,k)},_setPath:function(r,h){r._path.setAttribute("d",h)},_bringToFront:function(r){sn(r._path)},_bringToBack:function(r){Ri(r._path)}});$t.vml&&Ia.include(xs);function ja(r){return $t.svg||$t.vml?new Ia(r):null}Ne.include({getRenderer:function(r){var h=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var h=this._paneRenderers[r];return h===void 0&&(h=this._createRenderer({pane:r}),this._paneRenderers[r]=h),h},_createRenderer:function(r){return this.options.preferCanvas&&eo(r)||ja(r)}});var xu=s.extend({initialize:function(r,h){s.prototype.initialize.call(this,this._boundsToLatLngs(r),h)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=At(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function tr(r,h){return new xu(r,h)}Ia.create=no,Ia.pointsToPath=Kn,f.geometryToLayer=g,f.coordsToLatLng=v,f.coordsToLatLngs=b,f.latLngToCoords=I,f.latLngsToCoords=P,f.getFeature=z,f.asFeature=Y,Ne.mergeOptions({boxZoom:!0});var Co=Ei.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),re(),this._startPoint=this._map.mouseEventToContainerPoint(r),he(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var h=new $(this._point,this._startPoint),y=h.getSize();Wt(this._box,h.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(nn(this._box),je(this._container,"leaflet-crosshair")),Va(),ln(),jt(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(E(this._resetState,this),0);var h=new vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ne.addInitHook("addHandler","boxZoom",Co),Ne.mergeOptions({doubleClickZoom:!0});var Xr=Ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var h=this._map,y=h.getZoom(),C=h.options.zoomDelta,O=r.originalEvent.shiftKey?y-C:y+C;h.options.doubleClickZoom==="center"?h.setZoom(O):h.setZoomAround(r.containerPoint,O)}});Ne.addInitHook("addHandler","doubleClickZoom",Xr),Ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hl=Ei.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Gr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){je(this._map._container,"leaflet-grab"),je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=At(this._map.options.maxBounds);this._offsetLimit=ht(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var h=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(h),this._prunePositions(h)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,h){return r-(r-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;r.x<h.min.x&&(r.x=this._viscousLimit(r.x,h.min.x)),r.y<h.min.y&&(r.y=this._viscousLimit(r.y,h.min.y)),r.x>h.max.x&&(r.x=this._viscousLimit(r.x,h.max.x)),r.y>h.max.y&&(r.y=this._viscousLimit(r.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,h=Math.round(r/2),y=this._initialWorldOffset,C=this._draggable._newPos.x,O=(C-h+y)%r+h-y,k=(C+h+y)%r-h-y,W=Math.abs(O+y)<Math.abs(k+y)?O:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(r){var h=this._map,y=h.options,C=!y.inertia||r.noInertia||this._times.length<2;if(h.fire("dragend",r),C)h.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,W=y.easeLinearity,gt=O.multiplyBy(W/k),It=gt.distanceTo([0,0]),Ut=Math.min(y.inertiaMaxSpeed,It),Jt=gt.multiplyBy(Ut/It),ne=Ut/(y.inertiaDeceleration*W),ae=Jt.multiplyBy(-ne/2).round();!ae.x&&!ae.y?h.fire("moveend"):(ae=h._limitOffset(ae,h.options.maxBounds),Dt(function(){h.panBy(ae,{duration:ne,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});Ne.addInitHook("addHandler","dragging",hl),Ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=Ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),he(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,h=document.documentElement,y=r.scrollTop||h.scrollTop,C=r.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(C,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var h=this._panKeys={},y=this.keyCodes,C,O;for(C=0,O=y.left.length;C<O;C++)h[y.left[C]]=[-1*r,0];for(C=0,O=y.right.length;C<O;C++)h[y.right[C]]=[r,0];for(C=0,O=y.down.length;C<O;C++)h[y.down[C]]=[0,r];for(C=0,O=y.up.length;C<O;C++)h[y.up[C]]=[0,-1*r]},_setZoomDelta:function(r){var h=this._zoomKeys={},y=this.keyCodes,C,O;for(C=0,O=y.zoomIn.length;C<O;C++)h[y.zoomIn[C]]=r;for(C=0,O=y.zoomOut.length;C<O;C++)h[y.zoomOut[C]]=-r},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var h=r.keyCode,y=this._map,C;if(h in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(C=this._panKeys[h],r.shiftKey&&(C=U(C).multiplyBy(3)),y.options.maxBounds&&(C=y._limitOffset(U(C),y.options.maxBounds)),y.options.worldCopyJump){var O=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(C)));y.panTo(O)}else y.panBy(C)}else if(h in this._zoomKeys)y.setZoom(y.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;yi(r)}}});Ne.addInitHook("addHandler","keyboard",io),Ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Oa=Ei.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var h=yr(r),y=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var C=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(E(this._performZoom,this),C),yi(r)},_performZoom:function(){var r=this._map,h=r.getZoom(),y=this._map.options.zoomSnap||0;r._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,k=y?Math.ceil(O/y)*y:O,W=r._limitZoom(h+(this._delta>0?k:-k))-h;this._delta=0,this._startTime=null,W&&(r.options.scrollWheelZoom==="center"?r.setZoom(h+W):r.setZoomAround(this._lastMousePos,h+W))}});Ne.addInitHook("addHandler","scrollWheelZoom",Oa);var dl=600;Ne.mergeOptions({tapHold:$t.touchNative&&$t.safari&&$t.mobile,tapTolerance:15});var To=Ei.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var h=r.touches[0];this._startPos=this._newPos=new ut(h.clientX,h.clientY),this._holdTimeout=setTimeout(E(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",Ln),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),dl),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){jt(document,"touchend",Ln),jt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(r){var h=r.touches[0];this._newPos=new ut(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,h){var y=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});y._simulated=!0,h.target.dispatchEvent(y)}});Ne.addInitHook("addHandler","tapHold",To),Ne.mergeOptions({touchZoom:$t.touch,bounceAtZoomLimits:!0});var qa=Ei.extend({addHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){je(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var h=this._map;if(!(!r.touches||r.touches.length!==2||h._animatingZoom||this._zooming)){var y=h.mouseEventToContainerPoint(r.touches[0]),C=h.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(y.add(C)._divideBy(2))),this._startDist=y.distanceTo(C),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),Ln(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var h=this._map,y=h.mouseEventToContainerPoint(r.touches[0]),C=h.mouseEventToContainerPoint(r.touches[1]),O=y.distanceTo(C)/this._startDist;if(this._zoom=h.getScaleZoom(O,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&O<1||this._zoom>h.getMaxZoom()&&O>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var k=y._add(C)._divideBy(2)._subtract(this._centerPoint);if(O===1&&k.x===0&&k.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var W=E(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Dt(W,this,!0),Ln(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Tt(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ne.addInitHook("addHandler","touchZoom",qa),Ne.BoxZoom=Co,Ne.DoubleClickZoom=Xr,Ne.Drag=hl,Ne.Keyboard=io,Ne.ScrollWheelZoom=Oa,Ne.TapHold=To,Ne.TouchZoom=qa,u.Bounds=$,u.Browser=$t,u.CRS=se,u.Canvas=to,u.Circle=Na,u.CircleMarker=Sr,u.Class=X,u.Control=vi,u.DivIcon=di,u.DivOverlay=dn,u.DomEvent=wi,u.DomUtil=Un,u.Draggable=Gr,u.Evented=J,u.FeatureGroup=Ai,u.GeoJSON=f,u.GridLayer=Zi,u.Handler=Ei,u.Icon=Ca,u.ImageOverlay=Et,u.LatLng=kt,u.LatLngBounds=vt,u.Layer=Xn,u.LayerGroup=ur,u.LineUtil=Js,u.Map=Ne,u.Marker=fi,u.Mixin=Ao,u.Path=Qi,u.Point=ut,u.PolyUtil=Ks,u.Polygon=s,u.Polyline=e,u.Popup=hi,u.PosAnimation=Ya,u.Projection=gs,u.Rectangle=xu,u.Renderer=br,u.SVG=Ia,u.SVGOverlay=ye,u.TileLayer=aa,u.Tooltip=qe,u.Transformation=Ye,u.Util=Lt,u.VideoOverlay=Gt,u.bind=E,u.bounds=ht,u.canvas=eo,u.circle=B,u.circleMarker=ke,u.control=wa,u.divIcon=ra,u.extend=p,u.featureGroup=Si,u.geoJSON=it,u.geoJson=pt,u.gridLayer=Ki,u.icon=Ta,u.imageOverlay=Zt,u.latLng=_t,u.latLngBounds=At,u.layerGroup=Li,u.map=ya,u.marker=$s,u.point=U,u.polygon=c,u.polyline=i,u.popup=bi,u.rectangle=tr,u.setOptions=j,u.stamp=M,u.svg=ja,u.svgOverlay=we,u.tileLayer=Ji,u.tooltip=ii,u.transformation=xn,u.version=m,u.videoOverlay=Ht;var _s=window.L;u.noConflict=function(){return window.L=_s,this},window.L=u})}(eu,eu.exports)),eu.exports}var du=J_();const Km=Fc(du);function dd(a,o,u){return Object.freeze({instance:a,context:o,container:u})}function gd(a,o){return o==null?function(m,p){const _=xt.useRef(void 0);return _.current||(_.current=a(m,p)),_}:function(m,p){const _=xt.useRef(void 0);_.current||(_.current=a(m,p));const E=xt.useRef(m),{instance:T}=_.current;return xt.useEffect(function(){E.current!==m&&(o(T,m,E.current),E.current=m)},[T,m,o]),_}}function $_(a,o){xt.useEffect(function(){return(o.layerContainer??o.map).addLayer(a.instance),function(){var _;(_=o.layerContainer)==null||_.removeLayer(a.instance),o.map.removeLayer(a.instance)}},[o,a])}function Jm(a){return function(u){const m=fd(),p=a(hd(u,m),m);return Wm(m.map,u.attribution),Qm(p.current,u.eventHandlers),$_(p.current,m),p}}function ty(a,o){const u=gd(a,o),m=Jm(u);return j_(m)}function ey(a,o){const u=gd(a),m=Q_(u,o);return q_(m)}function ny(a,o){const u=gd(a,o),m=Jm(u);return W_(m)}function iy(a,o,u){const{opacity:m,zIndex:p}=o;m!=null&&m!==u.opacity&&a.setOpacity(m),p!=null&&p!==u.zIndex&&a.setZIndex(p)}function ry(){return fd().map}function ay({bounds:a,boundsOptions:o,center:u,children:m,className:p,id:_,placeholder:E,style:T,whenReady:M,zoom:S,...N},D){const[H]=xt.useState({className:p,id:_,style:T}),[V,rt]=xt.useState(null),j=xt.useRef(void 0);xt.useImperativeHandle(D,()=>(V==null?void 0:V.map)??null,[V]);const at=xt.useCallback(lt=>{if(lt!==null&&!j.current){const tt=new du.Map(lt,N);j.current=tt,u!=null&&S!=null?tt.setView(u,S):a!=null&&tt.fitBounds(a,o),M!=null&&tt.whenReady(M),rt(Y_(tt))}},[]);xt.useEffect(()=>()=>{V==null||V.map.remove()},[V]);const et=V?Ft.createElement(cd,{value:V},m):E??null;return Ft.createElement("div",{...H,ref:at},et)}const sy=xt.forwardRef(ay),oy=ty(function({position:o,...u},m){const p=new du.Marker(o,u);return dd(p,X_(m,{overlayContainer:p}))},function(o,u,m){u.position!==m.position&&o.setLatLng(u.position),u.icon!=null&&u.icon!==m.icon&&o.setIcon(u.icon),u.zIndexOffset!=null&&u.zIndexOffset!==m.zIndexOffset&&o.setZIndexOffset(u.zIndexOffset),u.opacity!=null&&u.opacity!==m.opacity&&o.setOpacity(u.opacity),o.dragging!=null&&u.draggable!==m.draggable&&(u.draggable===!0?o.dragging.enable():o.dragging.disable())}),ly=ey(function(o,u){const m=new du.Popup(o,u.overlayContainer);return dd(m,u)},function(o,u,{position:m},p){xt.useEffect(function(){const{instance:E}=o;function T(S){S.popup===E&&(E.update(),p(!0))}function M(S){S.popup===E&&p(!1)}return u.map.on({popupopen:T,popupclose:M}),u.overlayContainer==null?(m!=null&&E.setLatLng(m),E.openOn(u.map)):u.overlayContainer.bindPopup(E),function(){var N;u.map.off({popupopen:T,popupclose:M}),(N=u.overlayContainer)==null||N.unbindPopup(),u.map.removeLayer(E)}},[o,u,p,m])}),uy=ny(function({url:o,...u},m){const p=new du.TileLayer(o,hd(u,m));return dd(p,m)},function(o,u,m){iy(o,u,m);const{url:p}=u;p!=null&&p!==m.url&&o.setUrl(p)}),cy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",fy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",hy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function Pr(a){if(typeof a=="string"||typeof a=="number")return""+a;let o="";if(Array.isArray(a))for(let u=0,m;u<a.length;u++)(m=Pr(a[u]))!==""&&(o+=(o&&" ")+m);else for(let u in a)a[u]&&(o+=(o&&" ")+u);return o}var Nh={exports:{}},Ih={},Oh={exports:{}},Dh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function dy(){if(jg)return Dh;jg=1;var a=hu();function o(D,H){return D===H&&(D!==0||1/D===1/H)||D!==D&&H!==H}var u=typeof Object.is=="function"?Object.is:o,m=a.useState,p=a.useEffect,_=a.useLayoutEffect,E=a.useDebugValue;function T(D,H){var V=H(),rt=m({inst:{value:V,getSnapshot:H}}),j=rt[0].inst,at=rt[1];return _(function(){j.value=V,j.getSnapshot=H,M(j)&&at({inst:j})},[D,V,H]),p(function(){return M(j)&&at({inst:j}),D(function(){M(j)&&at({inst:j})})},[D]),E(V),V}function M(D){var H=D.getSnapshot;D=D.value;try{var V=H();return!u(D,V)}catch{return!0}}function S(D,H){return H()}var N=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S:T;return Dh.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:N,Dh}var qg;function gy(){return qg||(qg=1,Oh.exports=dy()),Oh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function my(){if(Wg)return Ih;Wg=1;var a=hu(),o=gy();function u(S,N){return S===N&&(S!==0||1/S===1/N)||S!==S&&N!==N}var m=typeof Object.is=="function"?Object.is:u,p=o.useSyncExternalStore,_=a.useRef,E=a.useEffect,T=a.useMemo,M=a.useDebugValue;return Ih.useSyncExternalStoreWithSelector=function(S,N,D,H,V){var rt=_(null);if(rt.current===null){var j={hasValue:!1,value:null};rt.current=j}else j=rt.current;rt=T(function(){function et(Nt){if(!lt){if(lt=!0,tt=Nt,Nt=H(Nt),V!==void 0&&j.hasValue){var ft=j.value;if(V(ft,Nt))return nt=ft}return nt=Nt}if(ft=nt,m(tt,Nt))return ft;var Ot=H(Nt);return V!==void 0&&V(ft,Ot)?(tt=Nt,ft):(tt=Nt,nt=Ot)}var lt=!1,tt,nt,bt=D===void 0?null:D;return[function(){return et(N())},bt===null?void 0:function(){return et(bt())}]},[N,D,H,V]);var at=p(S,rt[0],rt[1]);return E(function(){j.hasValue=!0,j.value=at},[at]),M(at),at},Ih}var Qg;function py(){return Qg||(Qg=1,Nh.exports=my()),Nh.exports}var xy=py();const _y=Fc(xy),yy={},Kg=a=>{let o;const u=new Set,m=(N,D)=>{const H=typeof N=="function"?N(o):N;if(!Object.is(H,o)){const V=o;o=D??(typeof H!="object"||H===null)?H:Object.assign({},o,H),u.forEach(rt=>rt(o,V))}},p=()=>o,M={setState:m,getState:p,getInitialState:()=>S,subscribe:N=>(u.add(N),()=>u.delete(N)),destroy:()=>{(yy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),u.clear()}},S=o=a(m,p,M);return M},wy=a=>a?Kg(a):Kg,{useDebugValue:vy}=Ft,{useSyncExternalStoreWithSelector:Ey}=_y,Ay=a=>a;function $m(a,o=Ay,u){const m=Ey(a.subscribe,a.getState,a.getServerState||a.getInitialState,o,u);return vy(m),m}const Jg=(a,o)=>{const u=wy(a),m=(p,_=o)=>$m(u,p,_);return Object.assign(m,u),m},Sy=(a,o)=>a?Jg(a,o):Jg;function er(a,o){if(Object.is(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;if(a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(const[m,p]of a)if(!Object.is(p,o.get(m)))return!1;return!0}if(a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(const m of a)if(!o.has(m))return!1;return!0}const u=Object.keys(a);if(u.length!==Object.keys(o).length)return!1;for(const m of u)if(!Object.prototype.hasOwnProperty.call(o,m)||!Object.is(a[m],o[m]))return!1;return!0}var by={value:()=>{}};function Hc(){for(var a=0,o=arguments.length,u={},m;a<o;++a){if(!(m=arguments[a]+"")||m in u||/[\s.]/.test(m))throw new Error("illegal type: "+m);u[m]=[]}return new Sc(u)}function Sc(a){this._=a}function Cy(a,o){return a.trim().split(/^|\s+/).map(function(u){var m="",p=u.indexOf(".");if(p>=0&&(m=u.slice(p+1),u=u.slice(0,p)),u&&!o.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:m}})}Sc.prototype=Hc.prototype={constructor:Sc,on:function(a,o){var u=this._,m=Cy(a+"",u),p,_=-1,E=m.length;if(arguments.length<2){for(;++_<E;)if((p=(a=m[_]).type)&&(p=Ty(u[p],a.name)))return p;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++_<E;)if(p=(a=m[_]).type)u[p]=$g(u[p],a.name,o);else if(o==null)for(p in u)u[p]=$g(u[p],a.name,null);return this},copy:function(){var a={},o=this._;for(var u in o)a[u]=o[u].slice();return new Sc(a)},call:function(a,o){if((p=arguments.length-2)>0)for(var u=new Array(p),m=0,p,_;m<p;++m)u[m]=arguments[m+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(_=this._[a],m=0,p=_.length;m<p;++m)_[m].value.apply(o,u)},apply:function(a,o,u){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var m=this._[a],p=0,_=m.length;p<_;++p)m[p].value.apply(o,u)}};function Ty(a,o){for(var u=0,m=a.length,p;u<m;++u)if((p=a[u]).name===o)return p.value}function $g(a,o,u){for(var m=0,p=a.length;m<p;++m)if(a[m].name===o){a[m]=by,a=a.slice(0,m).concat(a.slice(m+1));break}return u!=null&&a.push({name:o,value:u}),a}var Gh="http://www.w3.org/1999/xhtml";const tm={svg:"http://www.w3.org/2000/svg",xhtml:Gh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zc(a){var o=a+="",u=o.indexOf(":");return u>=0&&(o=a.slice(0,u))!=="xmlns"&&(a=a.slice(u+1)),tm.hasOwnProperty(o)?{space:tm[o],local:a}:a}function My(a){return function(){var o=this.ownerDocument,u=this.namespaceURI;return u===Gh&&o.documentElement.namespaceURI===Gh?o.createElement(a):o.createElementNS(u,a)}}function Ny(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function tp(a){var o=Zc(a);return(o.local?Ny:My)(o)}function Iy(){}function md(a){return a==null?Iy:function(){return this.querySelector(a)}}function Oy(a){typeof a!="function"&&(a=md(a));for(var o=this._groups,u=o.length,m=new Array(u),p=0;p<u;++p)for(var _=o[p],E=_.length,T=m[p]=new Array(E),M,S,N=0;N<E;++N)(M=_[N])&&(S=a.call(M,M.__data__,N,_))&&("__data__"in M&&(S.__data__=M.__data__),T[N]=S);return new Br(m,this._parents)}function Dy(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function Ry(){return[]}function ep(a){return a==null?Ry:function(){return this.querySelectorAll(a)}}function Ly(a){return function(){return Dy(a.apply(this,arguments))}}function By(a){typeof a=="function"?a=Ly(a):a=ep(a);for(var o=this._groups,u=o.length,m=[],p=[],_=0;_<u;++_)for(var E=o[_],T=E.length,M,S=0;S<T;++S)(M=E[S])&&(m.push(a.call(M,M.__data__,S,E)),p.push(M));return new Br(m,p)}function np(a){return function(){return this.matches(a)}}function ip(a){return function(o){return o.matches(a)}}var Py=Array.prototype.find;function zy(a){return function(){return Py.call(this.children,a)}}function ky(){return this.firstElementChild}function Uy(a){return this.select(a==null?ky:zy(typeof a=="function"?a:ip(a)))}var Fy=Array.prototype.filter;function Hy(){return Array.from(this.children)}function Zy(a){return function(){return Fy.call(this.children,a)}}function Vy(a){return this.selectAll(a==null?Hy:Zy(typeof a=="function"?a:ip(a)))}function Gy(a){typeof a!="function"&&(a=np(a));for(var o=this._groups,u=o.length,m=new Array(u),p=0;p<u;++p)for(var _=o[p],E=_.length,T=m[p]=[],M,S=0;S<E;++S)(M=_[S])&&a.call(M,M.__data__,S,_)&&T.push(M);return new Br(m,this._parents)}function rp(a){return new Array(a.length)}function Yy(){return new Br(this._enter||this._groups.map(rp),this._parents)}function Ic(a,o){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=o}Ic.prototype={constructor:Ic,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,o){return this._parent.insertBefore(a,o)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function Xy(a){return function(){return a}}function jy(a,o,u,m,p,_){for(var E=0,T,M=o.length,S=_.length;E<S;++E)(T=o[E])?(T.__data__=_[E],m[E]=T):u[E]=new Ic(a,_[E]);for(;E<M;++E)(T=o[E])&&(p[E]=T)}function qy(a,o,u,m,p,_,E){var T,M,S=new Map,N=o.length,D=_.length,H=new Array(N),V;for(T=0;T<N;++T)(M=o[T])&&(H[T]=V=E.call(M,M.__data__,T,o)+"",S.has(V)?p[T]=M:S.set(V,M));for(T=0;T<D;++T)V=E.call(a,_[T],T,_)+"",(M=S.get(V))?(m[T]=M,M.__data__=_[T],S.delete(V)):u[T]=new Ic(a,_[T]);for(T=0;T<N;++T)(M=o[T])&&S.get(H[T])===M&&(p[T]=M)}function Wy(a){return a.__data__}function Qy(a,o){if(!arguments.length)return Array.from(this,Wy);var u=o?qy:jy,m=this._parents,p=this._groups;typeof a!="function"&&(a=Xy(a));for(var _=p.length,E=new Array(_),T=new Array(_),M=new Array(_),S=0;S<_;++S){var N=m[S],D=p[S],H=D.length,V=Ky(a.call(N,N&&N.__data__,S,m)),rt=V.length,j=T[S]=new Array(rt),at=E[S]=new Array(rt),et=M[S]=new Array(H);u(N,D,j,at,et,V,o);for(var lt=0,tt=0,nt,bt;lt<rt;++lt)if(nt=j[lt]){for(lt>=tt&&(tt=lt+1);!(bt=at[tt])&&++tt<rt;);nt._next=bt||null}}return E=new Br(E,m),E._enter=T,E._exit=M,E}function Ky(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function Jy(){return new Br(this._exit||this._groups.map(rp),this._parents)}function $y(a,o,u){var m=this.enter(),p=this,_=this.exit();return typeof a=="function"?(m=a(m),m&&(m=m.selection())):m=m.append(a+""),o!=null&&(p=o(p),p&&(p=p.selection())),u==null?_.remove():u(_),m&&p?m.merge(p).order():p}function tw(a){for(var o=a.selection?a.selection():a,u=this._groups,m=o._groups,p=u.length,_=m.length,E=Math.min(p,_),T=new Array(p),M=0;M<E;++M)for(var S=u[M],N=m[M],D=S.length,H=T[M]=new Array(D),V,rt=0;rt<D;++rt)(V=S[rt]||N[rt])&&(H[rt]=V);for(;M<p;++M)T[M]=u[M];return new Br(T,this._parents)}function ew(){for(var a=this._groups,o=-1,u=a.length;++o<u;)for(var m=a[o],p=m.length-1,_=m[p],E;--p>=0;)(E=m[p])&&(_&&E.compareDocumentPosition(_)^4&&_.parentNode.insertBefore(E,_),_=E);return this}function nw(a){a||(a=iw);function o(D,H){return D&&H?a(D.__data__,H.__data__):!D-!H}for(var u=this._groups,m=u.length,p=new Array(m),_=0;_<m;++_){for(var E=u[_],T=E.length,M=p[_]=new Array(T),S,N=0;N<T;++N)(S=E[N])&&(M[N]=S);M.sort(o)}return new Br(p,this._parents).order()}function iw(a,o){return a<o?-1:a>o?1:a>=o?0:NaN}function rw(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function aw(){return Array.from(this)}function sw(){for(var a=this._groups,o=0,u=a.length;o<u;++o)for(var m=a[o],p=0,_=m.length;p<_;++p){var E=m[p];if(E)return E}return null}function ow(){let a=0;for(const o of this)++a;return a}function lw(){return!this.node()}function uw(a){for(var o=this._groups,u=0,m=o.length;u<m;++u)for(var p=o[u],_=0,E=p.length,T;_<E;++_)(T=p[_])&&a.call(T,T.__data__,_,p);return this}function cw(a){return function(){this.removeAttribute(a)}}function fw(a){return function(){this.removeAttributeNS(a.space,a.local)}}function hw(a,o){return function(){this.setAttribute(a,o)}}function dw(a,o){return function(){this.setAttributeNS(a.space,a.local,o)}}function gw(a,o){return function(){var u=o.apply(this,arguments);u==null?this.removeAttribute(a):this.setAttribute(a,u)}}function mw(a,o){return function(){var u=o.apply(this,arguments);u==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,u)}}function pw(a,o){var u=Zc(a);if(arguments.length<2){var m=this.node();return u.local?m.getAttributeNS(u.space,u.local):m.getAttribute(u)}return this.each((o==null?u.local?fw:cw:typeof o=="function"?u.local?mw:gw:u.local?dw:hw)(u,o))}function ap(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function xw(a){return function(){this.style.removeProperty(a)}}function _w(a,o,u){return function(){this.style.setProperty(a,o,u)}}function yw(a,o,u){return function(){var m=o.apply(this,arguments);m==null?this.style.removeProperty(a):this.style.setProperty(a,m,u)}}function ww(a,o,u){return arguments.length>1?this.each((o==null?xw:typeof o=="function"?yw:_w)(a,o,u??"")):sl(this.node(),a)}function sl(a,o){return a.style.getPropertyValue(o)||ap(a).getComputedStyle(a,null).getPropertyValue(o)}function vw(a){return function(){delete this[a]}}function Ew(a,o){return function(){this[a]=o}}function Aw(a,o){return function(){var u=o.apply(this,arguments);u==null?delete this[a]:this[a]=u}}function Sw(a,o){return arguments.length>1?this.each((o==null?vw:typeof o=="function"?Aw:Ew)(a,o)):this.node()[a]}function sp(a){return a.trim().split(/^|\s+/)}function pd(a){return a.classList||new op(a)}function op(a){this._node=a,this._names=sp(a.getAttribute("class")||"")}op.prototype={add:function(a){var o=this._names.indexOf(a);o<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var o=this._names.indexOf(a);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function lp(a,o){for(var u=pd(a),m=-1,p=o.length;++m<p;)u.add(o[m])}function up(a,o){for(var u=pd(a),m=-1,p=o.length;++m<p;)u.remove(o[m])}function bw(a){return function(){lp(this,a)}}function Cw(a){return function(){up(this,a)}}function Tw(a,o){return function(){(o.apply(this,arguments)?lp:up)(this,a)}}function Mw(a,o){var u=sp(a+"");if(arguments.length<2){for(var m=pd(this.node()),p=-1,_=u.length;++p<_;)if(!m.contains(u[p]))return!1;return!0}return this.each((typeof o=="function"?Tw:o?bw:Cw)(u,o))}function Nw(){this.textContent=""}function Iw(a){return function(){this.textContent=a}}function Ow(a){return function(){var o=a.apply(this,arguments);this.textContent=o??""}}function Dw(a){return arguments.length?this.each(a==null?Nw:(typeof a=="function"?Ow:Iw)(a)):this.node().textContent}function Rw(){this.innerHTML=""}function Lw(a){return function(){this.innerHTML=a}}function Bw(a){return function(){var o=a.apply(this,arguments);this.innerHTML=o??""}}function Pw(a){return arguments.length?this.each(a==null?Rw:(typeof a=="function"?Bw:Lw)(a)):this.node().innerHTML}function zw(){this.nextSibling&&this.parentNode.appendChild(this)}function kw(){return this.each(zw)}function Uw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fw(){return this.each(Uw)}function Hw(a){var o=typeof a=="function"?a:tp(a);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function Zw(){return null}function Vw(a,o){var u=typeof a=="function"?a:tp(a),m=o==null?Zw:typeof o=="function"?o:md(o);return this.select(function(){return this.insertBefore(u.apply(this,arguments),m.apply(this,arguments)||null)})}function Gw(){var a=this.parentNode;a&&a.removeChild(this)}function Yw(){return this.each(Gw)}function Xw(){var a=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(a,this.nextSibling):a}function jw(){var a=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(a,this.nextSibling):a}function qw(a){return this.select(a?jw:Xw)}function Ww(a){return arguments.length?this.property("__data__",a):this.node().__data__}function Qw(a){return function(o){a.call(this,o,this.__data__)}}function Kw(a){return a.trim().split(/^|\s+/).map(function(o){var u="",m=o.indexOf(".");return m>=0&&(u=o.slice(m+1),o=o.slice(0,m)),{type:o,name:u}})}function Jw(a){return function(){var o=this.__on;if(o){for(var u=0,m=-1,p=o.length,_;u<p;++u)_=o[u],(!a.type||_.type===a.type)&&_.name===a.name?this.removeEventListener(_.type,_.listener,_.options):o[++m]=_;++m?o.length=m:delete this.__on}}}function $w(a,o,u){return function(){var m=this.__on,p,_=Qw(o);if(m){for(var E=0,T=m.length;E<T;++E)if((p=m[E]).type===a.type&&p.name===a.name){this.removeEventListener(p.type,p.listener,p.options),this.addEventListener(p.type,p.listener=_,p.options=u),p.value=o;return}}this.addEventListener(a.type,_,u),p={type:a.type,name:a.name,value:o,listener:_,options:u},m?m.push(p):this.__on=[p]}}function tv(a,o,u){var m=Kw(a+""),p,_=m.length,E;if(arguments.length<2){var T=this.node().__on;if(T){for(var M=0,S=T.length,N;M<S;++M)for(p=0,N=T[M];p<_;++p)if((E=m[p]).type===N.type&&E.name===N.name)return N.value}return}for(T=o?$w:Jw,p=0;p<_;++p)this.each(T(m[p],o,u));return this}function cp(a,o,u){var m=ap(a),p=m.CustomEvent;typeof p=="function"?p=new p(o,u):(p=m.document.createEvent("Event"),u?(p.initEvent(o,u.bubbles,u.cancelable),p.detail=u.detail):p.initEvent(o,!1,!1)),a.dispatchEvent(p)}function ev(a,o){return function(){return cp(this,a,o)}}function nv(a,o){return function(){return cp(this,a,o.apply(this,arguments))}}function iv(a,o){return this.each((typeof o=="function"?nv:ev)(a,o))}function*rv(){for(var a=this._groups,o=0,u=a.length;o<u;++o)for(var m=a[o],p=0,_=m.length,E;p<_;++p)(E=m[p])&&(yield E)}var fp=[null];function Br(a,o){this._groups=a,this._parents=o}function gu(){return new Br([[document.documentElement]],fp)}function av(){return this}Br.prototype=gu.prototype={constructor:Br,select:Oy,selectAll:By,selectChild:Uy,selectChildren:Vy,filter:Gy,data:Qy,enter:Yy,exit:Jy,join:$y,merge:tw,selection:av,order:ew,sort:nw,call:rw,nodes:aw,node:sw,size:ow,empty:lw,each:uw,attr:pw,style:ww,property:Sw,classed:Mw,text:Dw,html:Pw,raise:kw,lower:Fw,append:Hw,insert:Vw,remove:Yw,clone:qw,datum:Ww,on:tv,dispatch:iv,[Symbol.iterator]:rv};function fa(a){return typeof a=="string"?new Br([[document.querySelector(a)]],[document.documentElement]):new Br([[a]],fp)}function sv(a){let o;for(;o=a.sourceEvent;)a=o;return a}function ka(a,o){if(a=sv(a),o===void 0&&(o=a.currentTarget),o){var u=o.ownerSVGElement||o;if(u.createSVGPoint){var m=u.createSVGPoint();return m.x=a.clientX,m.y=a.clientY,m=m.matrixTransform(o.getScreenCTM().inverse()),[m.x,m.y]}if(o.getBoundingClientRect){var p=o.getBoundingClientRect();return[a.clientX-p.left-o.clientLeft,a.clientY-p.top-o.clientTop]}}return[a.pageX,a.pageY]}const ov={passive:!1},au={capture:!0,passive:!1};function Rh(a){a.stopImmediatePropagation()}function nl(a){a.preventDefault(),a.stopImmediatePropagation()}function hp(a){var o=a.document.documentElement,u=fa(a).on("dragstart.drag",nl,au);"onselectstart"in o?u.on("selectstart.drag",nl,au):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function dp(a,o){var u=a.document.documentElement,m=fa(a).on("dragstart.drag",null);o&&(m.on("click.drag",nl,au),setTimeout(function(){m.on("click.drag",null)},0)),"onselectstart"in u?m.on("selectstart.drag",null):(u.style.MozUserSelect=u.__noselect,delete u.__noselect)}const mc=a=>()=>a;function Yh(a,{sourceEvent:o,subject:u,target:m,identifier:p,active:_,x:E,y:T,dx:M,dy:S,dispatch:N}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:u,enumerable:!0,configurable:!0},target:{value:m,enumerable:!0,configurable:!0},identifier:{value:p,enumerable:!0,configurable:!0},active:{value:_,enumerable:!0,configurable:!0},x:{value:E,enumerable:!0,configurable:!0},y:{value:T,enumerable:!0,configurable:!0},dx:{value:M,enumerable:!0,configurable:!0},dy:{value:S,enumerable:!0,configurable:!0},_:{value:N}})}Yh.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};function lv(a){return!a.ctrlKey&&!a.button}function uv(){return this.parentNode}function cv(a,o){return o??{x:a.x,y:a.y}}function fv(){return navigator.maxTouchPoints||"ontouchstart"in this}function hv(){var a=lv,o=uv,u=cv,m=fv,p={},_=Hc("start","drag","end"),E=0,T,M,S,N,D=0;function H(nt){nt.on("mousedown.drag",V).filter(m).on("touchstart.drag",at).on("touchmove.drag",et,ov).on("touchend.drag touchcancel.drag",lt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function V(nt,bt){if(!(N||!a.call(this,nt,bt))){var Nt=tt(this,o.call(this,nt,bt),nt,bt,"mouse");Nt&&(fa(nt.view).on("mousemove.drag",rt,au).on("mouseup.drag",j,au),hp(nt.view),Rh(nt),S=!1,T=nt.clientX,M=nt.clientY,Nt("start",nt))}}function rt(nt){if(nl(nt),!S){var bt=nt.clientX-T,Nt=nt.clientY-M;S=bt*bt+Nt*Nt>D}p.mouse("drag",nt)}function j(nt){fa(nt.view).on("mousemove.drag mouseup.drag",null),dp(nt.view,S),nl(nt),p.mouse("end",nt)}function at(nt,bt){if(a.call(this,nt,bt)){var Nt=nt.changedTouches,ft=o.call(this,nt,bt),Ot=Nt.length,st,Yt;for(st=0;st<Ot;++st)(Yt=tt(this,ft,nt,bt,Nt[st].identifier,Nt[st]))&&(Rh(nt),Yt("start",nt,Nt[st]))}}function et(nt){var bt=nt.changedTouches,Nt=bt.length,ft,Ot;for(ft=0;ft<Nt;++ft)(Ot=p[bt[ft].identifier])&&(nl(nt),Ot("drag",nt,bt[ft]))}function lt(nt){var bt=nt.changedTouches,Nt=bt.length,ft,Ot;for(N&&clearTimeout(N),N=setTimeout(function(){N=null},500),ft=0;ft<Nt;++ft)(Ot=p[bt[ft].identifier])&&(Rh(nt),Ot("end",nt,bt[ft]))}function tt(nt,bt,Nt,ft,Ot,st){var Yt=_.copy(),Dt=ka(st||Nt,bt),Tt,Lt,X;if((X=u.call(nt,new Yh("beforestart",{sourceEvent:Nt,target:H,identifier:Ot,active:E,x:Dt[0],y:Dt[1],dx:0,dy:0,dispatch:Yt}),ft))!=null)return Tt=X.x-Dt[0]||0,Lt=X.y-Dt[1]||0,function q(G,J,ut){var ct=Dt,U;switch(G){case"start":p[Ot]=q,U=E++;break;case"end":delete p[Ot],--E;case"drag":Dt=ka(ut||J,bt),U=E;break}Yt.call(G,nt,new Yh(G,{sourceEvent:J,subject:X,target:H,identifier:Ot,active:U,x:Dt[0]+Tt,y:Dt[1]+Lt,dx:Dt[0]-ct[0],dy:Dt[1]-ct[1],dispatch:Yt}),ft)}}return H.filter=function(nt){return arguments.length?(a=typeof nt=="function"?nt:mc(!!nt),H):a},H.container=function(nt){return arguments.length?(o=typeof nt=="function"?nt:mc(nt),H):o},H.subject=function(nt){return arguments.length?(u=typeof nt=="function"?nt:mc(nt),H):u},H.touchable=function(nt){return arguments.length?(m=typeof nt=="function"?nt:mc(!!nt),H):m},H.on=function(){var nt=_.on.apply(_,arguments);return nt===_?H:nt},H.clickDistance=function(nt){return arguments.length?(D=(nt=+nt)*nt,H):Math.sqrt(D)},H}function xd(a,o,u){a.prototype=o.prototype=u,u.constructor=a}function gp(a,o){var u=Object.create(a.prototype);for(var m in o)u[m]=o[m];return u}function mu(){}var su=.7,Oc=1/su,il="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dv=/^#([0-9a-f]{3,8})$/,gv=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),mv=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),pv=new RegExp(`^rgba\\(${il},${il},${il},${ou}\\)$`),xv=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${ou}\\)$`),_v=new RegExp(`^hsl\\(${ou},${Ua},${Ua}\\)$`),yv=new RegExp(`^hsla\\(${ou},${Ua},${Ua},${ou}\\)$`),em={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xd(mu,lu,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:nm,formatHex:nm,formatHex8:wv,formatHsl:vv,formatRgb:im,toString:im});function nm(){return this.rgb().formatHex()}function wv(){return this.rgb().formatHex8()}function vv(){return mp(this).formatHsl()}function im(){return this.rgb().formatRgb()}function lu(a){var o,u;return a=(a+"").trim().toLowerCase(),(o=dv.exec(a))?(u=o[1].length,o=parseInt(o[1],16),u===6?rm(o):u===3?new gr(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):u===8?pc(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):u===4?pc(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=gv.exec(a))?new gr(o[1],o[2],o[3],1):(o=mv.exec(a))?new gr(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=pv.exec(a))?pc(o[1],o[2],o[3],o[4]):(o=xv.exec(a))?pc(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=_v.exec(a))?om(o[1],o[2]/100,o[3]/100,1):(o=yv.exec(a))?om(o[1],o[2]/100,o[3]/100,o[4]):em.hasOwnProperty(a)?rm(em[a]):a==="transparent"?new gr(NaN,NaN,NaN,0):null}function rm(a){return new gr(a>>16&255,a>>8&255,a&255,1)}function pc(a,o,u,m){return m<=0&&(a=o=u=NaN),new gr(a,o,u,m)}function Ev(a){return a instanceof mu||(a=lu(a)),a?(a=a.rgb(),new gr(a.r,a.g,a.b,a.opacity)):new gr}function Xh(a,o,u,m){return arguments.length===1?Ev(a):new gr(a,o,u,m??1)}function gr(a,o,u,m){this.r=+a,this.g=+o,this.b=+u,this.opacity=+m}xd(gr,Xh,gp(mu,{brighter(a){return a=a==null?Oc:Math.pow(Oc,a),new gr(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?su:Math.pow(su,a),new gr(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new gr(yo(this.r),yo(this.g),yo(this.b),Dc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:am,formatHex:am,formatHex8:Av,formatRgb:sm,toString:sm}));function am(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}`}function Av(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}${xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function sm(){const a=Dc(this.opacity);return`${a===1?"rgb(":"rgba("}${yo(this.r)}, ${yo(this.g)}, ${yo(this.b)}${a===1?")":`, ${a})`}`}function Dc(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function yo(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function xo(a){return a=yo(a),(a<16?"0":"")+a.toString(16)}function om(a,o,u,m){return m<=0?a=o=u=NaN:u<=0||u>=1?a=o=NaN:o<=0&&(a=NaN),new ha(a,o,u,m)}function mp(a){if(a instanceof ha)return new ha(a.h,a.s,a.l,a.opacity);if(a instanceof mu||(a=lu(a)),!a)return new ha;if(a instanceof ha)return a;a=a.rgb();var o=a.r/255,u=a.g/255,m=a.b/255,p=Math.min(o,u,m),_=Math.max(o,u,m),E=NaN,T=_-p,M=(_+p)/2;return T?(o===_?E=(u-m)/T+(u<m)*6:u===_?E=(m-o)/T+2:E=(o-u)/T+4,T/=M<.5?_+p:2-_-p,E*=60):T=M>0&&M<1?0:E,new ha(E,T,M,a.opacity)}function Sv(a,o,u,m){return arguments.length===1?mp(a):new ha(a,o,u,m??1)}function ha(a,o,u,m){this.h=+a,this.s=+o,this.l=+u,this.opacity=+m}xd(ha,Sv,gp(mu,{brighter(a){return a=a==null?Oc:Math.pow(Oc,a),new ha(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?su:Math.pow(su,a),new ha(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,o=isNaN(a)||isNaN(this.s)?0:this.s,u=this.l,m=u+(u<.5?u:1-u)*o,p=2*u-m;return new gr(Lh(a>=240?a-240:a+120,p,m),Lh(a,p,m),Lh(a<120?a+240:a-120,p,m),this.opacity)},clamp(){return new ha(lm(this.h),xc(this.s),xc(this.l),Dc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=Dc(this.opacity);return`${a===1?"hsl(":"hsla("}${lm(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${a===1?")":`, ${a})`}`}}));function lm(a){return a=(a||0)%360,a<0?a+360:a}function xc(a){return Math.max(0,Math.min(1,a||0))}function Lh(a,o,u){return(a<60?o+(u-o)*a/60:a<180?u:a<240?o+(u-o)*(240-a)/60:o)*255}const pp=a=>()=>a;function bv(a,o){return function(u){return a+u*o}}function Cv(a,o,u){return a=Math.pow(a,u),o=Math.pow(o,u)-a,u=1/u,function(m){return Math.pow(a+m*o,u)}}function Tv(a){return(a=+a)==1?xp:function(o,u){return u-o?Cv(o,u,a):pp(isNaN(o)?u:o)}}function xp(a,o){var u=o-a;return u?bv(a,u):pp(isNaN(a)?o:a)}const um=function a(o){var u=Tv(o);function m(p,_){var E=u((p=Xh(p)).r,(_=Xh(_)).r),T=u(p.g,_.g),M=u(p.b,_.b),S=xp(p.opacity,_.opacity);return function(N){return p.r=E(N),p.g=T(N),p.b=M(N),p.opacity=S(N),p+""}}return m.gamma=a,m}(1);function Gs(a,o){return a=+a,o=+o,function(u){return a*(1-u)+o*u}}var jh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bh=new RegExp(jh.source,"g");function Mv(a){return function(){return a}}function Nv(a){return function(o){return a(o)+""}}function Iv(a,o){var u=jh.lastIndex=Bh.lastIndex=0,m,p,_,E=-1,T=[],M=[];for(a=a+"",o=o+"";(m=jh.exec(a))&&(p=Bh.exec(o));)(_=p.index)>u&&(_=o.slice(u,_),T[E]?T[E]+=_:T[++E]=_),(m=m[0])===(p=p[0])?T[E]?T[E]+=p:T[++E]=p:(T[++E]=null,M.push({i:E,x:Gs(m,p)})),u=Bh.lastIndex;return u<o.length&&(_=o.slice(u),T[E]?T[E]+=_:T[++E]=_),T.length<2?M[0]?Nv(M[0].x):Mv(o):(o=M.length,function(S){for(var N=0,D;N<o;++N)T[(D=M[N]).i]=D.x(S);return T.join("")})}var cm=180/Math.PI,qh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _p(a,o,u,m,p,_){var E,T,M;return(E=Math.sqrt(a*a+o*o))&&(a/=E,o/=E),(M=a*u+o*m)&&(u-=a*M,m-=o*M),(T=Math.sqrt(u*u+m*m))&&(u/=T,m/=T,M/=T),a*m<o*u&&(a=-a,o=-o,M=-M,E=-E),{translateX:p,translateY:_,rotate:Math.atan2(o,a)*cm,skewX:Math.atan(M)*cm,scaleX:E,scaleY:T}}var _c;function Ov(a){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return o.isIdentity?qh:_p(o.a,o.b,o.c,o.d,o.e,o.f)}function Dv(a){return a==null||(_c||(_c=document.createElementNS("http://www.w3.org/2000/svg","g")),_c.setAttribute("transform",a),!(a=_c.transform.baseVal.consolidate()))?qh:(a=a.matrix,_p(a.a,a.b,a.c,a.d,a.e,a.f))}function yp(a,o,u,m){function p(S){return S.length?S.pop()+" ":""}function _(S,N,D,H,V,rt){if(S!==D||N!==H){var j=V.push("translate(",null,o,null,u);rt.push({i:j-4,x:Gs(S,D)},{i:j-2,x:Gs(N,H)})}else(D||H)&&V.push("translate("+D+o+H+u)}function E(S,N,D,H){S!==N?(S-N>180?N+=360:N-S>180&&(S+=360),H.push({i:D.push(p(D)+"rotate(",null,m)-2,x:Gs(S,N)})):N&&D.push(p(D)+"rotate("+N+m)}function T(S,N,D,H){S!==N?H.push({i:D.push(p(D)+"skewX(",null,m)-2,x:Gs(S,N)}):N&&D.push(p(D)+"skewX("+N+m)}function M(S,N,D,H,V,rt){if(S!==D||N!==H){var j=V.push(p(V)+"scale(",null,",",null,")");rt.push({i:j-4,x:Gs(S,D)},{i:j-2,x:Gs(N,H)})}else(D!==1||H!==1)&&V.push(p(V)+"scale("+D+","+H+")")}return function(S,N){var D=[],H=[];return S=a(S),N=a(N),_(S.translateX,S.translateY,N.translateX,N.translateY,D,H),E(S.rotate,N.rotate,D,H),T(S.skewX,N.skewX,D,H),M(S.scaleX,S.scaleY,N.scaleX,N.scaleY,D,H),S=N=null,function(V){for(var rt=-1,j=H.length,at;++rt<j;)D[(at=H[rt]).i]=at.x(V);return D.join("")}}}var Rv=yp(Ov,"px, ","px)","deg)"),Lv=yp(Dv,", ",")",")"),Bv=1e-12;function fm(a){return((a=Math.exp(a))+1/a)/2}function Pv(a){return((a=Math.exp(a))-1/a)/2}function zv(a){return((a=Math.exp(2*a))-1)/(a+1)}const kv=function a(o,u,m){function p(_,E){var T=_[0],M=_[1],S=_[2],N=E[0],D=E[1],H=E[2],V=N-T,rt=D-M,j=V*V+rt*rt,at,et;if(j<Bv)et=Math.log(H/S)/o,at=function(ft){return[T+ft*V,M+ft*rt,S*Math.exp(o*ft*et)]};else{var lt=Math.sqrt(j),tt=(H*H-S*S+m*j)/(2*S*u*lt),nt=(H*H-S*S-m*j)/(2*H*u*lt),bt=Math.log(Math.sqrt(tt*tt+1)-tt),Nt=Math.log(Math.sqrt(nt*nt+1)-nt);et=(Nt-bt)/o,at=function(ft){var Ot=ft*et,st=fm(bt),Yt=S/(u*lt)*(st*zv(o*Ot+bt)-Pv(bt));return[T+Yt*V,M+Yt*rt,S*st/fm(o*Ot+bt)]}}return at.duration=et*1e3*o/Math.SQRT2,at}return p.rho=function(_){var E=Math.max(.001,+_),T=E*E,M=T*T;return a(E,T,M)},p}(Math.SQRT2,2,4);var ol=0,nu=0,Wl=0,wp=1e3,Rc,iu,Lc=0,wo=0,Vc=0,uu=typeof performance=="object"&&performance.now?performance:Date,vp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function _d(){return wo||(vp(Uv),wo=uu.now()+Vc)}function Uv(){wo=0}function Bc(){this._call=this._time=this._next=null}Bc.prototype=Ep.prototype={constructor:Bc,restart:function(a,o,u){if(typeof a!="function")throw new TypeError("callback is not a function");u=(u==null?_d():+u)+(o==null?0:+o),!this._next&&iu!==this&&(iu?iu._next=this:Rc=this,iu=this),this._call=a,this._time=u,Wh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wh())}};function Ep(a,o,u){var m=new Bc;return m.restart(a,o,u),m}function Fv(){_d(),++ol;for(var a=Rc,o;a;)(o=wo-a._time)>=0&&a._call.call(void 0,o),a=a._next;--ol}function hm(){wo=(Lc=uu.now())+Vc,ol=nu=0;try{Fv()}finally{ol=0,Zv(),wo=0}}function Hv(){var a=uu.now(),o=a-Lc;o>wp&&(Vc-=o,Lc=a)}function Zv(){for(var a,o=Rc,u,m=1/0;o;)o._call?(m>o._time&&(m=o._time),a=o,o=o._next):(u=o._next,o._next=null,o=a?a._next=u:Rc=u);iu=a,Wh(m)}function Wh(a){if(!ol){nu&&(nu=clearTimeout(nu));var o=a-wo;o>24?(a<1/0&&(nu=setTimeout(hm,a-uu.now()-Vc)),Wl&&(Wl=clearInterval(Wl))):(Wl||(Lc=uu.now(),Wl=setInterval(Hv,wp)),ol=1,vp(hm))}}function dm(a,o,u){var m=new Bc;return o=o==null?0:+o,m.restart(p=>{m.stop(),a(p+o)},o,u),m}var Vv=Hc("start","end","cancel","interrupt"),Gv=[],Ap=0,gm=1,Qh=2,bc=3,mm=4,Kh=5,Cc=6;function Gc(a,o,u,m,p,_){var E=a.__transition;if(!E)a.__transition={};else if(u in E)return;Yv(a,u,{name:o,index:m,group:p,on:Vv,tween:Gv,time:_.time,delay:_.delay,duration:_.duration,ease:_.ease,timer:null,state:Ap})}function yd(a,o){var u=ga(a,o);if(u.state>Ap)throw new Error("too late; already scheduled");return u}function Fa(a,o){var u=ga(a,o);if(u.state>bc)throw new Error("too late; already running");return u}function ga(a,o){var u=a.__transition;if(!u||!(u=u[o]))throw new Error("transition not found");return u}function Yv(a,o,u){var m=a.__transition,p;m[o]=u,u.timer=Ep(_,0,u.time);function _(S){u.state=gm,u.timer.restart(E,u.delay,u.time),u.delay<=S&&E(S-u.delay)}function E(S){var N,D,H,V;if(u.state!==gm)return M();for(N in m)if(V=m[N],V.name===u.name){if(V.state===bc)return dm(E);V.state===mm?(V.state=Cc,V.timer.stop(),V.on.call("interrupt",a,a.__data__,V.index,V.group),delete m[N]):+N<o&&(V.state=Cc,V.timer.stop(),V.on.call("cancel",a,a.__data__,V.index,V.group),delete m[N])}if(dm(function(){u.state===bc&&(u.state=mm,u.timer.restart(T,u.delay,u.time),T(S))}),u.state=Qh,u.on.call("start",a,a.__data__,u.index,u.group),u.state===Qh){for(u.state=bc,p=new Array(H=u.tween.length),N=0,D=-1;N<H;++N)(V=u.tween[N].value.call(a,a.__data__,u.index,u.group))&&(p[++D]=V);p.length=D+1}}function T(S){for(var N=S<u.duration?u.ease.call(null,S/u.duration):(u.timer.restart(M),u.state=Kh,1),D=-1,H=p.length;++D<H;)p[D].call(a,N);u.state===Kh&&(u.on.call("end",a,a.__data__,u.index,u.group),M())}function M(){u.state=Cc,u.timer.stop(),delete m[o];for(var S in m)return;delete a.__transition}}function Tc(a,o){var u=a.__transition,m,p,_=!0,E;if(u){o=o==null?null:o+"";for(E in u){if((m=u[E]).name!==o){_=!1;continue}p=m.state>Qh&&m.state<Kh,m.state=Cc,m.timer.stop(),m.on.call(p?"interrupt":"cancel",a,a.__data__,m.index,m.group),delete u[E]}_&&delete a.__transition}}function Xv(a){return this.each(function(){Tc(this,a)})}function jv(a,o){var u,m;return function(){var p=Fa(this,a),_=p.tween;if(_!==u){m=u=_;for(var E=0,T=m.length;E<T;++E)if(m[E].name===o){m=m.slice(),m.splice(E,1);break}}p.tween=m}}function qv(a,o,u){var m,p;if(typeof u!="function")throw new Error;return function(){var _=Fa(this,a),E=_.tween;if(E!==m){p=(m=E).slice();for(var T={name:o,value:u},M=0,S=p.length;M<S;++M)if(p[M].name===o){p[M]=T;break}M===S&&p.push(T)}_.tween=p}}function Wv(a,o){var u=this._id;if(a+="",arguments.length<2){for(var m=ga(this.node(),u).tween,p=0,_=m.length,E;p<_;++p)if((E=m[p]).name===a)return E.value;return null}return this.each((o==null?jv:qv)(u,a,o))}function wd(a,o,u){var m=a._id;return a.each(function(){var p=Fa(this,m);(p.value||(p.value={}))[o]=u.apply(this,arguments)}),function(p){return ga(p,m).value[o]}}function Sp(a,o){var u;return(typeof o=="number"?Gs:o instanceof lu?um:(u=lu(o))?(o=u,um):Iv)(a,o)}function Qv(a){return function(){this.removeAttribute(a)}}function Kv(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Jv(a,o,u){var m,p=u+"",_;return function(){var E=this.getAttribute(a);return E===p?null:E===m?_:_=o(m=E,u)}}function $v(a,o,u){var m,p=u+"",_;return function(){var E=this.getAttributeNS(a.space,a.local);return E===p?null:E===m?_:_=o(m=E,u)}}function tE(a,o,u){var m,p,_;return function(){var E,T=u(this),M;return T==null?void this.removeAttribute(a):(E=this.getAttribute(a),M=T+"",E===M?null:E===m&&M===p?_:(p=M,_=o(m=E,T)))}}function eE(a,o,u){var m,p,_;return function(){var E,T=u(this),M;return T==null?void this.removeAttributeNS(a.space,a.local):(E=this.getAttributeNS(a.space,a.local),M=T+"",E===M?null:E===m&&M===p?_:(p=M,_=o(m=E,T)))}}function nE(a,o){var u=Zc(a),m=u==="transform"?Lv:Sp;return this.attrTween(a,typeof o=="function"?(u.local?eE:tE)(u,m,wd(this,"attr."+a,o)):o==null?(u.local?Kv:Qv)(u):(u.local?$v:Jv)(u,m,o))}function iE(a,o){return function(u){this.setAttribute(a,o.call(this,u))}}function rE(a,o){return function(u){this.setAttributeNS(a.space,a.local,o.call(this,u))}}function aE(a,o){var u,m;function p(){var _=o.apply(this,arguments);return _!==m&&(u=(m=_)&&rE(a,_)),u}return p._value=o,p}function sE(a,o){var u,m;function p(){var _=o.apply(this,arguments);return _!==m&&(u=(m=_)&&iE(a,_)),u}return p._value=o,p}function oE(a,o){var u="attr."+a;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(o==null)return this.tween(u,null);if(typeof o!="function")throw new Error;var m=Zc(a);return this.tween(u,(m.local?aE:sE)(m,o))}function lE(a,o){return function(){yd(this,a).delay=+o.apply(this,arguments)}}function uE(a,o){return o=+o,function(){yd(this,a).delay=o}}function cE(a){var o=this._id;return arguments.length?this.each((typeof a=="function"?lE:uE)(o,a)):ga(this.node(),o).delay}function fE(a,o){return function(){Fa(this,a).duration=+o.apply(this,arguments)}}function hE(a,o){return o=+o,function(){Fa(this,a).duration=o}}function dE(a){var o=this._id;return arguments.length?this.each((typeof a=="function"?fE:hE)(o,a)):ga(this.node(),o).duration}function gE(a,o){if(typeof o!="function")throw new Error;return function(){Fa(this,a).ease=o}}function mE(a){var o=this._id;return arguments.length?this.each(gE(o,a)):ga(this.node(),o).ease}function pE(a,o){return function(){var u=o.apply(this,arguments);if(typeof u!="function")throw new Error;Fa(this,a).ease=u}}function xE(a){if(typeof a!="function")throw new Error;return this.each(pE(this._id,a))}function _E(a){typeof a!="function"&&(a=np(a));for(var o=this._groups,u=o.length,m=new Array(u),p=0;p<u;++p)for(var _=o[p],E=_.length,T=m[p]=[],M,S=0;S<E;++S)(M=_[S])&&a.call(M,M.__data__,S,_)&&T.push(M);return new ss(m,this._parents,this._name,this._id)}function yE(a){if(a._id!==this._id)throw new Error;for(var o=this._groups,u=a._groups,m=o.length,p=u.length,_=Math.min(m,p),E=new Array(m),T=0;T<_;++T)for(var M=o[T],S=u[T],N=M.length,D=E[T]=new Array(N),H,V=0;V<N;++V)(H=M[V]||S[V])&&(D[V]=H);for(;T<m;++T)E[T]=o[T];return new ss(E,this._parents,this._name,this._id)}function wE(a){return(a+"").trim().split(/^|\s+/).every(function(o){var u=o.indexOf(".");return u>=0&&(o=o.slice(0,u)),!o||o==="start"})}function vE(a,o,u){var m,p,_=wE(o)?yd:Fa;return function(){var E=_(this,a),T=E.on;T!==m&&(p=(m=T).copy()).on(o,u),E.on=p}}function EE(a,o){var u=this._id;return arguments.length<2?ga(this.node(),u).on.on(a):this.each(vE(u,a,o))}function AE(a){return function(){var o=this.parentNode;for(var u in this.__transition)if(+u!==a)return;o&&o.removeChild(this)}}function SE(){return this.on("end.remove",AE(this._id))}function bE(a){var o=this._name,u=this._id;typeof a!="function"&&(a=md(a));for(var m=this._groups,p=m.length,_=new Array(p),E=0;E<p;++E)for(var T=m[E],M=T.length,S=_[E]=new Array(M),N,D,H=0;H<M;++H)(N=T[H])&&(D=a.call(N,N.__data__,H,T))&&("__data__"in N&&(D.__data__=N.__data__),S[H]=D,Gc(S[H],o,u,H,S,ga(N,u)));return new ss(_,this._parents,o,u)}function CE(a){var o=this._name,u=this._id;typeof a!="function"&&(a=ep(a));for(var m=this._groups,p=m.length,_=[],E=[],T=0;T<p;++T)for(var M=m[T],S=M.length,N,D=0;D<S;++D)if(N=M[D]){for(var H=a.call(N,N.__data__,D,M),V,rt=ga(N,u),j=0,at=H.length;j<at;++j)(V=H[j])&&Gc(V,o,u,j,H,rt);_.push(H),E.push(N)}return new ss(_,E,o,u)}var TE=gu.prototype.constructor;function ME(){return new TE(this._groups,this._parents)}function NE(a,o){var u,m,p;return function(){var _=sl(this,a),E=(this.style.removeProperty(a),sl(this,a));return _===E?null:_===u&&E===m?p:p=o(u=_,m=E)}}function bp(a){return function(){this.style.removeProperty(a)}}function IE(a,o,u){var m,p=u+"",_;return function(){var E=sl(this,a);return E===p?null:E===m?_:_=o(m=E,u)}}function OE(a,o,u){var m,p,_;return function(){var E=sl(this,a),T=u(this),M=T+"";return T==null&&(M=T=(this.style.removeProperty(a),sl(this,a))),E===M?null:E===m&&M===p?_:(p=M,_=o(m=E,T))}}function DE(a,o){var u,m,p,_="style."+o,E="end."+_,T;return function(){var M=Fa(this,a),S=M.on,N=M.value[_]==null?T||(T=bp(o)):void 0;(S!==u||p!==N)&&(m=(u=S).copy()).on(E,p=N),M.on=m}}function RE(a,o,u){var m=(a+="")=="transform"?Rv:Sp;return o==null?this.styleTween(a,NE(a,m)).on("end.style."+a,bp(a)):typeof o=="function"?this.styleTween(a,OE(a,m,wd(this,"style."+a,o))).each(DE(this._id,a)):this.styleTween(a,IE(a,m,o),u).on("end.style."+a,null)}function LE(a,o,u){return function(m){this.style.setProperty(a,o.call(this,m),u)}}function BE(a,o,u){var m,p;function _(){var E=o.apply(this,arguments);return E!==p&&(m=(p=E)&&LE(a,E,u)),m}return _._value=o,_}function PE(a,o,u){var m="style."+(a+="");if(arguments.length<2)return(m=this.tween(m))&&m._value;if(o==null)return this.tween(m,null);if(typeof o!="function")throw new Error;return this.tween(m,BE(a,o,u??""))}function zE(a){return function(){this.textContent=a}}function kE(a){return function(){var o=a(this);this.textContent=o??""}}function UE(a){return this.tween("text",typeof a=="function"?kE(wd(this,"text",a)):zE(a==null?"":a+""))}function FE(a){return function(o){this.textContent=a.call(this,o)}}function HE(a){var o,u;function m(){var p=a.apply(this,arguments);return p!==u&&(o=(u=p)&&FE(p)),o}return m._value=a,m}function ZE(a){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(a==null)return this.tween(o,null);if(typeof a!="function")throw new Error;return this.tween(o,HE(a))}function VE(){for(var a=this._name,o=this._id,u=Cp(),m=this._groups,p=m.length,_=0;_<p;++_)for(var E=m[_],T=E.length,M,S=0;S<T;++S)if(M=E[S]){var N=ga(M,o);Gc(M,a,u,S,E,{time:N.time+N.delay+N.duration,delay:0,duration:N.duration,ease:N.ease})}return new ss(m,this._parents,a,u)}function GE(){var a,o,u=this,m=u._id,p=u.size();return new Promise(function(_,E){var T={value:E},M={value:function(){--p===0&&_()}};u.each(function(){var S=Fa(this,m),N=S.on;N!==a&&(o=(a=N).copy(),o._.cancel.push(T),o._.interrupt.push(T),o._.end.push(M)),S.on=o}),p===0&&_()})}var YE=0;function ss(a,o,u,m){this._groups=a,this._parents=o,this._name=u,this._id=m}function Cp(){return++YE}var is=gu.prototype;ss.prototype={constructor:ss,select:bE,selectAll:CE,selectChild:is.selectChild,selectChildren:is.selectChildren,filter:_E,merge:yE,selection:ME,transition:VE,call:is.call,nodes:is.nodes,node:is.node,size:is.size,empty:is.empty,each:is.each,on:EE,attr:nE,attrTween:oE,style:RE,styleTween:PE,text:UE,textTween:ZE,remove:SE,tween:Wv,delay:cE,duration:dE,ease:mE,easeVarying:xE,end:GE,[Symbol.iterator]:is[Symbol.iterator]};function XE(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var jE={time:null,delay:0,duration:250,ease:XE};function qE(a,o){for(var u;!(u=a.__transition)||!(u=u[o]);)if(!(a=a.parentNode))throw new Error(`transition ${o} not found`);return u}function WE(a){var o,u;a instanceof ss?(o=a._id,a=a._name):(o=Cp(),(u=jE).time=_d(),a=a==null?null:a+"");for(var m=this._groups,p=m.length,_=0;_<p;++_)for(var E=m[_],T=E.length,M,S=0;S<T;++S)(M=E[S])&&Gc(M,a,o,S,E,u||qE(M,o));return new ss(m,this._parents,a,o)}gu.prototype.interrupt=Xv;gu.prototype.transition=WE;const yc=a=>()=>a;function QE(a,{sourceEvent:o,target:u,transform:m,dispatch:p}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},transform:{value:m,enumerable:!0,configurable:!0},_:{value:p}})}function as(a,o,u){this.k=a,this.x=o,this.y=u}as.prototype={constructor:as,scale:function(a){return a===1?this:new as(this.k*a,this.x,this.y)},translate:function(a,o){return a===0&o===0?this:new as(this.k,this.x+this.k*a,this.y+this.k*o)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var js=new as(1,0,0);as.prototype;function Ph(a){a.stopImmediatePropagation()}function Ql(a){a.preventDefault(),a.stopImmediatePropagation()}function KE(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function JE(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function pm(){return this.__zoom||js}function $E(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function tA(){return navigator.maxTouchPoints||"ontouchstart"in this}function eA(a,o,u){var m=a.invertX(o[0][0])-u[0][0],p=a.invertX(o[1][0])-u[1][0],_=a.invertY(o[0][1])-u[0][1],E=a.invertY(o[1][1])-u[1][1];return a.translate(p>m?(m+p)/2:Math.min(0,m)||Math.max(0,p),E>_?(_+E)/2:Math.min(0,_)||Math.max(0,E))}function nA(){var a=KE,o=JE,u=eA,m=$E,p=tA,_=[0,1/0],E=[[-1/0,-1/0],[1/0,1/0]],T=250,M=kv,S=Hc("start","zoom","end"),N,D,H,V=500,rt=150,j=0,at=10;function et(X){X.property("__zoom",pm).on("wheel.zoom",Ot,{passive:!1}).on("mousedown.zoom",st).on("dblclick.zoom",Yt).filter(p).on("touchstart.zoom",Dt).on("touchmove.zoom",Tt).on("touchend.zoom touchcancel.zoom",Lt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}et.transform=function(X,q,G,J){var ut=X.selection?X.selection():X;ut.property("__zoom",pm),X!==ut?bt(X,q,G,J):ut.interrupt().each(function(){Nt(this,arguments).event(J).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},et.scaleBy=function(X,q,G,J){et.scaleTo(X,function(){var ut=this.__zoom.k,ct=typeof q=="function"?q.apply(this,arguments):q;return ut*ct},G,J)},et.scaleTo=function(X,q,G,J){et.transform(X,function(){var ut=o.apply(this,arguments),ct=this.__zoom,U=G==null?nt(ut):typeof G=="function"?G.apply(this,arguments):G,$=ct.invert(U),ht=typeof q=="function"?q.apply(this,arguments):q;return u(tt(lt(ct,ht),U,$),ut,E)},G,J)},et.translateBy=function(X,q,G,J){et.transform(X,function(){return u(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof G=="function"?G.apply(this,arguments):G),o.apply(this,arguments),E)},null,J)},et.translateTo=function(X,q,G,J,ut){et.transform(X,function(){var ct=o.apply(this,arguments),U=this.__zoom,$=J==null?nt(ct):typeof J=="function"?J.apply(this,arguments):J;return u(js.translate($[0],$[1]).scale(U.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof G=="function"?-G.apply(this,arguments):-G),ct,E)},J,ut)};function lt(X,q){return q=Math.max(_[0],Math.min(_[1],q)),q===X.k?X:new as(q,X.x,X.y)}function tt(X,q,G){var J=q[0]-G[0]*X.k,ut=q[1]-G[1]*X.k;return J===X.x&&ut===X.y?X:new as(X.k,J,ut)}function nt(X){return[(+X[0][0]+ +X[1][0])/2,(+X[0][1]+ +X[1][1])/2]}function bt(X,q,G,J){X.on("start.zoom",function(){Nt(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){Nt(this,arguments).event(J).end()}).tween("zoom",function(){var ut=this,ct=arguments,U=Nt(ut,ct).event(J),$=o.apply(ut,ct),ht=G==null?nt($):typeof G=="function"?G.apply(ut,ct):G,vt=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),At=ut.__zoom,kt=typeof q=="function"?q.apply(ut,ct):q,_t=M(At.invert(ht).concat(vt/At.k),kt.invert(ht).concat(vt/kt.k));return function(se){if(se===1)se=kt;else{var qt=_t(se),Oe=vt/qt[2];se=new as(Oe,ht[0]-qt[0]*Oe,ht[1]-qt[1]*Oe)}U.zoom(null,se)}})}function Nt(X,q,G){return!G&&X.__zooming||new ft(X,q)}function ft(X,q){this.that=X,this.args=q,this.active=0,this.sourceEvent=null,this.extent=o.apply(X,q),this.taps=0}ft.prototype={event:function(X){return X&&(this.sourceEvent=X),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(X,q){return this.mouse&&X!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&X!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&X!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(X){var q=fa(this.that).datum();S.call(X,this.that,new QE(X,{sourceEvent:this.sourceEvent,target:et,transform:this.that.__zoom,dispatch:S}),q)}};function Ot(X,...q){if(!a.apply(this,arguments))return;var G=Nt(this,q).event(X),J=this.__zoom,ut=Math.max(_[0],Math.min(_[1],J.k*Math.pow(2,m.apply(this,arguments)))),ct=ka(X);if(G.wheel)(G.mouse[0][0]!==ct[0]||G.mouse[0][1]!==ct[1])&&(G.mouse[1]=J.invert(G.mouse[0]=ct)),clearTimeout(G.wheel);else{if(J.k===ut)return;G.mouse=[ct,J.invert(ct)],Tc(this),G.start()}Ql(X),G.wheel=setTimeout(U,rt),G.zoom("mouse",u(tt(lt(J,ut),G.mouse[0],G.mouse[1]),G.extent,E));function U(){G.wheel=null,G.end()}}function st(X,...q){if(H||!a.apply(this,arguments))return;var G=X.currentTarget,J=Nt(this,q,!0).event(X),ut=fa(X.view).on("mousemove.zoom",ht,!0).on("mouseup.zoom",vt,!0),ct=ka(X,G),U=X.clientX,$=X.clientY;hp(X.view),Ph(X),J.mouse=[ct,this.__zoom.invert(ct)],Tc(this),J.start();function ht(At){if(Ql(At),!J.moved){var kt=At.clientX-U,_t=At.clientY-$;J.moved=kt*kt+_t*_t>j}J.event(At).zoom("mouse",u(tt(J.that.__zoom,J.mouse[0]=ka(At,G),J.mouse[1]),J.extent,E))}function vt(At){ut.on("mousemove.zoom mouseup.zoom",null),dp(At.view,J.moved),Ql(At),J.event(At).end()}}function Yt(X,...q){if(a.apply(this,arguments)){var G=this.__zoom,J=ka(X.changedTouches?X.changedTouches[0]:X,this),ut=G.invert(J),ct=G.k*(X.shiftKey?.5:2),U=u(tt(lt(G,ct),J,ut),o.apply(this,q),E);Ql(X),T>0?fa(this).transition().duration(T).call(bt,U,J,X):fa(this).call(et.transform,U,J,X)}}function Dt(X,...q){if(a.apply(this,arguments)){var G=X.touches,J=G.length,ut=Nt(this,q,X.changedTouches.length===J).event(X),ct,U,$,ht;for(Ph(X),U=0;U<J;++U)$=G[U],ht=ka($,this),ht=[ht,this.__zoom.invert(ht),$.identifier],ut.touch0?!ut.touch1&&ut.touch0[2]!==ht[2]&&(ut.touch1=ht,ut.taps=0):(ut.touch0=ht,ct=!0,ut.taps=1+!!N);N&&(N=clearTimeout(N)),ct&&(ut.taps<2&&(D=ht[0],N=setTimeout(function(){N=null},V)),Tc(this),ut.start())}}function Tt(X,...q){if(this.__zooming){var G=Nt(this,q).event(X),J=X.changedTouches,ut=J.length,ct,U,$,ht;for(Ql(X),ct=0;ct<ut;++ct)U=J[ct],$=ka(U,this),G.touch0&&G.touch0[2]===U.identifier?G.touch0[0]=$:G.touch1&&G.touch1[2]===U.identifier&&(G.touch1[0]=$);if(U=G.that.__zoom,G.touch1){var vt=G.touch0[0],At=G.touch0[1],kt=G.touch1[0],_t=G.touch1[1],se=(se=kt[0]-vt[0])*se+(se=kt[1]-vt[1])*se,qt=(qt=_t[0]-At[0])*qt+(qt=_t[1]-At[1])*qt;U=lt(U,Math.sqrt(se/qt)),$=[(vt[0]+kt[0])/2,(vt[1]+kt[1])/2],ht=[(At[0]+_t[0])/2,(At[1]+_t[1])/2]}else if(G.touch0)$=G.touch0[0],ht=G.touch0[1];else return;G.zoom("touch",u(tt(U,$,ht),G.extent,E))}}function Lt(X,...q){if(this.__zooming){var G=Nt(this,q).event(X),J=X.changedTouches,ut=J.length,ct,U;for(Ph(X),H&&clearTimeout(H),H=setTimeout(function(){H=null},V),ct=0;ct<ut;++ct)U=J[ct],G.touch0&&G.touch0[2]===U.identifier?delete G.touch0:G.touch1&&G.touch1[2]===U.identifier&&delete G.touch1;if(G.touch1&&!G.touch0&&(G.touch0=G.touch1,delete G.touch1),G.touch0)G.touch0[1]=this.__zoom.invert(G.touch0[0]);else if(G.end(),G.taps===2&&(U=ka(U,this),Math.hypot(D[0]-U[0],D[1]-U[1])<at)){var $=fa(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return et.wheelDelta=function(X){return arguments.length?(m=typeof X=="function"?X:yc(+X),et):m},et.filter=function(X){return arguments.length?(a=typeof X=="function"?X:yc(!!X),et):a},et.touchable=function(X){return arguments.length?(p=typeof X=="function"?X:yc(!!X),et):p},et.extent=function(X){return arguments.length?(o=typeof X=="function"?X:yc([[+X[0][0],+X[0][1]],[+X[1][0],+X[1][1]]]),et):o},et.scaleExtent=function(X){return arguments.length?(_[0]=+X[0],_[1]=+X[1],et):[_[0],_[1]]},et.translateExtent=function(X){return arguments.length?(E[0][0]=+X[0][0],E[1][0]=+X[1][0],E[0][1]=+X[0][1],E[1][1]=+X[1][1],et):[[E[0][0],E[0][1]],[E[1][0],E[1][1]]]},et.constrain=function(X){return arguments.length?(u=X,et):u},et.duration=function(X){return arguments.length?(T=+X,et):T},et.interpolate=function(X){return arguments.length?(M=X,et):M},et.on=function(){var X=S.on.apply(S,arguments);return X===S?et:X},et.clickDistance=function(X){return arguments.length?(j=(X=+X)*X,et):Math.sqrt(j)},et.tapDistance=function(X){return arguments.length?(at=+X,et):at},et}const Yc=xt.createContext(null),iA=Yc.Provider,os={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:a=>`Node type "${a}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:a=>`The old edge with id=${a} does not exist.`,error009:a=>`Marker type "${a}" doesn't exist.`,error008:(a,o)=>`Couldn't create edge for ${a?"target":"source"} handle id: "${a?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:a=>`Edge type "${a}" not found. Using fallback type "default".`,error012:a=>`Node with id "${a}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Tp=os.error001();function Qn(a,o){const u=xt.useContext(Yc);if(u===null)throw new Error(Tp);return $m(u,a,o)}const ki=()=>{const a=xt.useContext(Yc);if(a===null)throw new Error(Tp);return xt.useMemo(()=>({getState:a.getState,setState:a.setState,subscribe:a.subscribe,destroy:a.destroy}),[a])},rA=a=>a.userSelectionActive?"none":"all";function aA({position:a,children:o,className:u,style:m,...p}){const _=Qn(rA),E=`${a}`.split("-");return Ft.createElement("div",{className:Pr(["react-flow__panel",u,...E]),style:{...m,pointerEvents:_},...p},o)}function sA({proOptions:a,position:o="bottom-right"}){return a!=null&&a.hideAttribution?null:Ft.createElement(aA,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Ft.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const oA=({x:a,y:o,label:u,labelStyle:m={},labelShowBg:p=!0,labelBgStyle:_={},labelBgPadding:E=[2,4],labelBgBorderRadius:T=2,children:M,className:S,...N})=>{const D=xt.useRef(null),[H,V]=xt.useState({x:0,y:0,width:0,height:0}),rt=Pr(["react-flow__edge-textwrapper",S]);return xt.useEffect(()=>{if(D.current){const j=D.current.getBBox();V({x:j.x,y:j.y,width:j.width,height:j.height})}},[u]),typeof u>"u"||!u?null:Ft.createElement("g",{transform:`translate(${a-H.width/2} ${o-H.height/2})`,className:rt,visibility:H.width?"visible":"hidden",...N},p&&Ft.createElement("rect",{width:H.width+2*E[0],x:-E[0],y:-E[1],height:H.height+2*E[1],className:"react-flow__edge-textbg",style:_,rx:T,ry:T}),Ft.createElement("text",{className:"react-flow__edge-text",y:H.height/2,dy:"0.3em",ref:D,style:m},u),M)};var lA=xt.memo(oA);const vd=a=>({width:a.offsetWidth,height:a.offsetHeight}),ll=(a,o=0,u=1)=>Math.min(Math.max(a,o),u),Ed=(a={x:0,y:0},o)=>({x:ll(a.x,o[0][0],o[1][0]),y:ll(a.y,o[0][1],o[1][1])}),xm=(a,o,u)=>a<o?ll(Math.abs(a-o),1,50)/50:a>u?-ll(Math.abs(a-u),1,50)/50:0,Mp=(a,o)=>{const u=xm(a.x,35,o.width-35)*20,m=xm(a.y,35,o.height-35)*20;return[u,m]},Np=a=>{var o;return((o=a.getRootNode)==null?void 0:o.call(a))||(window==null?void 0:window.document)},uA=(a,o)=>({x:Math.min(a.x,o.x),y:Math.min(a.y,o.y),x2:Math.max(a.x2,o.x2),y2:Math.max(a.y2,o.y2)}),Ad=({x:a,y:o,width:u,height:m})=>({x:a,y:o,x2:a+u,y2:o+m}),cA=({x:a,y:o,x2:u,y2:m})=>({x:a,y:o,width:u-a,height:m-o}),_m=a=>({...a.positionAbsolute||{x:0,y:0},width:a.width||0,height:a.height||0}),Jh=(a,o)=>{const u=Math.max(0,Math.min(a.x+a.width,o.x+o.width)-Math.max(a.x,o.x)),m=Math.max(0,Math.min(a.y+a.height,o.y+o.height)-Math.max(a.y,o.y));return Math.ceil(u*m)},fA=a=>Kr(a.width)&&Kr(a.height)&&Kr(a.x)&&Kr(a.y),Kr=a=>!isNaN(a)&&isFinite(a),Wn=Symbol.for("internals"),Ip=["Enter"," ","Escape"],hA=(a,o)=>{},dA=a=>"nativeEvent"in a;function $h(a){var p,_;const o=dA(a)?a.nativeEvent:a,u=((_=(p=o.composedPath)==null?void 0:p.call(o))==null?void 0:_[0])||a.target;return["INPUT","SELECT","TEXTAREA"].includes(u==null?void 0:u.nodeName)||(u==null?void 0:u.hasAttribute("contenteditable"))||!!(u!=null&&u.closest(".nokey"))}const Op=a=>"clientX"in a,qs=(a,o)=>{var _,E;const u=Op(a),m=u?a.clientX:(_=a.touches)==null?void 0:_[0].clientX,p=u?a.clientY:(E=a.touches)==null?void 0:E[0].clientY;return{x:m-((o==null?void 0:o.left)??0),y:p-((o==null?void 0:o.top)??0)}},Pc=()=>{var a;return typeof navigator<"u"&&((a=navigator==null?void 0:navigator.userAgent)==null?void 0:a.indexOf("Mac"))>=0},pu=({id:a,path:o,labelX:u,labelY:m,label:p,labelStyle:_,labelShowBg:E,labelBgStyle:T,labelBgPadding:M,labelBgBorderRadius:S,style:N,markerEnd:D,markerStart:H,interactionWidth:V=20})=>Ft.createElement(Ft.Fragment,null,Ft.createElement("path",{id:a,style:N,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:D,markerStart:H}),V&&Ft.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:V,className:"react-flow__edge-interaction"}),p&&Kr(u)&&Kr(m)?Ft.createElement(lA,{x:u,y:m,label:p,labelStyle:_,labelShowBg:E,labelBgStyle:T,labelBgPadding:M,labelBgBorderRadius:S}):null);pu.displayName="BaseEdge";function Kl(a,o,u){return u===void 0?u:m=>{const p=o().edges.find(_=>_.id===a);p&&u(m,{...p})}}function Dp({sourceX:a,sourceY:o,targetX:u,targetY:m}){const p=Math.abs(u-a)/2,_=u<a?u+p:u-p,E=Math.abs(m-o)/2,T=m<o?m+E:m-E;return[_,T,p,E]}function Rp({sourceX:a,sourceY:o,targetX:u,targetY:m,sourceControlX:p,sourceControlY:_,targetControlX:E,targetControlY:T}){const M=a*.125+p*.375+E*.375+u*.125,S=o*.125+_*.375+T*.375+m*.125,N=Math.abs(M-a),D=Math.abs(S-o);return[M,S,N,D]}var vo;(function(a){a.Strict="strict",a.Loose="loose"})(vo||(vo={}));var _o;(function(a){a.Free="free",a.Vertical="vertical",a.Horizontal="horizontal"})(_o||(_o={}));var cu;(function(a){a.Partial="partial",a.Full="full"})(cu||(cu={}));var Xs;(function(a){a.Bezier="default",a.Straight="straight",a.Step="step",a.SmoothStep="smoothstep",a.SimpleBezier="simplebezier"})(Xs||(Xs={}));var zc;(function(a){a.Arrow="arrow",a.ArrowClosed="arrowclosed"})(zc||(zc={}));var ce;(function(a){a.Left="left",a.Top="top",a.Right="right",a.Bottom="bottom"})(ce||(ce={}));function ym({pos:a,x1:o,y1:u,x2:m,y2:p}){return a===ce.Left||a===ce.Right?[.5*(o+m),u]:[o,.5*(u+p)]}function Lp({sourceX:a,sourceY:o,sourcePosition:u=ce.Bottom,targetX:m,targetY:p,targetPosition:_=ce.Top}){const[E,T]=ym({pos:u,x1:a,y1:o,x2:m,y2:p}),[M,S]=ym({pos:_,x1:m,y1:p,x2:a,y2:o}),[N,D,H,V]=Rp({sourceX:a,sourceY:o,targetX:m,targetY:p,sourceControlX:E,sourceControlY:T,targetControlX:M,targetControlY:S});return[`M${a},${o} C${E},${T} ${M},${S} ${m},${p}`,N,D,H,V]}const Sd=xt.memo(({sourceX:a,sourceY:o,targetX:u,targetY:m,sourcePosition:p=ce.Bottom,targetPosition:_=ce.Top,label:E,labelStyle:T,labelShowBg:M,labelBgStyle:S,labelBgPadding:N,labelBgBorderRadius:D,style:H,markerEnd:V,markerStart:rt,interactionWidth:j})=>{const[at,et,lt]=Lp({sourceX:a,sourceY:o,sourcePosition:p,targetX:u,targetY:m,targetPosition:_});return Ft.createElement(pu,{path:at,labelX:et,labelY:lt,label:E,labelStyle:T,labelShowBg:M,labelBgStyle:S,labelBgPadding:N,labelBgBorderRadius:D,style:H,markerEnd:V,markerStart:rt,interactionWidth:j})});Sd.displayName="SimpleBezierEdge";const wm={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},gA=({source:a,sourcePosition:o=ce.Bottom,target:u})=>o===ce.Left||o===ce.Right?a.x<u.x?{x:1,y:0}:{x:-1,y:0}:a.y<u.y?{x:0,y:1}:{x:0,y:-1},vm=(a,o)=>Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2));function mA({source:a,sourcePosition:o=ce.Bottom,target:u,targetPosition:m=ce.Top,center:p,offset:_}){const E=wm[o],T=wm[m],M={x:a.x+E.x*_,y:a.y+E.y*_},S={x:u.x+T.x*_,y:u.y+T.y*_},N=gA({source:M,sourcePosition:o,target:S}),D=N.x!==0?"x":"y",H=N[D];let V=[],rt,j;const at={x:0,y:0},et={x:0,y:0},[lt,tt,nt,bt]=Dp({sourceX:a.x,sourceY:a.y,targetX:u.x,targetY:u.y});if(E[D]*T[D]===-1){rt=p.x??lt,j=p.y??tt;const ft=[{x:rt,y:M.y},{x:rt,y:S.y}],Ot=[{x:M.x,y:j},{x:S.x,y:j}];E[D]===H?V=D==="x"?ft:Ot:V=D==="x"?Ot:ft}else{const ft=[{x:M.x,y:S.y}],Ot=[{x:S.x,y:M.y}];if(D==="x"?V=E.x===H?Ot:ft:V=E.y===H?ft:Ot,o===m){const Lt=Math.abs(a[D]-u[D]);if(Lt<=_){const X=Math.min(_-1,_-Lt);E[D]===H?at[D]=(M[D]>a[D]?-1:1)*X:et[D]=(S[D]>u[D]?-1:1)*X}}if(o!==m){const Lt=D==="x"?"y":"x",X=E[D]===T[Lt],q=M[Lt]>S[Lt],G=M[Lt]<S[Lt];(E[D]===1&&(!X&&q||X&&G)||E[D]!==1&&(!X&&G||X&&q))&&(V=D==="x"?ft:Ot)}const st={x:M.x+at.x,y:M.y+at.y},Yt={x:S.x+et.x,y:S.y+et.y},Dt=Math.max(Math.abs(st.x-V[0].x),Math.abs(Yt.x-V[0].x)),Tt=Math.max(Math.abs(st.y-V[0].y),Math.abs(Yt.y-V[0].y));Dt>=Tt?(rt=(st.x+Yt.x)/2,j=V[0].y):(rt=V[0].x,j=(st.y+Yt.y)/2)}return[[a,{x:M.x+at.x,y:M.y+at.y},...V,{x:S.x+et.x,y:S.y+et.y},u],rt,j,nt,bt]}function pA(a,o,u,m){const p=Math.min(vm(a,o)/2,vm(o,u)/2,m),{x:_,y:E}=o;if(a.x===_&&_===u.x||a.y===E&&E===u.y)return`L${_} ${E}`;if(a.y===E){const S=a.x<u.x?-1:1,N=a.y<u.y?1:-1;return`L ${_+p*S},${E}Q ${_},${E} ${_},${E+p*N}`}const T=a.x<u.x?1:-1,M=a.y<u.y?-1:1;return`L ${_},${E+p*M}Q ${_},${E} ${_+p*T},${E}`}function td({sourceX:a,sourceY:o,sourcePosition:u=ce.Bottom,targetX:m,targetY:p,targetPosition:_=ce.Top,borderRadius:E=5,centerX:T,centerY:M,offset:S=20}){const[N,D,H,V,rt]=mA({source:{x:a,y:o},sourcePosition:u,target:{x:m,y:p},targetPosition:_,center:{x:T,y:M},offset:S});return[N.reduce((at,et,lt)=>{let tt="";return lt>0&&lt<N.length-1?tt=pA(N[lt-1],et,N[lt+1],E):tt=`${lt===0?"M":"L"}${et.x} ${et.y}`,at+=tt,at},""),D,H,V,rt]}const Xc=xt.memo(({sourceX:a,sourceY:o,targetX:u,targetY:m,label:p,labelStyle:_,labelShowBg:E,labelBgStyle:T,labelBgPadding:M,labelBgBorderRadius:S,style:N,sourcePosition:D=ce.Bottom,targetPosition:H=ce.Top,markerEnd:V,markerStart:rt,pathOptions:j,interactionWidth:at})=>{const[et,lt,tt]=td({sourceX:a,sourceY:o,sourcePosition:D,targetX:u,targetY:m,targetPosition:H,borderRadius:j==null?void 0:j.borderRadius,offset:j==null?void 0:j.offset});return Ft.createElement(pu,{path:et,labelX:lt,labelY:tt,label:p,labelStyle:_,labelShowBg:E,labelBgStyle:T,labelBgPadding:M,labelBgBorderRadius:S,style:N,markerEnd:V,markerStart:rt,interactionWidth:at})});Xc.displayName="SmoothStepEdge";const bd=xt.memo(a=>{var o;return Ft.createElement(Xc,{...a,pathOptions:xt.useMemo(()=>{var u;return{borderRadius:0,offset:(u=a.pathOptions)==null?void 0:u.offset}},[(o=a.pathOptions)==null?void 0:o.offset])})});bd.displayName="StepEdge";function xA({sourceX:a,sourceY:o,targetX:u,targetY:m}){const[p,_,E,T]=Dp({sourceX:a,sourceY:o,targetX:u,targetY:m});return[`M ${a},${o}L ${u},${m}`,p,_,E,T]}const Cd=xt.memo(({sourceX:a,sourceY:o,targetX:u,targetY:m,label:p,labelStyle:_,labelShowBg:E,labelBgStyle:T,labelBgPadding:M,labelBgBorderRadius:S,style:N,markerEnd:D,markerStart:H,interactionWidth:V})=>{const[rt,j,at]=xA({sourceX:a,sourceY:o,targetX:u,targetY:m});return Ft.createElement(pu,{path:rt,labelX:j,labelY:at,label:p,labelStyle:_,labelShowBg:E,labelBgStyle:T,labelBgPadding:M,labelBgBorderRadius:S,style:N,markerEnd:D,markerStart:H,interactionWidth:V})});Cd.displayName="StraightEdge";function wc(a,o){return a>=0?.5*a:o*25*Math.sqrt(-a)}function Em({pos:a,x1:o,y1:u,x2:m,y2:p,c:_}){switch(a){case ce.Left:return[o-wc(o-m,_),u];case ce.Right:return[o+wc(m-o,_),u];case ce.Top:return[o,u-wc(u-p,_)];case ce.Bottom:return[o,u+wc(p-u,_)]}}function Bp({sourceX:a,sourceY:o,sourcePosition:u=ce.Bottom,targetX:m,targetY:p,targetPosition:_=ce.Top,curvature:E=.25}){const[T,M]=Em({pos:u,x1:a,y1:o,x2:m,y2:p,c:E}),[S,N]=Em({pos:_,x1:m,y1:p,x2:a,y2:o,c:E}),[D,H,V,rt]=Rp({sourceX:a,sourceY:o,targetX:m,targetY:p,sourceControlX:T,sourceControlY:M,targetControlX:S,targetControlY:N});return[`M${a},${o} C${T},${M} ${S},${N} ${m},${p}`,D,H,V,rt]}const kc=xt.memo(({sourceX:a,sourceY:o,targetX:u,targetY:m,sourcePosition:p=ce.Bottom,targetPosition:_=ce.Top,label:E,labelStyle:T,labelShowBg:M,labelBgStyle:S,labelBgPadding:N,labelBgBorderRadius:D,style:H,markerEnd:V,markerStart:rt,pathOptions:j,interactionWidth:at})=>{const[et,lt,tt]=Bp({sourceX:a,sourceY:o,sourcePosition:p,targetX:u,targetY:m,targetPosition:_,curvature:j==null?void 0:j.curvature});return Ft.createElement(pu,{path:et,labelX:lt,labelY:tt,label:E,labelStyle:T,labelShowBg:M,labelBgStyle:S,labelBgPadding:N,labelBgBorderRadius:D,style:H,markerEnd:V,markerStart:rt,interactionWidth:at})});kc.displayName="BezierEdge";const Td=xt.createContext(null),_A=Td.Provider;Td.Consumer;const yA=()=>xt.useContext(Td),wA=a=>"id"in a&&"source"in a&&"target"in a,vA=({source:a,sourceHandle:o,target:u,targetHandle:m})=>`reactflow__edge-${a}${o||""}-${u}${m||""}`,ed=(a,o)=>typeof a>"u"?"":typeof a=="string"?a:`${o?`${o}__`:""}${Object.keys(a).sort().map(m=>`${m}=${a[m]}`).join("&")}`,EA=(a,o)=>o.some(u=>u.source===a.source&&u.target===a.target&&(u.sourceHandle===a.sourceHandle||!u.sourceHandle&&!a.sourceHandle)&&(u.targetHandle===a.targetHandle||!u.targetHandle&&!a.targetHandle)),AA=(a,o)=>{if(!a.source||!a.target)return o;let u;return wA(a)?u={...a}:u={...a,id:vA(a)},EA(u,o)?o:o.concat(u)},nd=({x:a,y:o},[u,m,p],_,[E,T])=>{const M={x:(a-u)/p,y:(o-m)/p};return _?{x:E*Math.round(M.x/E),y:T*Math.round(M.y/T)}:M},Pp=({x:a,y:o},[u,m,p])=>({x:a*p+u,y:o*p+m}),rl=(a,o=[0,0])=>{if(!a)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const u=(a.width??0)*o[0],m=(a.height??0)*o[1],p={x:a.position.x-u,y:a.position.y-m};return{...p,positionAbsolute:a.positionAbsolute?{x:a.positionAbsolute.x-u,y:a.positionAbsolute.y-m}:p}},Md=(a,o=[0,0])=>{if(a.length===0)return{x:0,y:0,width:0,height:0};const u=a.reduce((m,p)=>{const{x:_,y:E}=rl(p,o).positionAbsolute;return uA(m,Ad({x:_,y:E,width:p.width||0,height:p.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return cA(u)},zp=(a,o,[u,m,p]=[0,0,1],_=!1,E=!1,T=[0,0])=>{const M={x:(o.x-u)/p,y:(o.y-m)/p,width:o.width/p,height:o.height/p},S=[];return a.forEach(N=>{const{width:D,height:H,selectable:V=!0,hidden:rt=!1}=N;if(E&&!V||rt)return!1;const{positionAbsolute:j}=rl(N,T),at={x:j.x,y:j.y,width:D||0,height:H||0},et=Jh(M,at),lt=typeof D>"u"||typeof H>"u"||D===null||H===null,tt=_&&et>0,nt=(D||0)*(H||0);(lt||tt||et>=nt||N.dragging)&&S.push(N)}),S},kp=(a,o)=>{const u=a.map(m=>m.id);return o.filter(m=>u.includes(m.source)||u.includes(m.target))},Up=(a,o,u,m,p,_=.1)=>{const E=o/(a.width*(1+_)),T=u/(a.height*(1+_)),M=Math.min(E,T),S=ll(M,m,p),N=a.x+a.width/2,D=a.y+a.height/2,H=o/2-N*S,V=u/2-D*S;return{x:H,y:V,zoom:S}},po=(a,o=0)=>a.transition().duration(o);function Am(a,o,u,m){return(o[u]||[]).reduce((p,_)=>{var E,T;return`${a.id}-${_.id}-${u}`!==m&&p.push({id:_.id||null,type:u,nodeId:a.id,x:(((E=a.positionAbsolute)==null?void 0:E.x)??0)+_.x+_.width/2,y:(((T=a.positionAbsolute)==null?void 0:T.y)??0)+_.y+_.height/2}),p},[])}function SA(a,o,u,m,p,_){const{x:E,y:T}=qs(a),S=o.elementsFromPoint(E,T).find(rt=>rt.classList.contains("react-flow__handle"));if(S){const rt=S.getAttribute("data-nodeid");if(rt){const j=Nd(void 0,S),at=S.getAttribute("data-handleid"),et=_({nodeId:rt,id:at,type:j});if(et){const lt=p.find(tt=>tt.nodeId===rt&&tt.type===j&&tt.id===at);return{handle:{id:at,type:j,nodeId:rt,x:(lt==null?void 0:lt.x)||u.x,y:(lt==null?void 0:lt.y)||u.y},validHandleResult:et}}}}let N=[],D=1/0;if(p.forEach(rt=>{const j=Math.sqrt((rt.x-u.x)**2+(rt.y-u.y)**2);if(j<=m){const at=_(rt);j<=D&&(j<D?N=[{handle:rt,validHandleResult:at}]:j===D&&N.push({handle:rt,validHandleResult:at}),D=j)}}),!N.length)return{handle:null,validHandleResult:Fp()};if(N.length===1)return N[0];const H=N.some(({validHandleResult:rt})=>rt.isValid),V=N.some(({handle:rt})=>rt.type==="target");return N.find(({handle:rt,validHandleResult:j})=>V?rt.type==="target":H?j.isValid:!0)||N[0]}const bA={source:null,target:null,sourceHandle:null,targetHandle:null},Fp=()=>({handleDomNode:null,isValid:!1,connection:bA,endHandle:null});function Hp(a,o,u,m,p,_,E){const T=p==="target",M=E.querySelector(`.react-flow__handle[data-id="${a==null?void 0:a.nodeId}-${a==null?void 0:a.id}-${a==null?void 0:a.type}"]`),S={...Fp(),handleDomNode:M};if(M){const N=Nd(void 0,M),D=M.getAttribute("data-nodeid"),H=M.getAttribute("data-handleid"),V=M.classList.contains("connectable"),rt=M.classList.contains("connectableend"),j={source:T?D:u,sourceHandle:T?H:m,target:T?u:D,targetHandle:T?m:H};S.connection=j,V&&rt&&(o===vo.Strict?T&&N==="source"||!T&&N==="target":D!==u||H!==m)&&(S.endHandle={nodeId:D,handleId:H,type:N},S.isValid=_(j))}return S}function CA({nodes:a,nodeId:o,handleId:u,handleType:m}){return a.reduce((p,_)=>{if(_[Wn]){const{handleBounds:E}=_[Wn];let T=[],M=[];E&&(T=Am(_,E,"source",`${o}-${u}-${m}`),M=Am(_,E,"target",`${o}-${u}-${m}`)),p.push(...T,...M)}return p},[])}function Nd(a,o){return a||(o!=null&&o.classList.contains("target")?"target":o!=null&&o.classList.contains("source")?"source":null)}function zh(a){a==null||a.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function TA(a,o){let u=null;return o?u="valid":a&&!o&&(u="invalid"),u}function Zp({event:a,handleId:o,nodeId:u,onConnect:m,isTarget:p,getState:_,setState:E,isValidConnection:T,edgeUpdaterType:M,onReconnectEnd:S}){const N=Np(a.target),{connectionMode:D,domNode:H,autoPanOnConnect:V,connectionRadius:rt,onConnectStart:j,panBy:at,getNodes:et,cancelConnection:lt}=_();let tt=0,nt;const{x:bt,y:Nt}=qs(a),ft=N==null?void 0:N.elementFromPoint(bt,Nt),Ot=Nd(M,ft),st=H==null?void 0:H.getBoundingClientRect();if(!st||!Ot)return;let Yt,Dt=qs(a,st),Tt=!1,Lt=null,X=!1,q=null;const G=CA({nodes:et(),nodeId:u,handleId:o,handleType:Ot}),J=()=>{if(!V)return;const[U,$]=Mp(Dt,st);at({x:U,y:$}),tt=requestAnimationFrame(J)};E({connectionPosition:Dt,connectionStatus:null,connectionNodeId:u,connectionHandleId:o,connectionHandleType:Ot,connectionStartHandle:{nodeId:u,handleId:o,type:Ot},connectionEndHandle:null}),j==null||j(a,{nodeId:u,handleId:o,handleType:Ot});function ut(U){const{transform:$}=_();Dt=qs(U,st);const{handle:ht,validHandleResult:vt}=SA(U,N,nd(Dt,$,!1,[1,1]),rt,G,At=>Hp(At,D,u,o,p?"target":"source",T,N));if(nt=ht,Tt||(J(),Tt=!0),q=vt.handleDomNode,Lt=vt.connection,X=vt.isValid,E({connectionPosition:nt&&X?Pp({x:nt.x,y:nt.y},$):Dt,connectionStatus:TA(!!nt,X),connectionEndHandle:vt.endHandle}),!nt&&!X&&!q)return zh(Yt);Lt.source!==Lt.target&&q&&(zh(Yt),Yt=q,q.classList.add("connecting","react-flow__handle-connecting"),q.classList.toggle("valid",X),q.classList.toggle("react-flow__handle-valid",X))}function ct(U){var $,ht;(nt||q)&&Lt&&X&&(m==null||m(Lt)),(ht=($=_()).onConnectEnd)==null||ht.call($,U),M&&(S==null||S(U)),zh(Yt),lt(),cancelAnimationFrame(tt),Tt=!1,X=!1,Lt=null,q=null,N.removeEventListener("mousemove",ut),N.removeEventListener("mouseup",ct),N.removeEventListener("touchmove",ut),N.removeEventListener("touchend",ct)}N.addEventListener("mousemove",ut),N.addEventListener("mouseup",ct),N.addEventListener("touchmove",ut),N.addEventListener("touchend",ct)}const Sm=()=>!0,MA=a=>({connectionStartHandle:a.connectionStartHandle,connectOnClick:a.connectOnClick,noPanClassName:a.noPanClassName}),NA=(a,o,u)=>m=>{const{connectionStartHandle:p,connectionEndHandle:_,connectionClickStartHandle:E}=m;return{connecting:(p==null?void 0:p.nodeId)===a&&(p==null?void 0:p.handleId)===o&&(p==null?void 0:p.type)===u||(_==null?void 0:_.nodeId)===a&&(_==null?void 0:_.handleId)===o&&(_==null?void 0:_.type)===u,clickConnecting:(E==null?void 0:E.nodeId)===a&&(E==null?void 0:E.handleId)===o&&(E==null?void 0:E.type)===u}},Vp=xt.forwardRef(({type:a="source",position:o=ce.Top,isValidConnection:u,isConnectable:m=!0,isConnectableStart:p=!0,isConnectableEnd:_=!0,id:E,onConnect:T,children:M,className:S,onMouseDown:N,onTouchStart:D,...H},V)=>{var st,Yt;const rt=E||null,j=a==="target",at=ki(),et=yA(),{connectOnClick:lt,noPanClassName:tt}=Qn(MA,er),{connecting:nt,clickConnecting:bt}=Qn(NA(et,rt,a),er);et||(Yt=(st=at.getState()).onError)==null||Yt.call(st,"010",os.error010());const Nt=Dt=>{const{defaultEdgeOptions:Tt,onConnect:Lt,hasDefaultEdges:X}=at.getState(),q={...Tt,...Dt};if(X){const{edges:G,setEdges:J}=at.getState();J(AA(q,G))}Lt==null||Lt(q),T==null||T(q)},ft=Dt=>{if(!et)return;const Tt=Op(Dt);p&&(Tt&&Dt.button===0||!Tt)&&Zp({event:Dt,handleId:rt,nodeId:et,onConnect:Nt,isTarget:j,getState:at.getState,setState:at.setState,isValidConnection:u||at.getState().isValidConnection||Sm}),Tt?N==null||N(Dt):D==null||D(Dt)},Ot=Dt=>{const{onClickConnectStart:Tt,onClickConnectEnd:Lt,connectionClickStartHandle:X,connectionMode:q,isValidConnection:G}=at.getState();if(!et||!X&&!p)return;if(!X){Tt==null||Tt(Dt,{nodeId:et,handleId:rt,handleType:a}),at.setState({connectionClickStartHandle:{nodeId:et,type:a,handleId:rt}});return}const J=Np(Dt.target),ut=u||G||Sm,{connection:ct,isValid:U}=Hp({nodeId:et,id:rt,type:a},q,X.nodeId,X.handleId||null,X.type,ut,J);U&&Nt(ct),Lt==null||Lt(Dt),at.setState({connectionClickStartHandle:null})};return Ft.createElement("div",{"data-handleid":rt,"data-nodeid":et,"data-handlepos":o,"data-id":`${et}-${rt}-${a}`,className:Pr(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",tt,S,{source:!j,target:j,connectable:m,connectablestart:p,connectableend:_,connecting:bt,connectionindicator:m&&(p&&!nt||_&&nt)}]),onMouseDown:ft,onTouchStart:ft,onClick:lt?Ot:void 0,ref:V,...H},M)});Vp.displayName="Handle";var Uc=xt.memo(Vp);const Gp=({data:a,isConnectable:o,targetPosition:u=ce.Top,sourcePosition:m=ce.Bottom})=>Ft.createElement(Ft.Fragment,null,Ft.createElement(Uc,{type:"target",position:u,isConnectable:o}),a==null?void 0:a.label,Ft.createElement(Uc,{type:"source",position:m,isConnectable:o}));Gp.displayName="DefaultNode";var id=xt.memo(Gp);const Yp=({data:a,isConnectable:o,sourcePosition:u=ce.Bottom})=>Ft.createElement(Ft.Fragment,null,a==null?void 0:a.label,Ft.createElement(Uc,{type:"source",position:u,isConnectable:o}));Yp.displayName="InputNode";var Xp=xt.memo(Yp);const jp=({data:a,isConnectable:o,targetPosition:u=ce.Top})=>Ft.createElement(Ft.Fragment,null,Ft.createElement(Uc,{type:"target",position:u,isConnectable:o}),a==null?void 0:a.label);jp.displayName="OutputNode";var qp=xt.memo(jp);const Id=()=>null;Id.displayName="GroupNode";const IA=a=>({selectedNodes:a.getNodes().filter(o=>o.selected),selectedEdges:a.edges.filter(o=>o.selected).map(o=>({...o}))}),vc=a=>a.id;function OA(a,o){return er(a.selectedNodes.map(vc),o.selectedNodes.map(vc))&&er(a.selectedEdges.map(vc),o.selectedEdges.map(vc))}const Wp=xt.memo(({onSelectionChange:a})=>{const o=ki(),{selectedNodes:u,selectedEdges:m}=Qn(IA,OA);return xt.useEffect(()=>{const p={nodes:u,edges:m};a==null||a(p),o.getState().onSelectionChange.forEach(_=>_(p))},[u,m,a]),null});Wp.displayName="SelectionListener";const DA=a=>!!a.onSelectionChange;function RA({onSelectionChange:a}){const o=Qn(DA);return a||o?Ft.createElement(Wp,{onSelectionChange:a}):null}const LA=a=>({setNodes:a.setNodes,setEdges:a.setEdges,setDefaultNodesAndEdges:a.setDefaultNodesAndEdges,setMinZoom:a.setMinZoom,setMaxZoom:a.setMaxZoom,setTranslateExtent:a.setTranslateExtent,setNodeExtent:a.setNodeExtent,reset:a.reset});function Qo(a,o){xt.useEffect(()=>{typeof a<"u"&&o(a)},[a])}function Fe(a,o,u){xt.useEffect(()=>{typeof o<"u"&&u({[a]:o})},[o])}const BA=({nodes:a,edges:o,defaultNodes:u,defaultEdges:m,onConnect:p,onConnectStart:_,onConnectEnd:E,onClickConnectStart:T,onClickConnectEnd:M,nodesDraggable:S,nodesConnectable:N,nodesFocusable:D,edgesFocusable:H,edgesUpdatable:V,elevateNodesOnSelect:rt,minZoom:j,maxZoom:at,nodeExtent:et,onNodesChange:lt,onEdgesChange:tt,elementsSelectable:nt,connectionMode:bt,snapGrid:Nt,snapToGrid:ft,translateExtent:Ot,connectOnClick:st,defaultEdgeOptions:Yt,fitView:Dt,fitViewOptions:Tt,onNodesDelete:Lt,onEdgesDelete:X,onNodeDrag:q,onNodeDragStart:G,onNodeDragStop:J,onSelectionDrag:ut,onSelectionDragStart:ct,onSelectionDragStop:U,noPanClassName:$,nodeOrigin:ht,rfId:vt,autoPanOnConnect:At,autoPanOnNodeDrag:kt,onError:_t,connectionRadius:se,isValidConnection:qt,nodeDragThreshold:Oe})=>{const{setNodes:Re,setEdges:Ye,setDefaultNodesAndEdges:xn,setMinZoom:de,setMaxZoom:Mn,setTranslateExtent:Xe,setNodeExtent:Kn,reset:oe}=Qn(LA,er),Xt=ki();return xt.useEffect(()=>{const fe=m==null?void 0:m.map(pi=>({...pi,...Yt}));return xn(u,fe),()=>{oe()}},[]),Fe("defaultEdgeOptions",Yt,Xt.setState),Fe("connectionMode",bt,Xt.setState),Fe("onConnect",p,Xt.setState),Fe("onConnectStart",_,Xt.setState),Fe("onConnectEnd",E,Xt.setState),Fe("onClickConnectStart",T,Xt.setState),Fe("onClickConnectEnd",M,Xt.setState),Fe("nodesDraggable",S,Xt.setState),Fe("nodesConnectable",N,Xt.setState),Fe("nodesFocusable",D,Xt.setState),Fe("edgesFocusable",H,Xt.setState),Fe("edgesUpdatable",V,Xt.setState),Fe("elementsSelectable",nt,Xt.setState),Fe("elevateNodesOnSelect",rt,Xt.setState),Fe("snapToGrid",ft,Xt.setState),Fe("snapGrid",Nt,Xt.setState),Fe("onNodesChange",lt,Xt.setState),Fe("onEdgesChange",tt,Xt.setState),Fe("connectOnClick",st,Xt.setState),Fe("fitViewOnInit",Dt,Xt.setState),Fe("fitViewOnInitOptions",Tt,Xt.setState),Fe("onNodesDelete",Lt,Xt.setState),Fe("onEdgesDelete",X,Xt.setState),Fe("onNodeDrag",q,Xt.setState),Fe("onNodeDragStart",G,Xt.setState),Fe("onNodeDragStop",J,Xt.setState),Fe("onSelectionDrag",ut,Xt.setState),Fe("onSelectionDragStart",ct,Xt.setState),Fe("onSelectionDragStop",U,Xt.setState),Fe("noPanClassName",$,Xt.setState),Fe("nodeOrigin",ht,Xt.setState),Fe("rfId",vt,Xt.setState),Fe("autoPanOnConnect",At,Xt.setState),Fe("autoPanOnNodeDrag",kt,Xt.setState),Fe("onError",_t,Xt.setState),Fe("connectionRadius",se,Xt.setState),Fe("isValidConnection",qt,Xt.setState),Fe("nodeDragThreshold",Oe,Xt.setState),Qo(a,Re),Qo(o,Ye),Qo(j,de),Qo(at,Mn),Qo(Ot,Xe),Qo(et,Kn),null},bm={display:"none"},PA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Qp="react-flow__node-desc",Kp="react-flow__edge-desc",zA="react-flow__aria-live",kA=a=>a.ariaLiveMessage;function UA({rfId:a}){const o=Qn(kA);return Ft.createElement("div",{id:`${zA}-${a}`,"aria-live":"assertive","aria-atomic":"true",style:PA},o)}function FA({rfId:a,disableKeyboardA11y:o}){return Ft.createElement(Ft.Fragment,null,Ft.createElement("div",{id:`${Qp}-${a}`,style:bm},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Ft.createElement("div",{id:`${Kp}-${a}`,style:bm},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&Ft.createElement(UA,{rfId:a}))}var fu=(a=null,o={actInsideInputWithModifier:!0})=>{const[u,m]=xt.useState(!1),p=xt.useRef(!1),_=xt.useRef(new Set([])),[E,T]=xt.useMemo(()=>{if(a!==null){const S=(Array.isArray(a)?a:[a]).filter(D=>typeof D=="string").map(D=>D.split("+")),N=S.reduce((D,H)=>D.concat(...H),[]);return[S,N]}return[[],[]]},[a]);return xt.useEffect(()=>{const M=typeof document<"u"?document:null,S=(o==null?void 0:o.target)||M;if(a!==null){const N=V=>{if(p.current=V.ctrlKey||V.metaKey||V.shiftKey,(!p.current||p.current&&!o.actInsideInputWithModifier)&&$h(V))return!1;const j=Tm(V.code,T);_.current.add(V[j]),Cm(E,_.current,!1)&&(V.preventDefault(),m(!0))},D=V=>{if((!p.current||p.current&&!o.actInsideInputWithModifier)&&$h(V))return!1;const j=Tm(V.code,T);Cm(E,_.current,!0)?(m(!1),_.current.clear()):_.current.delete(V[j]),V.key==="Meta"&&_.current.clear(),p.current=!1},H=()=>{_.current.clear(),m(!1)};return S==null||S.addEventListener("keydown",N),S==null||S.addEventListener("keyup",D),window.addEventListener("blur",H),()=>{S==null||S.removeEventListener("keydown",N),S==null||S.removeEventListener("keyup",D),window.removeEventListener("blur",H)}}},[a,m]),u};function Cm(a,o,u){return a.filter(m=>u||m.length===o.size).some(m=>m.every(p=>o.has(p)))}function Tm(a,o){return o.includes(a)?"code":"key"}function Jp(a,o,u,m){var T,M;const p=a.parentNode||a.parentId;if(!p)return u;const _=o.get(p),E=rl(_,m);return Jp(_,o,{x:(u.x??0)+E.x,y:(u.y??0)+E.y,z:(((T=_[Wn])==null?void 0:T.z)??0)>(u.z??0)?((M=_[Wn])==null?void 0:M.z)??0:u.z??0},m)}function $p(a,o,u){a.forEach(m=>{var _;const p=m.parentNode||m.parentId;if(p&&!a.has(p))throw new Error(`Parent node ${p} not found`);if(p||u!=null&&u[m.id]){const{x:E,y:T,z:M}=Jp(m,a,{...m.position,z:((_=m[Wn])==null?void 0:_.z)??0},o);m.positionAbsolute={x:E,y:T},m[Wn].z=M,u!=null&&u[m.id]&&(m[Wn].isParent=!0)}})}function kh(a,o,u,m){const p=new Map,_={},E=m?1e3:0;return a.forEach(T=>{var V;const M=(Kr(T.zIndex)?T.zIndex:0)+(T.selected?E:0),S=o.get(T.id),N={...T,positionAbsolute:{x:T.position.x,y:T.position.y}},D=T.parentNode||T.parentId;D&&(_[D]=!0);const H=(S==null?void 0:S.type)&&(S==null?void 0:S.type)!==T.type;Object.defineProperty(N,Wn,{enumerable:!1,value:{handleBounds:H||(V=S==null?void 0:S[Wn])==null?void 0:V.handleBounds,z:M}}),p.set(T.id,N)}),$p(p,u,_),p}function t2(a,o={}){const{getNodes:u,width:m,height:p,minZoom:_,maxZoom:E,d3Zoom:T,d3Selection:M,fitViewOnInitDone:S,fitViewOnInit:N,nodeOrigin:D}=a(),H=o.initial&&!S&&N;if(T&&M&&(H||!o.initial)){const rt=u().filter(at=>{var lt;const et=o.includeHiddenNodes?at.width&&at.height:!at.hidden;return(lt=o.nodes)!=null&&lt.length?et&&o.nodes.some(tt=>tt.id===at.id):et}),j=rt.every(at=>at.width&&at.height);if(rt.length>0&&j){const at=Md(rt,D),{x:et,y:lt,zoom:tt}=Up(at,m,p,o.minZoom??_,o.maxZoom??E,o.padding??.1),nt=js.translate(et,lt).scale(tt);return typeof o.duration=="number"&&o.duration>0?T.transform(po(M,o.duration),nt):T.transform(M,nt),!0}}return!1}function HA(a,o){return a.forEach(u=>{const m=o.get(u.id);m&&o.set(m.id,{...m,[Wn]:m[Wn],selected:u.selected})}),new Map(o)}function ZA(a,o){return o.map(u=>{const m=a.find(p=>p.id===u.id);return m&&(u.selected=m.selected),u})}function Ec({changedNodes:a,changedEdges:o,get:u,set:m}){const{nodeInternals:p,edges:_,onNodesChange:E,onEdgesChange:T,hasDefaultNodes:M,hasDefaultEdges:S}=u();a!=null&&a.length&&(M&&m({nodeInternals:HA(a,p)}),E==null||E(a)),o!=null&&o.length&&(S&&m({edges:ZA(o,_)}),T==null||T(o))}const Ko=()=>{},VA={zoomIn:Ko,zoomOut:Ko,zoomTo:Ko,getZoom:()=>1,setViewport:Ko,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ko,fitBounds:Ko,project:a=>a,screenToFlowPosition:a=>a,flowToScreenPosition:a=>a,viewportInitialized:!1},GA=a=>({d3Zoom:a.d3Zoom,d3Selection:a.d3Selection}),YA=()=>{const a=ki(),{d3Zoom:o,d3Selection:u}=Qn(GA,er);return xt.useMemo(()=>u&&o?{zoomIn:p=>o.scaleBy(po(u,p==null?void 0:p.duration),1.2),zoomOut:p=>o.scaleBy(po(u,p==null?void 0:p.duration),1/1.2),zoomTo:(p,_)=>o.scaleTo(po(u,_==null?void 0:_.duration),p),getZoom:()=>a.getState().transform[2],setViewport:(p,_)=>{const[E,T,M]=a.getState().transform,S=js.translate(p.x??E,p.y??T).scale(p.zoom??M);o.transform(po(u,_==null?void 0:_.duration),S)},getViewport:()=>{const[p,_,E]=a.getState().transform;return{x:p,y:_,zoom:E}},fitView:p=>t2(a.getState,p),setCenter:(p,_,E)=>{const{width:T,height:M,maxZoom:S}=a.getState(),N=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:S,D=T/2-p*N,H=M/2-_*N,V=js.translate(D,H).scale(N);o.transform(po(u,E==null?void 0:E.duration),V)},fitBounds:(p,_)=>{const{width:E,height:T,minZoom:M,maxZoom:S}=a.getState(),{x:N,y:D,zoom:H}=Up(p,E,T,M,S,(_==null?void 0:_.padding)??.1),V=js.translate(N,D).scale(H);o.transform(po(u,_==null?void 0:_.duration),V)},project:p=>{const{transform:_,snapToGrid:E,snapGrid:T}=a.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),nd(p,_,E,T)},screenToFlowPosition:p=>{const{transform:_,snapToGrid:E,snapGrid:T,domNode:M}=a.getState();if(!M)return p;const{x:S,y:N}=M.getBoundingClientRect(),D={x:p.x-S,y:p.y-N};return nd(D,_,E,T)},flowToScreenPosition:p=>{const{transform:_,domNode:E}=a.getState();if(!E)return p;const{x:T,y:M}=E.getBoundingClientRect(),S=Pp(p,_);return{x:S.x+T,y:S.y+M}},viewportInitialized:!0}:VA,[o,u])};function e2(){const a=YA(),o=ki(),u=xt.useCallback(()=>o.getState().getNodes().map(j=>({...j})),[]),m=xt.useCallback(j=>o.getState().nodeInternals.get(j),[]),p=xt.useCallback(()=>{const{edges:j=[]}=o.getState();return j.map(at=>({...at}))},[]),_=xt.useCallback(j=>{const{edges:at=[]}=o.getState();return at.find(et=>et.id===j)},[]),E=xt.useCallback(j=>{const{getNodes:at,setNodes:et,hasDefaultNodes:lt,onNodesChange:tt}=o.getState(),nt=at(),bt=typeof j=="function"?j(nt):j;if(lt)et(bt);else if(tt){const Nt=bt.length===0?nt.map(ft=>({type:"remove",id:ft.id})):bt.map(ft=>({item:ft,type:"reset"}));tt(Nt)}},[]),T=xt.useCallback(j=>{const{edges:at=[],setEdges:et,hasDefaultEdges:lt,onEdgesChange:tt}=o.getState(),nt=typeof j=="function"?j(at):j;if(lt)et(nt);else if(tt){const bt=nt.length===0?at.map(Nt=>({type:"remove",id:Nt.id})):nt.map(Nt=>({item:Nt,type:"reset"}));tt(bt)}},[]),M=xt.useCallback(j=>{const at=Array.isArray(j)?j:[j],{getNodes:et,setNodes:lt,hasDefaultNodes:tt,onNodesChange:nt}=o.getState();if(tt){const Nt=[...et(),...at];lt(Nt)}else if(nt){const bt=at.map(Nt=>({item:Nt,type:"add"}));nt(bt)}},[]),S=xt.useCallback(j=>{const at=Array.isArray(j)?j:[j],{edges:et=[],setEdges:lt,hasDefaultEdges:tt,onEdgesChange:nt}=o.getState();if(tt)lt([...et,...at]);else if(nt){const bt=at.map(Nt=>({item:Nt,type:"add"}));nt(bt)}},[]),N=xt.useCallback(()=>{const{getNodes:j,edges:at=[],transform:et}=o.getState(),[lt,tt,nt]=et;return{nodes:j().map(bt=>({...bt})),edges:at.map(bt=>({...bt})),viewport:{x:lt,y:tt,zoom:nt}}},[]),D=xt.useCallback(({nodes:j,edges:at})=>{const{nodeInternals:et,getNodes:lt,edges:tt,hasDefaultNodes:nt,hasDefaultEdges:bt,onNodesDelete:Nt,onEdgesDelete:ft,onNodesChange:Ot,onEdgesChange:st}=o.getState(),Yt=(j||[]).map(q=>q.id),Dt=(at||[]).map(q=>q.id),Tt=lt().reduce((q,G)=>{const J=G.parentNode||G.parentId,ut=!Yt.includes(G.id)&&J&&q.find(U=>U.id===J);return(typeof G.deletable=="boolean"?G.deletable:!0)&&(Yt.includes(G.id)||ut)&&q.push(G),q},[]),Lt=tt.filter(q=>typeof q.deletable=="boolean"?q.deletable:!0),X=Lt.filter(q=>Dt.includes(q.id));if(Tt||X){const q=kp(Tt,Lt),G=[...X,...q],J=G.reduce((ut,ct)=>(ut.includes(ct.id)||ut.push(ct.id),ut),[]);if((bt||nt)&&(bt&&o.setState({edges:tt.filter(ut=>!J.includes(ut.id))}),nt&&(Tt.forEach(ut=>{et.delete(ut.id)}),o.setState({nodeInternals:new Map(et)}))),J.length>0&&(ft==null||ft(G),st&&st(J.map(ut=>({id:ut,type:"remove"})))),Tt.length>0&&(Nt==null||Nt(Tt),Ot)){const ut=Tt.map(ct=>({id:ct.id,type:"remove"}));Ot(ut)}}},[]),H=xt.useCallback(j=>{const at=fA(j),et=at?null:o.getState().nodeInternals.get(j.id);return!at&&!et?[null,null,at]:[at?j:_m(et),et,at]},[]),V=xt.useCallback((j,at=!0,et)=>{const[lt,tt,nt]=H(j);return lt?(et||o.getState().getNodes()).filter(bt=>{if(!nt&&(bt.id===tt.id||!bt.positionAbsolute))return!1;const Nt=_m(bt),ft=Jh(Nt,lt);return at&&ft>0||ft>=lt.width*lt.height}):[]},[]),rt=xt.useCallback((j,at,et=!0)=>{const[lt]=H(j);if(!lt)return!1;const tt=Jh(lt,at);return et&&tt>0||tt>=lt.width*lt.height},[]);return xt.useMemo(()=>({...a,getNodes:u,getNode:m,getEdges:p,getEdge:_,setNodes:E,setEdges:T,addNodes:M,addEdges:S,toObject:N,deleteElements:D,getIntersectingNodes:V,isNodeIntersecting:rt}),[a,u,m,p,_,E,T,M,S,N,D,V,rt])}const XA={actInsideInputWithModifier:!1};var jA=({deleteKeyCode:a,multiSelectionKeyCode:o})=>{const u=ki(),{deleteElements:m}=e2(),p=fu(a,XA),_=fu(o);xt.useEffect(()=>{if(p){const{edges:E,getNodes:T}=u.getState(),M=T().filter(N=>N.selected),S=E.filter(N=>N.selected);m({nodes:M,edges:S}),u.setState({nodesSelectionActive:!1})}},[p]),xt.useEffect(()=>{u.setState({multiSelectionActive:_})},[_])};function qA(a){const o=ki();xt.useEffect(()=>{let u;const m=()=>{var _,E;if(!a.current)return;const p=vd(a.current);(p.height===0||p.width===0)&&((E=(_=o.getState()).onError)==null||E.call(_,"004",os.error004())),o.setState({width:p.width||500,height:p.height||500})};return m(),window.addEventListener("resize",m),a.current&&(u=new ResizeObserver(()=>m()),u.observe(a.current)),()=>{window.removeEventListener("resize",m),u&&a.current&&u.unobserve(a.current)}},[])}const Od={position:"absolute",width:"100%",height:"100%",top:0,left:0},WA=(a,o)=>a.x!==o.x||a.y!==o.y||a.zoom!==o.k,Ac=a=>({x:a.x,y:a.y,zoom:a.k}),Jo=(a,o)=>a.target.closest(`.${o}`),Mm=(a,o)=>o===2&&Array.isArray(a)&&a.includes(2),Nm=a=>{const o=a.ctrlKey&&Pc()?10:1;return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*o},QA=a=>({d3Zoom:a.d3Zoom,d3Selection:a.d3Selection,d3ZoomHandler:a.d3ZoomHandler,userSelectionActive:a.userSelectionActive}),KA=({onMove:a,onMoveStart:o,onMoveEnd:u,onPaneContextMenu:m,zoomOnScroll:p=!0,zoomOnPinch:_=!0,panOnScroll:E=!1,panOnScrollSpeed:T=.5,panOnScrollMode:M=_o.Free,zoomOnDoubleClick:S=!0,elementsSelectable:N,panOnDrag:D=!0,defaultViewport:H,translateExtent:V,minZoom:rt,maxZoom:j,zoomActivationKeyCode:at,preventScrolling:et=!0,children:lt,noWheelClassName:tt,noPanClassName:nt})=>{const bt=xt.useRef(),Nt=ki(),ft=xt.useRef(!1),Ot=xt.useRef(!1),st=xt.useRef(null),Yt=xt.useRef({x:0,y:0,zoom:0}),{d3Zoom:Dt,d3Selection:Tt,d3ZoomHandler:Lt,userSelectionActive:X}=Qn(QA,er),q=fu(at),G=xt.useRef(0),J=xt.useRef(!1),ut=xt.useRef();return qA(st),xt.useEffect(()=>{if(st.current){const ct=st.current.getBoundingClientRect(),U=nA().scaleExtent([rt,j]).translateExtent(V),$=fa(st.current).call(U),ht=js.translate(H.x,H.y).scale(ll(H.zoom,rt,j)),vt=[[0,0],[ct.width,ct.height]],At=U.constrain()(ht,vt,V);U.transform($,At),U.wheelDelta(Nm),Nt.setState({d3Zoom:U,d3Selection:$,d3ZoomHandler:$.on("wheel.zoom"),transform:[At.x,At.y,At.k],domNode:st.current.closest(".react-flow")})}},[]),xt.useEffect(()=>{Tt&&Dt&&(E&&!q&&!X?Tt.on("wheel.zoom",ct=>{if(Jo(ct,tt))return!1;ct.preventDefault(),ct.stopImmediatePropagation();const U=Tt.property("__zoom").k||1;if(ct.ctrlKey&&_){const qt=ka(ct),Oe=Nm(ct),Re=U*Math.pow(2,Oe);Dt.scaleTo(Tt,Re,qt,ct);return}const $=ct.deltaMode===1?20:1;let ht=M===_o.Vertical?0:ct.deltaX*$,vt=M===_o.Horizontal?0:ct.deltaY*$;!Pc()&&ct.shiftKey&&M!==_o.Vertical&&(ht=ct.deltaY*$,vt=0),Dt.translateBy(Tt,-(ht/U)*T,-(vt/U)*T,{internal:!0});const At=Ac(Tt.property("__zoom")),{onViewportChangeStart:kt,onViewportChange:_t,onViewportChangeEnd:se}=Nt.getState();clearTimeout(ut.current),J.current||(J.current=!0,o==null||o(ct,At),kt==null||kt(At)),J.current&&(a==null||a(ct,At),_t==null||_t(At),ut.current=setTimeout(()=>{u==null||u(ct,At),se==null||se(At),J.current=!1},150))},{passive:!1}):typeof Lt<"u"&&Tt.on("wheel.zoom",function(ct,U){if(!et&&ct.type==="wheel"&&!ct.ctrlKey||Jo(ct,tt))return null;ct.preventDefault(),Lt.call(this,ct,U)},{passive:!1}))},[X,E,M,Tt,Dt,Lt,q,_,et,tt,o,a,u]),xt.useEffect(()=>{Dt&&Dt.on("start",ct=>{var ht,vt;if(!ct.sourceEvent||ct.sourceEvent.internal)return null;G.current=(ht=ct.sourceEvent)==null?void 0:ht.button;const{onViewportChangeStart:U}=Nt.getState(),$=Ac(ct.transform);ft.current=!0,Yt.current=$,((vt=ct.sourceEvent)==null?void 0:vt.type)==="mousedown"&&Nt.setState({paneDragging:!0}),U==null||U($),o==null||o(ct.sourceEvent,$)})},[Dt,o]),xt.useEffect(()=>{Dt&&(X&&!ft.current?Dt.on("zoom",null):X||Dt.on("zoom",ct=>{var $;const{onViewportChange:U}=Nt.getState();if(Nt.setState({transform:[ct.transform.x,ct.transform.y,ct.transform.k]}),Ot.current=!!(m&&Mm(D,G.current??0)),(a||U)&&!(($=ct.sourceEvent)!=null&&$.internal)){const ht=Ac(ct.transform);U==null||U(ht),a==null||a(ct.sourceEvent,ht)}}))},[X,Dt,a,D,m]),xt.useEffect(()=>{Dt&&Dt.on("end",ct=>{if(!ct.sourceEvent||ct.sourceEvent.internal)return null;const{onViewportChangeEnd:U}=Nt.getState();if(ft.current=!1,Nt.setState({paneDragging:!1}),m&&Mm(D,G.current??0)&&!Ot.current&&m(ct.sourceEvent),Ot.current=!1,(u||U)&&WA(Yt.current,ct.transform)){const $=Ac(ct.transform);Yt.current=$,clearTimeout(bt.current),bt.current=setTimeout(()=>{U==null||U($),u==null||u(ct.sourceEvent,$)},E?150:0)}})},[Dt,E,D,u,m]),xt.useEffect(()=>{Dt&&Dt.filter(ct=>{const U=q||p,$=_&&ct.ctrlKey;if((D===!0||Array.isArray(D)&&D.includes(1))&&ct.button===1&&ct.type==="mousedown"&&(Jo(ct,"react-flow__node")||Jo(ct,"react-flow__edge")))return!0;if(!D&&!U&&!E&&!S&&!_||X||!S&&ct.type==="dblclick"||Jo(ct,tt)&&ct.type==="wheel"||Jo(ct,nt)&&(ct.type!=="wheel"||E&&ct.type==="wheel"&&!q)||!_&&ct.ctrlKey&&ct.type==="wheel"||!U&&!E&&!$&&ct.type==="wheel"||!D&&(ct.type==="mousedown"||ct.type==="touchstart")||Array.isArray(D)&&!D.includes(ct.button)&&ct.type==="mousedown")return!1;const ht=Array.isArray(D)&&D.includes(ct.button)||!ct.button||ct.button<=1;return(!ct.ctrlKey||ct.type==="wheel")&&ht})},[X,Dt,p,_,E,S,D,N,q]),Ft.createElement("div",{className:"react-flow__renderer",ref:st,style:Od},lt)},JA=a=>({userSelectionActive:a.userSelectionActive,userSelectionRect:a.userSelectionRect});function $A(){const{userSelectionActive:a,userSelectionRect:o}=Qn(JA,er);return a&&o?Ft.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function Im(a,o){const u=o.parentNode||o.parentId,m=a.find(p=>p.id===u);if(m){const p=o.position.x+o.width-m.width,_=o.position.y+o.height-m.height;if(p>0||_>0||o.position.x<0||o.position.y<0){if(m.style={...m.style},m.style.width=m.style.width??m.width,m.style.height=m.style.height??m.height,p>0&&(m.style.width+=p),_>0&&(m.style.height+=_),o.position.x<0){const E=Math.abs(o.position.x);m.position.x=m.position.x-E,m.style.width+=E,o.position.x=0}if(o.position.y<0){const E=Math.abs(o.position.y);m.position.y=m.position.y-E,m.style.height+=E,o.position.y=0}m.width=m.style.width,m.height=m.style.height}}}function t3(a,o){if(a.some(m=>m.type==="reset"))return a.filter(m=>m.type==="reset").map(m=>m.item);const u=a.filter(m=>m.type==="add").map(m=>m.item);return o.reduce((m,p)=>{const _=a.filter(T=>T.id===p.id);if(_.length===0)return m.push(p),m;const E={...p};for(const T of _)if(T)switch(T.type){case"select":{E.selected=T.selected;break}case"position":{typeof T.position<"u"&&(E.position=T.position),typeof T.positionAbsolute<"u"&&(E.positionAbsolute=T.positionAbsolute),typeof T.dragging<"u"&&(E.dragging=T.dragging),E.expandParent&&Im(m,E);break}case"dimensions":{typeof T.dimensions<"u"&&(E.width=T.dimensions.width,E.height=T.dimensions.height),typeof T.updateStyle<"u"&&(E.style={...E.style||{},...T.dimensions}),typeof T.resizing=="boolean"&&(E.resizing=T.resizing),E.expandParent&&Im(m,E);break}case"remove":return m}return m.push(E),m},u)}function e3(a,o){return t3(a,o)}const Ys=(a,o)=>({id:a,type:"select",selected:o});function el(a,o){return a.reduce((u,m)=>{const p=o.includes(m.id);return!m.selected&&p?(m.selected=!0,u.push(Ys(m.id,!0))):m.selected&&!p&&(m.selected=!1,u.push(Ys(m.id,!1))),u},[])}const Uh=(a,o)=>u=>{u.target===o.current&&(a==null||a(u))},n3=a=>({userSelectionActive:a.userSelectionActive,elementsSelectable:a.elementsSelectable,dragging:a.paneDragging}),n2=xt.memo(({isSelecting:a,selectionMode:o=cu.Full,panOnDrag:u,onSelectionStart:m,onSelectionEnd:p,onPaneClick:_,onPaneContextMenu:E,onPaneScroll:T,onPaneMouseEnter:M,onPaneMouseMove:S,onPaneMouseLeave:N,children:D})=>{const H=xt.useRef(null),V=ki(),rt=xt.useRef(0),j=xt.useRef(0),at=xt.useRef(),{userSelectionActive:et,elementsSelectable:lt,dragging:tt}=Qn(n3,er),nt=()=>{V.setState({userSelectionActive:!1,userSelectionRect:null}),rt.current=0,j.current=0},bt=Lt=>{_==null||_(Lt),V.getState().resetSelectedElements(),V.setState({nodesSelectionActive:!1})},Nt=Lt=>{if(Array.isArray(u)&&(u!=null&&u.includes(2))){Lt.preventDefault();return}E==null||E(Lt)},ft=T?Lt=>T(Lt):void 0,Ot=Lt=>{const{resetSelectedElements:X,domNode:q}=V.getState();if(at.current=q==null?void 0:q.getBoundingClientRect(),!lt||!a||Lt.button!==0||Lt.target!==H.current||!at.current)return;const{x:G,y:J}=qs(Lt,at.current);X(),V.setState({userSelectionRect:{width:0,height:0,startX:G,startY:J,x:G,y:J}}),m==null||m(Lt)},st=Lt=>{const{userSelectionRect:X,nodeInternals:q,edges:G,transform:J,onNodesChange:ut,onEdgesChange:ct,nodeOrigin:U,getNodes:$}=V.getState();if(!a||!at.current||!X)return;V.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ht=qs(Lt,at.current),vt=X.startX??0,At=X.startY??0,kt={...X,x:ht.x<vt?ht.x:vt,y:ht.y<At?ht.y:At,width:Math.abs(ht.x-vt),height:Math.abs(ht.y-At)},_t=$(),se=zp(q,kt,J,o===cu.Partial,!0,U),qt=kp(se,G).map(Re=>Re.id),Oe=se.map(Re=>Re.id);if(rt.current!==Oe.length){rt.current=Oe.length;const Re=el(_t,Oe);Re.length&&(ut==null||ut(Re))}if(j.current!==qt.length){j.current=qt.length;const Re=el(G,qt);Re.length&&(ct==null||ct(Re))}V.setState({userSelectionRect:kt})},Yt=Lt=>{if(Lt.button!==0)return;const{userSelectionRect:X}=V.getState();!et&&X&&Lt.target===H.current&&(bt==null||bt(Lt)),V.setState({nodesSelectionActive:rt.current>0}),nt(),p==null||p(Lt)},Dt=Lt=>{et&&(V.setState({nodesSelectionActive:rt.current>0}),p==null||p(Lt)),nt()},Tt=lt&&(a||et);return Ft.createElement("div",{className:Pr(["react-flow__pane",{dragging:tt,selection:a}]),onClick:Tt?void 0:Uh(bt,H),onContextMenu:Uh(Nt,H),onWheel:Uh(ft,H),onMouseEnter:Tt?void 0:M,onMouseDown:Tt?Ot:void 0,onMouseMove:Tt?st:S,onMouseUp:Tt?Yt:void 0,onMouseLeave:Tt?Dt:N,ref:H,style:Od},D,Ft.createElement($A,null))});n2.displayName="Pane";function i2(a,o){const u=a.parentNode||a.parentId;if(!u)return!1;const m=o.get(u);return m?m.selected?!0:i2(m,o):!1}function Om(a,o,u){let m=a;do{if(m!=null&&m.matches(o))return!0;if(m===u.current)return!1;m=m.parentElement}while(m);return!1}function i3(a,o,u,m){return Array.from(a.values()).filter(p=>(p.selected||p.id===m)&&(!p.parentNode||p.parentId||!i2(p,a))&&(p.draggable||o&&typeof p.draggable>"u")).map(p=>{var _,E;return{id:p.id,position:p.position||{x:0,y:0},positionAbsolute:p.positionAbsolute||{x:0,y:0},distance:{x:u.x-(((_=p.positionAbsolute)==null?void 0:_.x)??0),y:u.y-(((E=p.positionAbsolute)==null?void 0:E.y)??0)},delta:{x:0,y:0},extent:p.extent,parentNode:p.parentNode||p.parentId,parentId:p.parentNode||p.parentId,width:p.width,height:p.height,expandParent:p.expandParent}})}function r3(a,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(a.width||0),o[1][1]-(a.height||0)]]}function r2(a,o,u,m,p=[0,0],_){const E=r3(a,a.extent||m);let T=E;const M=a.parentNode||a.parentId;if(a.extent==="parent"&&!a.expandParent)if(M&&a.width&&a.height){const D=u.get(M),{x:H,y:V}=rl(D,p).positionAbsolute;T=D&&Kr(H)&&Kr(V)&&Kr(D.width)&&Kr(D.height)?[[H+a.width*p[0],V+a.height*p[1]],[H+D.width-a.width+a.width*p[0],V+D.height-a.height+a.height*p[1]]]:T}else _==null||_("005",os.error005()),T=E;else if(a.extent&&M&&a.extent!=="parent"){const D=u.get(M),{x:H,y:V}=rl(D,p).positionAbsolute;T=[[a.extent[0][0]+H,a.extent[0][1]+V],[a.extent[1][0]+H,a.extent[1][1]+V]]}let S={x:0,y:0};if(M){const D=u.get(M);S=rl(D,p).positionAbsolute}const N=T&&T!=="parent"?Ed(o,T):o;return{position:{x:N.x-S.x,y:N.y-S.y},positionAbsolute:N}}function Fh({nodeId:a,dragItems:o,nodeInternals:u}){const m=o.map(p=>({...u.get(p.id),position:p.position,positionAbsolute:p.positionAbsolute}));return[a?m.find(p=>p.id===a):m[0],m]}const Dm=(a,o,u,m)=>{const p=o.querySelectorAll(a);if(!p||!p.length)return null;const _=Array.from(p),E=o.getBoundingClientRect(),T={x:E.width*m[0],y:E.height*m[1]};return _.map(M=>{const S=M.getBoundingClientRect();return{id:M.getAttribute("data-handleid"),position:M.getAttribute("data-handlepos"),x:(S.left-E.left-T.x)/u,y:(S.top-E.top-T.y)/u,...vd(M)}})};function Jl(a,o,u){return u===void 0?u:m=>{const p=o().nodeInternals.get(a);p&&u(m,{...p})}}function rd({id:a,store:o,unselect:u=!1,nodeRef:m}){const{addSelectedNodes:p,unselectNodesAndEdges:_,multiSelectionActive:E,nodeInternals:T,onError:M}=o.getState(),S=T.get(a);if(!S){M==null||M("012",os.error012(a));return}o.setState({nodesSelectionActive:!1}),S.selected?(u||S.selected&&E)&&(_({nodes:[S],edges:[]}),requestAnimationFrame(()=>{var N;return(N=m==null?void 0:m.current)==null?void 0:N.blur()})):p([a])}function a3(){const a=ki();return xt.useCallback(({sourceEvent:u})=>{const{transform:m,snapGrid:p,snapToGrid:_}=a.getState(),E=u.touches?u.touches[0].clientX:u.clientX,T=u.touches?u.touches[0].clientY:u.clientY,M={x:(E-m[0])/m[2],y:(T-m[1])/m[2]};return{xSnapped:_?p[0]*Math.round(M.x/p[0]):M.x,ySnapped:_?p[1]*Math.round(M.y/p[1]):M.y,...M}},[])}function Hh(a){return(o,u,m)=>a==null?void 0:a(o,m)}function a2({nodeRef:a,disabled:o=!1,noDragClassName:u,handleSelector:m,nodeId:p,isSelectable:_,selectNodesOnDrag:E}){const T=ki(),[M,S]=xt.useState(!1),N=xt.useRef([]),D=xt.useRef({x:null,y:null}),H=xt.useRef(0),V=xt.useRef(null),rt=xt.useRef({x:0,y:0}),j=xt.useRef(null),at=xt.useRef(!1),et=xt.useRef(!1),lt=xt.useRef(!1),tt=a3();return xt.useEffect(()=>{if(a!=null&&a.current){const nt=fa(a.current),bt=({x:Ot,y:st})=>{const{nodeInternals:Yt,onNodeDrag:Dt,onSelectionDrag:Tt,updateNodePositions:Lt,nodeExtent:X,snapGrid:q,snapToGrid:G,nodeOrigin:J,onError:ut}=T.getState();D.current={x:Ot,y:st};let ct=!1,U={x:0,y:0,x2:0,y2:0};if(N.current.length>1&&X){const ht=Md(N.current,J);U=Ad(ht)}if(N.current=N.current.map(ht=>{const vt={x:Ot-ht.distance.x,y:st-ht.distance.y};G&&(vt.x=q[0]*Math.round(vt.x/q[0]),vt.y=q[1]*Math.round(vt.y/q[1]));const At=[[X[0][0],X[0][1]],[X[1][0],X[1][1]]];N.current.length>1&&X&&!ht.extent&&(At[0][0]=ht.positionAbsolute.x-U.x+X[0][0],At[1][0]=ht.positionAbsolute.x+(ht.width??0)-U.x2+X[1][0],At[0][1]=ht.positionAbsolute.y-U.y+X[0][1],At[1][1]=ht.positionAbsolute.y+(ht.height??0)-U.y2+X[1][1]);const kt=r2(ht,vt,Yt,At,J,ut);return ct=ct||ht.position.x!==kt.position.x||ht.position.y!==kt.position.y,ht.position=kt.position,ht.positionAbsolute=kt.positionAbsolute,ht}),!ct)return;Lt(N.current,!0,!0),S(!0);const $=p?Dt:Hh(Tt);if($&&j.current){const[ht,vt]=Fh({nodeId:p,dragItems:N.current,nodeInternals:Yt});$(j.current,ht,vt)}},Nt=()=>{if(!V.current)return;const[Ot,st]=Mp(rt.current,V.current);if(Ot!==0||st!==0){const{transform:Yt,panBy:Dt}=T.getState();D.current.x=(D.current.x??0)-Ot/Yt[2],D.current.y=(D.current.y??0)-st/Yt[2],Dt({x:Ot,y:st})&&bt(D.current)}H.current=requestAnimationFrame(Nt)},ft=Ot=>{var J;const{nodeInternals:st,multiSelectionActive:Yt,nodesDraggable:Dt,unselectNodesAndEdges:Tt,onNodeDragStart:Lt,onSelectionDragStart:X}=T.getState();et.current=!0;const q=p?Lt:Hh(X);(!E||!_)&&!Yt&&p&&((J=st.get(p))!=null&&J.selected||Tt()),p&&_&&E&&rd({id:p,store:T,nodeRef:a});const G=tt(Ot);if(D.current=G,N.current=i3(st,Dt,G,p),q&&N.current){const[ut,ct]=Fh({nodeId:p,dragItems:N.current,nodeInternals:st});q(Ot.sourceEvent,ut,ct)}};if(o)nt.on(".drag",null);else{const Ot=hv().on("start",st=>{const{domNode:Yt,nodeDragThreshold:Dt}=T.getState();Dt===0&&ft(st),lt.current=!1;const Tt=tt(st);D.current=Tt,V.current=(Yt==null?void 0:Yt.getBoundingClientRect())||null,rt.current=qs(st.sourceEvent,V.current)}).on("drag",st=>{var Lt,X;const Yt=tt(st),{autoPanOnNodeDrag:Dt,nodeDragThreshold:Tt}=T.getState();if(st.sourceEvent.type==="touchmove"&&st.sourceEvent.touches.length>1&&(lt.current=!0),!lt.current){if(!at.current&&et.current&&Dt&&(at.current=!0,Nt()),!et.current){const q=Yt.xSnapped-(((Lt=D==null?void 0:D.current)==null?void 0:Lt.x)??0),G=Yt.ySnapped-(((X=D==null?void 0:D.current)==null?void 0:X.y)??0);Math.sqrt(q*q+G*G)>Tt&&ft(st)}(D.current.x!==Yt.xSnapped||D.current.y!==Yt.ySnapped)&&N.current&&et.current&&(j.current=st.sourceEvent,rt.current=qs(st.sourceEvent,V.current),bt(Yt))}}).on("end",st=>{if(!(!et.current||lt.current)&&(S(!1),at.current=!1,et.current=!1,cancelAnimationFrame(H.current),N.current)){const{updateNodePositions:Yt,nodeInternals:Dt,onNodeDragStop:Tt,onSelectionDragStop:Lt}=T.getState(),X=p?Tt:Hh(Lt);if(Yt(N.current,!1,!1),X){const[q,G]=Fh({nodeId:p,dragItems:N.current,nodeInternals:Dt});X(st.sourceEvent,q,G)}}}).filter(st=>{const Yt=st.target;return!st.button&&(!u||!Om(Yt,`.${u}`,a))&&(!m||Om(Yt,m,a))});return nt.call(Ot),()=>{nt.on(".drag",null)}}}},[a,o,u,m,_,T,p,E,tt]),M}function s2(){const a=ki();return xt.useCallback(u=>{const{nodeInternals:m,nodeExtent:p,updateNodePositions:_,getNodes:E,snapToGrid:T,snapGrid:M,onError:S,nodesDraggable:N}=a.getState(),D=E().filter(lt=>lt.selected&&(lt.draggable||N&&typeof lt.draggable>"u")),H=T?M[0]:5,V=T?M[1]:5,rt=u.isShiftPressed?4:1,j=u.x*H*rt,at=u.y*V*rt,et=D.map(lt=>{if(lt.positionAbsolute){const tt={x:lt.positionAbsolute.x+j,y:lt.positionAbsolute.y+at};T&&(tt.x=M[0]*Math.round(tt.x/M[0]),tt.y=M[1]*Math.round(tt.y/M[1]));const{positionAbsolute:nt,position:bt}=r2(lt,tt,m,p,void 0,S);lt.position=bt,lt.positionAbsolute=nt}return lt});_(et,!0,!1)},[])}const al={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var $l=a=>{const o=({id:u,type:m,data:p,xPos:_,yPos:E,xPosOrigin:T,yPosOrigin:M,selected:S,onClick:N,onMouseEnter:D,onMouseMove:H,onMouseLeave:V,onContextMenu:rt,onDoubleClick:j,style:at,className:et,isDraggable:lt,isSelectable:tt,isConnectable:nt,isFocusable:bt,selectNodesOnDrag:Nt,sourcePosition:ft,targetPosition:Ot,hidden:st,resizeObserver:Yt,dragHandle:Dt,zIndex:Tt,isParent:Lt,noDragClassName:X,noPanClassName:q,initialized:G,disableKeyboardA11y:J,ariaLabel:ut,rfId:ct,hasHandleBounds:U})=>{const $=ki(),ht=xt.useRef(null),vt=xt.useRef(null),At=xt.useRef(ft),kt=xt.useRef(Ot),_t=xt.useRef(m),se=tt||lt||N||D||H||V,qt=s2(),Oe=Jl(u,$.getState,D),Re=Jl(u,$.getState,H),Ye=Jl(u,$.getState,V),xn=Jl(u,$.getState,rt),de=Jl(u,$.getState,j),Mn=oe=>{const{nodeDragThreshold:Xt}=$.getState();if(tt&&(!Nt||!lt||Xt>0)&&rd({id:u,store:$,nodeRef:ht}),N){const fe=$.getState().nodeInternals.get(u);fe&&N(oe,{...fe})}},Xe=oe=>{if(!$h(oe)&&!J)if(Ip.includes(oe.key)&&tt){const Xt=oe.key==="Escape";rd({id:u,store:$,unselect:Xt,nodeRef:ht})}else lt&&S&&Object.prototype.hasOwnProperty.call(al,oe.key)&&($.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_}, y: ${~~E}`}),qt({x:al[oe.key].x,y:al[oe.key].y,isShiftPressed:oe.shiftKey}))};xt.useEffect(()=>()=>{vt.current&&(Yt==null||Yt.unobserve(vt.current),vt.current=null)},[]),xt.useEffect(()=>{if(ht.current&&!st){const oe=ht.current;(!G||!U||vt.current!==oe)&&(vt.current&&(Yt==null||Yt.unobserve(vt.current)),Yt==null||Yt.observe(oe),vt.current=oe)}},[st,G,U]),xt.useEffect(()=>{const oe=_t.current!==m,Xt=At.current!==ft,fe=kt.current!==Ot;ht.current&&(oe||Xt||fe)&&(oe&&(_t.current=m),Xt&&(At.current=ft),fe&&(kt.current=Ot),$.getState().updateNodeDimensions([{id:u,nodeElement:ht.current,forceUpdate:!0}]))},[u,m,ft,Ot]);const Kn=a2({nodeRef:ht,disabled:st||!lt,noDragClassName:X,handleSelector:Dt,nodeId:u,isSelectable:tt,selectNodesOnDrag:Nt});return st?null:Ft.createElement("div",{className:Pr(["react-flow__node",`react-flow__node-${m}`,{[q]:lt},et,{selected:S,selectable:tt,parent:Lt,dragging:Kn}]),ref:ht,style:{zIndex:Tt,transform:`translate(${T}px,${M}px)`,pointerEvents:se?"all":"none",visibility:G?"visible":"hidden",...at},"data-id":u,"data-testid":`rf__node-${u}`,onMouseEnter:Oe,onMouseMove:Re,onMouseLeave:Ye,onContextMenu:xn,onClick:Mn,onDoubleClick:de,onKeyDown:bt?Xe:void 0,tabIndex:bt?0:void 0,role:bt?"button":void 0,"aria-describedby":J?void 0:`${Qp}-${ct}`,"aria-label":ut},Ft.createElement(_A,{value:u},Ft.createElement(a,{id:u,data:p,type:m,xPos:_,yPos:E,selected:S,isConnectable:nt,sourcePosition:ft,targetPosition:Ot,dragging:Kn,dragHandle:Dt,zIndex:Tt})))};return o.displayName="NodeWrapper",xt.memo(o)};const s3=a=>{const o=a.getNodes().filter(u=>u.selected);return{...Md(o,a.nodeOrigin),transformString:`translate(${a.transform[0]}px,${a.transform[1]}px) scale(${a.transform[2]})`,userSelectionActive:a.userSelectionActive}};function o3({onSelectionContextMenu:a,noPanClassName:o,disableKeyboardA11y:u}){const m=ki(),{width:p,height:_,x:E,y:T,transformString:M,userSelectionActive:S}=Qn(s3,er),N=s2(),D=xt.useRef(null);if(xt.useEffect(()=>{var rt;u||(rt=D.current)==null||rt.focus({preventScroll:!0})},[u]),a2({nodeRef:D}),S||!p||!_)return null;const H=a?rt=>{const j=m.getState().getNodes().filter(at=>at.selected);a(rt,j)}:void 0,V=rt=>{Object.prototype.hasOwnProperty.call(al,rt.key)&&N({x:al[rt.key].x,y:al[rt.key].y,isShiftPressed:rt.shiftKey})};return Ft.createElement("div",{className:Pr(["react-flow__nodesselection","react-flow__container",o]),style:{transform:M}},Ft.createElement("div",{ref:D,className:"react-flow__nodesselection-rect",onContextMenu:H,tabIndex:u?void 0:-1,onKeyDown:u?void 0:V,style:{width:p,height:_,top:T,left:E}}))}var l3=xt.memo(o3);const u3=a=>a.nodesSelectionActive,o2=({children:a,onPaneClick:o,onPaneMouseEnter:u,onPaneMouseMove:m,onPaneMouseLeave:p,onPaneContextMenu:_,onPaneScroll:E,deleteKeyCode:T,onMove:M,onMoveStart:S,onMoveEnd:N,selectionKeyCode:D,selectionOnDrag:H,selectionMode:V,onSelectionStart:rt,onSelectionEnd:j,multiSelectionKeyCode:at,panActivationKeyCode:et,zoomActivationKeyCode:lt,elementsSelectable:tt,zoomOnScroll:nt,zoomOnPinch:bt,panOnScroll:Nt,panOnScrollSpeed:ft,panOnScrollMode:Ot,zoomOnDoubleClick:st,panOnDrag:Yt,defaultViewport:Dt,translateExtent:Tt,minZoom:Lt,maxZoom:X,preventScrolling:q,onSelectionContextMenu:G,noWheelClassName:J,noPanClassName:ut,disableKeyboardA11y:ct})=>{const U=Qn(u3),$=fu(D),ht=fu(et),vt=ht||Yt,At=ht||Nt,kt=$||H&&vt!==!0;return jA({deleteKeyCode:T,multiSelectionKeyCode:at}),Ft.createElement(KA,{onMove:M,onMoveStart:S,onMoveEnd:N,onPaneContextMenu:_,elementsSelectable:tt,zoomOnScroll:nt,zoomOnPinch:bt,panOnScroll:At,panOnScrollSpeed:ft,panOnScrollMode:Ot,zoomOnDoubleClick:st,panOnDrag:!$&&vt,defaultViewport:Dt,translateExtent:Tt,minZoom:Lt,maxZoom:X,zoomActivationKeyCode:lt,preventScrolling:q,noWheelClassName:J,noPanClassName:ut},Ft.createElement(n2,{onSelectionStart:rt,onSelectionEnd:j,onPaneClick:o,onPaneMouseEnter:u,onPaneMouseMove:m,onPaneMouseLeave:p,onPaneContextMenu:_,onPaneScroll:E,panOnDrag:vt,isSelecting:!!kt,selectionMode:V},a,U&&Ft.createElement(l3,{onSelectionContextMenu:G,noPanClassName:ut,disableKeyboardA11y:ct})))};o2.displayName="FlowRenderer";var c3=xt.memo(o2);function f3(a){return Qn(xt.useCallback(u=>a?zp(u.nodeInternals,{x:0,y:0,width:u.width,height:u.height},u.transform,!0):u.getNodes(),[a]))}function h3(a){const o={input:$l(a.input||Xp),default:$l(a.default||id),output:$l(a.output||qp),group:$l(a.group||Id)},u={},m=Object.keys(a).filter(p=>!["input","default","output","group"].includes(p)).reduce((p,_)=>(p[_]=$l(a[_]||id),p),u);return{...o,...m}}const d3=({x:a,y:o,width:u,height:m,origin:p})=>!u||!m?{x:a,y:o}:p[0]<0||p[1]<0||p[0]>1||p[1]>1?{x:a,y:o}:{x:a-u*p[0],y:o-m*p[1]},g3=a=>({nodesDraggable:a.nodesDraggable,nodesConnectable:a.nodesConnectable,nodesFocusable:a.nodesFocusable,elementsSelectable:a.elementsSelectable,updateNodeDimensions:a.updateNodeDimensions,onError:a.onError}),l2=a=>{const{nodesDraggable:o,nodesConnectable:u,nodesFocusable:m,elementsSelectable:p,updateNodeDimensions:_,onError:E}=Qn(g3,er),T=f3(a.onlyRenderVisibleElements),M=xt.useRef(),S=xt.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const N=new ResizeObserver(D=>{const H=D.map(V=>({id:V.target.getAttribute("data-id"),nodeElement:V.target,forceUpdate:!0}));_(H)});return M.current=N,N},[]);return xt.useEffect(()=>()=>{var N;(N=M==null?void 0:M.current)==null||N.disconnect()},[]),Ft.createElement("div",{className:"react-flow__nodes",style:Od},T.map(N=>{var bt,Nt,ft;let D=N.type||"default";a.nodeTypes[D]||(E==null||E("003",os.error003(D)),D="default");const H=a.nodeTypes[D]||a.nodeTypes.default,V=!!(N.draggable||o&&typeof N.draggable>"u"),rt=!!(N.selectable||p&&typeof N.selectable>"u"),j=!!(N.connectable||u&&typeof N.connectable>"u"),at=!!(N.focusable||m&&typeof N.focusable>"u"),et=a.nodeExtent?Ed(N.positionAbsolute,a.nodeExtent):N.positionAbsolute,lt=(et==null?void 0:et.x)??0,tt=(et==null?void 0:et.y)??0,nt=d3({x:lt,y:tt,width:N.width??0,height:N.height??0,origin:a.nodeOrigin});return Ft.createElement(H,{key:N.id,id:N.id,className:N.className,style:N.style,type:D,data:N.data,sourcePosition:N.sourcePosition||ce.Bottom,targetPosition:N.targetPosition||ce.Top,hidden:N.hidden,xPos:lt,yPos:tt,xPosOrigin:nt.x,yPosOrigin:nt.y,selectNodesOnDrag:a.selectNodesOnDrag,onClick:a.onNodeClick,onMouseEnter:a.onNodeMouseEnter,onMouseMove:a.onNodeMouseMove,onMouseLeave:a.onNodeMouseLeave,onContextMenu:a.onNodeContextMenu,onDoubleClick:a.onNodeDoubleClick,selected:!!N.selected,isDraggable:V,isSelectable:rt,isConnectable:j,isFocusable:at,resizeObserver:S,dragHandle:N.dragHandle,zIndex:((bt=N[Wn])==null?void 0:bt.z)??0,isParent:!!((Nt=N[Wn])!=null&&Nt.isParent),noDragClassName:a.noDragClassName,noPanClassName:a.noPanClassName,initialized:!!N.width&&!!N.height,rfId:a.rfId,disableKeyboardA11y:a.disableKeyboardA11y,ariaLabel:N.ariaLabel,hasHandleBounds:!!((ft=N[Wn])!=null&&ft.handleBounds)})}))};l2.displayName="NodeRenderer";var m3=xt.memo(l2);const p3=(a,o,u)=>u===ce.Left?a-o:u===ce.Right?a+o:a,x3=(a,o,u)=>u===ce.Top?a-o:u===ce.Bottom?a+o:a,Rm="react-flow__edgeupdater",Lm=({position:a,centerX:o,centerY:u,radius:m=10,onMouseDown:p,onMouseEnter:_,onMouseOut:E,type:T})=>Ft.createElement("circle",{onMouseDown:p,onMouseEnter:_,onMouseOut:E,className:Pr([Rm,`${Rm}-${T}`]),cx:p3(o,m,a),cy:x3(u,m,a),r:m,stroke:"transparent",fill:"transparent"}),_3=()=>!0;var $o=a=>{const o=({id:u,className:m,type:p,data:_,onClick:E,onEdgeDoubleClick:T,selected:M,animated:S,label:N,labelStyle:D,labelShowBg:H,labelBgStyle:V,labelBgPadding:rt,labelBgBorderRadius:j,style:at,source:et,target:lt,sourceX:tt,sourceY:nt,targetX:bt,targetY:Nt,sourcePosition:ft,targetPosition:Ot,elementsSelectable:st,hidden:Yt,sourceHandleId:Dt,targetHandleId:Tt,onContextMenu:Lt,onMouseEnter:X,onMouseMove:q,onMouseLeave:G,reconnectRadius:J,onReconnect:ut,onReconnectStart:ct,onReconnectEnd:U,markerEnd:$,markerStart:ht,rfId:vt,ariaLabel:At,isFocusable:kt,isReconnectable:_t,pathOptions:se,interactionWidth:qt,disableKeyboardA11y:Oe})=>{const Re=xt.useRef(null),[Ye,xn]=xt.useState(!1),[de,Mn]=xt.useState(!1),Xe=ki(),Kn=xt.useMemo(()=>`url('#${ed(ht,vt)}')`,[ht,vt]),oe=xt.useMemo(()=>`url('#${ed($,vt)}')`,[$,vt]);if(Yt)return null;const Xt=Sn=>{var Ae;const{edges:Ii,addSelectedEdges:Ve,unselectNodesAndEdges:Vt,multiSelectionActive:Pe}=Xe.getState(),be=Ii.find(Xi=>Xi.id===u);be&&(st&&(Xe.setState({nodesSelectionActive:!1}),be.selected&&Pe?(Vt({nodes:[],edges:[be]}),(Ae=Re.current)==null||Ae.blur()):Ve([u])),E&&E(Sn,be))},fe=Kl(u,Xe.getState,T),pi=Kl(u,Xe.getState,Lt),Qt=Kl(u,Xe.getState,X),Ui=Kl(u,Xe.getState,q),Yi=Kl(u,Xe.getState,G),zn=(Sn,Ii)=>{if(Sn.button!==0)return;const{edges:Ve,isValidConnection:Vt}=Xe.getState(),Pe=Ii?lt:et,be=(Ii?Tt:Dt)||null,Ae=Ii?"target":"source",Xi=Vt||_3,zr=Ii,ir=Ve.find(rr=>rr.id===u);Mn(!0),ct==null||ct(Sn,ir,Ae);const Te=rr=>{Mn(!1),U==null||U(rr,ir,Ae)};Zp({event:Sn,handleId:be,nodeId:Pe,onConnect:rr=>ut==null?void 0:ut(ir,rr),isTarget:zr,getState:Xe.getState,setState:Xe.setState,isValidConnection:Xi,edgeUpdaterType:Ae,onReconnectEnd:Te})},nr=Sn=>zn(Sn,!0),an=Sn=>zn(Sn,!1),_n=()=>xn(!0),yn=()=>xn(!1),Be=!st&&!E,mr=Sn=>{var Ii;if(!Oe&&Ip.includes(Sn.key)&&st){const{unselectNodesAndEdges:Ve,addSelectedEdges:Vt,edges:Pe}=Xe.getState();Sn.key==="Escape"?((Ii=Re.current)==null||Ii.blur(),Ve({edges:[Pe.find(Ae=>Ae.id===u)]})):Vt([u])}};return Ft.createElement("g",{className:Pr(["react-flow__edge",`react-flow__edge-${p}`,m,{selected:M,animated:S,inactive:Be,updating:Ye}]),onClick:Xt,onDoubleClick:fe,onContextMenu:pi,onMouseEnter:Qt,onMouseMove:Ui,onMouseLeave:Yi,onKeyDown:kt?mr:void 0,tabIndex:kt?0:void 0,role:kt?"button":"img","data-testid":`rf__edge-${u}`,"aria-label":At===null?void 0:At||`Edge from ${et} to ${lt}`,"aria-describedby":kt?`${Kp}-${vt}`:void 0,ref:Re},!de&&Ft.createElement(a,{id:u,source:et,target:lt,selected:M,animated:S,label:N,labelStyle:D,labelShowBg:H,labelBgStyle:V,labelBgPadding:rt,labelBgBorderRadius:j,data:_,style:at,sourceX:tt,sourceY:nt,targetX:bt,targetY:Nt,sourcePosition:ft,targetPosition:Ot,sourceHandleId:Dt,targetHandleId:Tt,markerStart:Kn,markerEnd:oe,pathOptions:se,interactionWidth:qt}),_t&&Ft.createElement(Ft.Fragment,null,(_t==="source"||_t===!0)&&Ft.createElement(Lm,{position:ft,centerX:tt,centerY:nt,radius:J,onMouseDown:nr,onMouseEnter:_n,onMouseOut:yn,type:"source"}),(_t==="target"||_t===!0)&&Ft.createElement(Lm,{position:Ot,centerX:bt,centerY:Nt,radius:J,onMouseDown:an,onMouseEnter:_n,onMouseOut:yn,type:"target"})))};return o.displayName="EdgeWrapper",xt.memo(o)};function y3(a){const o={default:$o(a.default||kc),straight:$o(a.bezier||Cd),step:$o(a.step||bd),smoothstep:$o(a.step||Xc),simplebezier:$o(a.simplebezier||Sd)},u={},m=Object.keys(a).filter(p=>!["default","bezier"].includes(p)).reduce((p,_)=>(p[_]=$o(a[_]||kc),p),u);return{...o,...m}}function Bm(a,o,u=null){const m=((u==null?void 0:u.x)||0)+o.x,p=((u==null?void 0:u.y)||0)+o.y,_=(u==null?void 0:u.width)||o.width,E=(u==null?void 0:u.height)||o.height;switch(a){case ce.Top:return{x:m+_/2,y:p};case ce.Right:return{x:m+_,y:p+E/2};case ce.Bottom:return{x:m+_/2,y:p+E};case ce.Left:return{x:m,y:p+E/2}}}function Pm(a,o){return a?a.length===1||!o?a[0]:o&&a.find(u=>u.id===o)||null:null}const w3=(a,o,u,m,p,_)=>{const E=Bm(u,a,o),T=Bm(_,m,p);return{sourceX:E.x,sourceY:E.y,targetX:T.x,targetY:T.y}};function v3({sourcePos:a,targetPos:o,sourceWidth:u,sourceHeight:m,targetWidth:p,targetHeight:_,width:E,height:T,transform:M}){const S={x:Math.min(a.x,o.x),y:Math.min(a.y,o.y),x2:Math.max(a.x+u,o.x+p),y2:Math.max(a.y+m,o.y+_)};S.x===S.x2&&(S.x2+=1),S.y===S.y2&&(S.y2+=1);const N=Ad({x:(0-M[0])/M[2],y:(0-M[1])/M[2],width:E/M[2],height:T/M[2]}),D=Math.max(0,Math.min(N.x2,S.x2)-Math.max(N.x,S.x)),H=Math.max(0,Math.min(N.y2,S.y2)-Math.max(N.y,S.y));return Math.ceil(D*H)>0}function zm(a){var m,p,_,E,T;const o=((m=a==null?void 0:a[Wn])==null?void 0:m.handleBounds)||null,u=o&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&typeof((p=a==null?void 0:a.positionAbsolute)==null?void 0:p.x)<"u"&&typeof((_=a==null?void 0:a.positionAbsolute)==null?void 0:_.y)<"u";return[{x:((E=a==null?void 0:a.positionAbsolute)==null?void 0:E.x)||0,y:((T=a==null?void 0:a.positionAbsolute)==null?void 0:T.y)||0,width:(a==null?void 0:a.width)||0,height:(a==null?void 0:a.height)||0},o,!!u]}const E3=[{level:0,isMaxLevel:!0,edges:[]}];function A3(a,o,u=!1){let m=-1;const p=a.reduce((E,T)=>{var N,D;const M=Kr(T.zIndex);let S=M?T.zIndex:0;if(u){const H=o.get(T.target),V=o.get(T.source),rt=T.selected||(H==null?void 0:H.selected)||(V==null?void 0:V.selected),j=Math.max(((N=V==null?void 0:V[Wn])==null?void 0:N.z)||0,((D=H==null?void 0:H[Wn])==null?void 0:D.z)||0,1e3);S=(M?T.zIndex:0)+(rt?j:0)}return E[S]?E[S].push(T):E[S]=[T],m=S>m?S:m,E},{}),_=Object.entries(p).map(([E,T])=>{const M=+E;return{edges:T,level:M,isMaxLevel:M===m}});return _.length===0?E3:_}function S3(a,o,u){const m=Qn(xt.useCallback(p=>a?p.edges.filter(_=>{const E=o.get(_.source),T=o.get(_.target);return(E==null?void 0:E.width)&&(E==null?void 0:E.height)&&(T==null?void 0:T.width)&&(T==null?void 0:T.height)&&v3({sourcePos:E.positionAbsolute||{x:0,y:0},targetPos:T.positionAbsolute||{x:0,y:0},sourceWidth:E.width,sourceHeight:E.height,targetWidth:T.width,targetHeight:T.height,width:p.width,height:p.height,transform:p.transform})}):p.edges,[a,o]));return A3(m,o,u)}const b3=({color:a="none",strokeWidth:o=1})=>Ft.createElement("polyline",{style:{stroke:a,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),C3=({color:a="none",strokeWidth:o=1})=>Ft.createElement("polyline",{style:{stroke:a,fill:a,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),km={[zc.Arrow]:b3,[zc.ArrowClosed]:C3};function T3(a){const o=ki();return xt.useMemo(()=>{var p,_;return Object.prototype.hasOwnProperty.call(km,a)?km[a]:((_=(p=o.getState()).onError)==null||_.call(p,"009",os.error009(a)),null)},[a])}const M3=({id:a,type:o,color:u,width:m=12.5,height:p=12.5,markerUnits:_="strokeWidth",strokeWidth:E,orient:T="auto-start-reverse"})=>{const M=T3(o);return M?Ft.createElement("marker",{className:"react-flow__arrowhead",id:a,markerWidth:`${m}`,markerHeight:`${p}`,viewBox:"-10 -10 20 20",markerUnits:_,orient:T,refX:"0",refY:"0"},Ft.createElement(M,{color:u,strokeWidth:E})):null},N3=({defaultColor:a,rfId:o})=>u=>{const m=[];return u.edges.reduce((p,_)=>([_.markerStart,_.markerEnd].forEach(E=>{if(E&&typeof E=="object"){const T=ed(E,o);m.includes(T)||(p.push({id:T,color:E.color||a,...E}),m.push(T))}}),p),[]).sort((p,_)=>p.id.localeCompare(_.id))},u2=({defaultColor:a,rfId:o})=>{const u=Qn(xt.useCallback(N3({defaultColor:a,rfId:o}),[a,o]),(m,p)=>!(m.length!==p.length||m.some((_,E)=>_.id!==p[E].id)));return Ft.createElement("defs",null,u.map(m=>Ft.createElement(M3,{id:m.id,key:m.id,type:m.type,color:m.color,width:m.width,height:m.height,markerUnits:m.markerUnits,strokeWidth:m.strokeWidth,orient:m.orient})))};u2.displayName="MarkerDefinitions";var I3=xt.memo(u2);const O3=a=>({nodesConnectable:a.nodesConnectable,edgesFocusable:a.edgesFocusable,edgesUpdatable:a.edgesUpdatable,elementsSelectable:a.elementsSelectable,width:a.width,height:a.height,connectionMode:a.connectionMode,nodeInternals:a.nodeInternals,onError:a.onError}),c2=({defaultMarkerColor:a,onlyRenderVisibleElements:o,elevateEdgesOnSelect:u,rfId:m,edgeTypes:p,noPanClassName:_,onEdgeContextMenu:E,onEdgeMouseEnter:T,onEdgeMouseMove:M,onEdgeMouseLeave:S,onEdgeClick:N,onEdgeDoubleClick:D,onReconnect:H,onReconnectStart:V,onReconnectEnd:rt,reconnectRadius:j,children:at,disableKeyboardA11y:et})=>{const{edgesFocusable:lt,edgesUpdatable:tt,elementsSelectable:nt,width:bt,height:Nt,connectionMode:ft,nodeInternals:Ot,onError:st}=Qn(O3,er),Yt=S3(o,Ot,u);return bt?Ft.createElement(Ft.Fragment,null,Yt.map(({level:Dt,edges:Tt,isMaxLevel:Lt})=>Ft.createElement("svg",{key:Dt,style:{zIndex:Dt},width:bt,height:Nt,className:"react-flow__edges react-flow__container"},Lt&&Ft.createElement(I3,{defaultColor:a,rfId:m}),Ft.createElement("g",null,Tt.map(X=>{const[q,G,J]=zm(Ot.get(X.source)),[ut,ct,U]=zm(Ot.get(X.target));if(!J||!U)return null;let $=X.type||"default";p[$]||(st==null||st("011",os.error011($)),$="default");const ht=p[$]||p.default,vt=ft===vo.Strict?ct.target:(ct.target??[]).concat(ct.source??[]),At=Pm(G.source,X.sourceHandle),kt=Pm(vt,X.targetHandle),_t=(At==null?void 0:At.position)||ce.Bottom,se=(kt==null?void 0:kt.position)||ce.Top,qt=!!(X.focusable||lt&&typeof X.focusable>"u"),Oe=X.reconnectable||X.updatable,Re=typeof H<"u"&&(Oe||tt&&typeof Oe>"u");if(!At||!kt)return st==null||st("008",os.error008(At,X)),null;const{sourceX:Ye,sourceY:xn,targetX:de,targetY:Mn}=w3(q,At,_t,ut,kt,se);return Ft.createElement(ht,{key:X.id,id:X.id,className:Pr([X.className,_]),type:$,data:X.data,selected:!!X.selected,animated:!!X.animated,hidden:!!X.hidden,label:X.label,labelStyle:X.labelStyle,labelShowBg:X.labelShowBg,labelBgStyle:X.labelBgStyle,labelBgPadding:X.labelBgPadding,labelBgBorderRadius:X.labelBgBorderRadius,style:X.style,source:X.source,target:X.target,sourceHandleId:X.sourceHandle,targetHandleId:X.targetHandle,markerEnd:X.markerEnd,markerStart:X.markerStart,sourceX:Ye,sourceY:xn,targetX:de,targetY:Mn,sourcePosition:_t,targetPosition:se,elementsSelectable:nt,onContextMenu:E,onMouseEnter:T,onMouseMove:M,onMouseLeave:S,onClick:N,onEdgeDoubleClick:D,onReconnect:H,onReconnectStart:V,onReconnectEnd:rt,reconnectRadius:j,rfId:m,ariaLabel:X.ariaLabel,isFocusable:qt,isReconnectable:Re,pathOptions:"pathOptions"in X?X.pathOptions:void 0,interactionWidth:X.interactionWidth,disableKeyboardA11y:et})})))),at):null};c2.displayName="EdgeRenderer";var D3=xt.memo(c2);const R3=a=>`translate(${a.transform[0]}px,${a.transform[1]}px) scale(${a.transform[2]})`;function L3({children:a}){const o=Qn(R3);return Ft.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},a)}function B3(a){const o=e2(),u=xt.useRef(!1);xt.useEffect(()=>{!u.current&&o.viewportInitialized&&a&&(setTimeout(()=>a(o),1),u.current=!0)},[a,o.viewportInitialized])}const P3={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top},f2=({nodeId:a,handleType:o,style:u,type:m=Xs.Bezier,CustomComponent:p,connectionStatus:_})=>{var Nt,ft,Ot;const{fromNode:E,handleId:T,toX:M,toY:S,connectionMode:N}=Qn(xt.useCallback(st=>({fromNode:st.nodeInternals.get(a),handleId:st.connectionHandleId,toX:(st.connectionPosition.x-st.transform[0])/st.transform[2],toY:(st.connectionPosition.y-st.transform[1])/st.transform[2],connectionMode:st.connectionMode}),[a]),er),D=(Nt=E==null?void 0:E[Wn])==null?void 0:Nt.handleBounds;let H=D==null?void 0:D[o];if(N===vo.Loose&&(H=H||(D==null?void 0:D[o==="source"?"target":"source"])),!E||!H)return null;const V=T?H.find(st=>st.id===T):H[0],rt=V?V.x+V.width/2:(E.width??0)/2,j=V?V.y+V.height/2:E.height??0,at=(((ft=E.positionAbsolute)==null?void 0:ft.x)??0)+rt,et=(((Ot=E.positionAbsolute)==null?void 0:Ot.y)??0)+j,lt=V==null?void 0:V.position,tt=lt?P3[lt]:null;if(!lt||!tt)return null;if(p)return Ft.createElement(p,{connectionLineType:m,connectionLineStyle:u,fromNode:E,fromHandle:V,fromX:at,fromY:et,toX:M,toY:S,fromPosition:lt,toPosition:tt,connectionStatus:_});let nt="";const bt={sourceX:at,sourceY:et,sourcePosition:lt,targetX:M,targetY:S,targetPosition:tt};return m===Xs.Bezier?[nt]=Bp(bt):m===Xs.Step?[nt]=td({...bt,borderRadius:0}):m===Xs.SmoothStep?[nt]=td(bt):m===Xs.SimpleBezier?[nt]=Lp(bt):nt=`M${at},${et} ${M},${S}`,Ft.createElement("path",{d:nt,fill:"none",className:"react-flow__connection-path",style:u})};f2.displayName="ConnectionLine";const z3=a=>({nodeId:a.connectionNodeId,handleType:a.connectionHandleType,nodesConnectable:a.nodesConnectable,connectionStatus:a.connectionStatus,width:a.width,height:a.height});function k3({containerStyle:a,style:o,type:u,component:m}){const{nodeId:p,handleType:_,nodesConnectable:E,width:T,height:M,connectionStatus:S}=Qn(z3,er);return!(p&&_&&T&&E)?null:Ft.createElement("svg",{style:a,width:T,height:M,className:"react-flow__edges react-flow__connectionline react-flow__container"},Ft.createElement("g",{className:Pr(["react-flow__connection",S])},Ft.createElement(f2,{nodeId:p,handleType:_,style:o,type:u,CustomComponent:m,connectionStatus:S})))}function Um(a,o){return xt.useRef(null),ki(),xt.useMemo(()=>o(a),[a])}const h2=({nodeTypes:a,edgeTypes:o,onMove:u,onMoveStart:m,onMoveEnd:p,onInit:_,onNodeClick:E,onEdgeClick:T,onNodeDoubleClick:M,onEdgeDoubleClick:S,onNodeMouseEnter:N,onNodeMouseMove:D,onNodeMouseLeave:H,onNodeContextMenu:V,onSelectionContextMenu:rt,onSelectionStart:j,onSelectionEnd:at,connectionLineType:et,connectionLineStyle:lt,connectionLineComponent:tt,connectionLineContainerStyle:nt,selectionKeyCode:bt,selectionOnDrag:Nt,selectionMode:ft,multiSelectionKeyCode:Ot,panActivationKeyCode:st,zoomActivationKeyCode:Yt,deleteKeyCode:Dt,onlyRenderVisibleElements:Tt,elementsSelectable:Lt,selectNodesOnDrag:X,defaultViewport:q,translateExtent:G,minZoom:J,maxZoom:ut,preventScrolling:ct,defaultMarkerColor:U,zoomOnScroll:$,zoomOnPinch:ht,panOnScroll:vt,panOnScrollSpeed:At,panOnScrollMode:kt,zoomOnDoubleClick:_t,panOnDrag:se,onPaneClick:qt,onPaneMouseEnter:Oe,onPaneMouseMove:Re,onPaneMouseLeave:Ye,onPaneScroll:xn,onPaneContextMenu:de,onEdgeContextMenu:Mn,onEdgeMouseEnter:Xe,onEdgeMouseMove:Kn,onEdgeMouseLeave:oe,onReconnect:Xt,onReconnectStart:fe,onReconnectEnd:pi,reconnectRadius:Qt,noDragClassName:Ui,noWheelClassName:Yi,noPanClassName:zn,elevateEdgesOnSelect:nr,disableKeyboardA11y:an,nodeOrigin:_n,nodeExtent:yn,rfId:Be})=>{const mr=Um(a,h3),Sn=Um(o,y3);return B3(_),Ft.createElement(c3,{onPaneClick:qt,onPaneMouseEnter:Oe,onPaneMouseMove:Re,onPaneMouseLeave:Ye,onPaneContextMenu:de,onPaneScroll:xn,deleteKeyCode:Dt,selectionKeyCode:bt,selectionOnDrag:Nt,selectionMode:ft,onSelectionStart:j,onSelectionEnd:at,multiSelectionKeyCode:Ot,panActivationKeyCode:st,zoomActivationKeyCode:Yt,elementsSelectable:Lt,onMove:u,onMoveStart:m,onMoveEnd:p,zoomOnScroll:$,zoomOnPinch:ht,zoomOnDoubleClick:_t,panOnScroll:vt,panOnScrollSpeed:At,panOnScrollMode:kt,panOnDrag:se,defaultViewport:q,translateExtent:G,minZoom:J,maxZoom:ut,onSelectionContextMenu:rt,preventScrolling:ct,noDragClassName:Ui,noWheelClassName:Yi,noPanClassName:zn,disableKeyboardA11y:an},Ft.createElement(L3,null,Ft.createElement(D3,{edgeTypes:Sn,onEdgeClick:T,onEdgeDoubleClick:S,onlyRenderVisibleElements:Tt,onEdgeContextMenu:Mn,onEdgeMouseEnter:Xe,onEdgeMouseMove:Kn,onEdgeMouseLeave:oe,onReconnect:Xt,onReconnectStart:fe,onReconnectEnd:pi,reconnectRadius:Qt,defaultMarkerColor:U,noPanClassName:zn,elevateEdgesOnSelect:!!nr,disableKeyboardA11y:an,rfId:Be},Ft.createElement(k3,{style:lt,type:et,component:tt,containerStyle:nt})),Ft.createElement("div",{className:"react-flow__edgelabel-renderer"}),Ft.createElement(m3,{nodeTypes:mr,onNodeClick:E,onNodeDoubleClick:M,onNodeMouseEnter:N,onNodeMouseMove:D,onNodeMouseLeave:H,onNodeContextMenu:V,selectNodesOnDrag:X,onlyRenderVisibleElements:Tt,noPanClassName:zn,noDragClassName:Ui,disableKeyboardA11y:an,nodeOrigin:_n,nodeExtent:yn,rfId:Be})))};h2.displayName="GraphView";var U3=xt.memo(h2);const ad=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Zs={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ad,nodeExtent:ad,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:vo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:hA,isValidConnection:void 0},F3=()=>Sy((a,o)=>({...Zs,setNodes:u=>{const{nodeInternals:m,nodeOrigin:p,elevateNodesOnSelect:_}=o();a({nodeInternals:kh(u,m,p,_)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:u=>{const{defaultEdgeOptions:m={}}=o();a({edges:u.map(p=>({...m,...p}))})},setDefaultNodesAndEdges:(u,m)=>{const p=typeof u<"u",_=typeof m<"u",E=p?kh(u,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;a({nodeInternals:E,edges:_?m:[],hasDefaultNodes:p,hasDefaultEdges:_})},updateNodeDimensions:u=>{const{onNodesChange:m,nodeInternals:p,fitViewOnInit:_,fitViewOnInitDone:E,fitViewOnInitOptions:T,domNode:M,nodeOrigin:S}=o(),N=M==null?void 0:M.querySelector(".react-flow__viewport");if(!N)return;const D=window.getComputedStyle(N),{m22:H}=new window.DOMMatrixReadOnly(D.transform),V=u.reduce((j,at)=>{const et=p.get(at.id);if(et!=null&&et.hidden)p.set(et.id,{...et,[Wn]:{...et[Wn],handleBounds:void 0}});else if(et){const lt=vd(at.nodeElement);!!(lt.width&&lt.height&&(et.width!==lt.width||et.height!==lt.height||at.forceUpdate))&&(p.set(et.id,{...et,[Wn]:{...et[Wn],handleBounds:{source:Dm(".source",at.nodeElement,H,S),target:Dm(".target",at.nodeElement,H,S)}},...lt}),j.push({id:et.id,type:"dimensions",dimensions:lt}))}return j},[]);$p(p,S);const rt=E||_&&!E&&t2(o,{initial:!0,...T});a({nodeInternals:new Map(p),fitViewOnInitDone:rt}),(V==null?void 0:V.length)>0&&(m==null||m(V))},updateNodePositions:(u,m=!0,p=!1)=>{const{triggerNodeChanges:_}=o(),E=u.map(T=>{const M={id:T.id,type:"position",dragging:p};return m&&(M.positionAbsolute=T.positionAbsolute,M.position=T.position),M});_(E)},triggerNodeChanges:u=>{const{onNodesChange:m,nodeInternals:p,hasDefaultNodes:_,nodeOrigin:E,getNodes:T,elevateNodesOnSelect:M}=o();if(u!=null&&u.length){if(_){const S=e3(u,T()),N=kh(S,p,E,M);a({nodeInternals:N})}m==null||m(u)}},addSelectedNodes:u=>{const{multiSelectionActive:m,edges:p,getNodes:_}=o();let E,T=null;m?E=u.map(M=>Ys(M,!0)):(E=el(_(),u),T=el(p,[])),Ec({changedNodes:E,changedEdges:T,get:o,set:a})},addSelectedEdges:u=>{const{multiSelectionActive:m,edges:p,getNodes:_}=o();let E,T=null;m?E=u.map(M=>Ys(M,!0)):(E=el(p,u),T=el(_(),[])),Ec({changedNodes:T,changedEdges:E,get:o,set:a})},unselectNodesAndEdges:({nodes:u,edges:m}={})=>{const{edges:p,getNodes:_}=o(),E=u||_(),T=m||p,M=E.map(N=>(N.selected=!1,Ys(N.id,!1))),S=T.map(N=>Ys(N.id,!1));Ec({changedNodes:M,changedEdges:S,get:o,set:a})},setMinZoom:u=>{const{d3Zoom:m,maxZoom:p}=o();m==null||m.scaleExtent([u,p]),a({minZoom:u})},setMaxZoom:u=>{const{d3Zoom:m,minZoom:p}=o();m==null||m.scaleExtent([p,u]),a({maxZoom:u})},setTranslateExtent:u=>{var m;(m=o().d3Zoom)==null||m.translateExtent(u),a({translateExtent:u})},resetSelectedElements:()=>{const{edges:u,getNodes:m}=o(),_=m().filter(T=>T.selected).map(T=>Ys(T.id,!1)),E=u.filter(T=>T.selected).map(T=>Ys(T.id,!1));Ec({changedNodes:_,changedEdges:E,get:o,set:a})},setNodeExtent:u=>{const{nodeInternals:m}=o();m.forEach(p=>{p.positionAbsolute=Ed(p.position,u)}),a({nodeExtent:u,nodeInternals:new Map(m)})},panBy:u=>{const{transform:m,width:p,height:_,d3Zoom:E,d3Selection:T,translateExtent:M}=o();if(!E||!T||!u.x&&!u.y)return!1;const S=js.translate(m[0]+u.x,m[1]+u.y).scale(m[2]),N=[[0,0],[p,_]],D=E==null?void 0:E.constrain()(S,N,M);return E.transform(T,D),m[0]!==D.x||m[1]!==D.y||m[2]!==D.k},cancelConnection:()=>a({connectionNodeId:Zs.connectionNodeId,connectionHandleId:Zs.connectionHandleId,connectionHandleType:Zs.connectionHandleType,connectionStatus:Zs.connectionStatus,connectionStartHandle:Zs.connectionStartHandle,connectionEndHandle:Zs.connectionEndHandle}),reset:()=>a({...Zs})}),Object.is),d2=({children:a})=>{const o=xt.useRef(null);return o.current||(o.current=F3()),Ft.createElement(iA,{value:o.current},a)};d2.displayName="ReactFlowProvider";const g2=({children:a})=>xt.useContext(Yc)?Ft.createElement(Ft.Fragment,null,a):Ft.createElement(d2,null,a);g2.displayName="ReactFlowWrapper";const H3={input:Xp,default:id,output:qp,group:Id},Z3={default:kc,straight:Cd,step:bd,smoothstep:Xc,simplebezier:Sd},V3=[0,0],G3=[15,15],Y3={x:0,y:0,zoom:1},X3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},m2=xt.forwardRef(({nodes:a,edges:o,defaultNodes:u,defaultEdges:m,className:p,nodeTypes:_=H3,edgeTypes:E=Z3,onNodeClick:T,onEdgeClick:M,onInit:S,onMove:N,onMoveStart:D,onMoveEnd:H,onConnect:V,onConnectStart:rt,onConnectEnd:j,onClickConnectStart:at,onClickConnectEnd:et,onNodeMouseEnter:lt,onNodeMouseMove:tt,onNodeMouseLeave:nt,onNodeContextMenu:bt,onNodeDoubleClick:Nt,onNodeDragStart:ft,onNodeDrag:Ot,onNodeDragStop:st,onNodesDelete:Yt,onEdgesDelete:Dt,onSelectionChange:Tt,onSelectionDragStart:Lt,onSelectionDrag:X,onSelectionDragStop:q,onSelectionContextMenu:G,onSelectionStart:J,onSelectionEnd:ut,connectionMode:ct=vo.Strict,connectionLineType:U=Xs.Bezier,connectionLineStyle:$,connectionLineComponent:ht,connectionLineContainerStyle:vt,deleteKeyCode:At="Backspace",selectionKeyCode:kt="Shift",selectionOnDrag:_t=!1,selectionMode:se=cu.Full,panActivationKeyCode:qt="Space",multiSelectionKeyCode:Oe=Pc()?"Meta":"Control",zoomActivationKeyCode:Re=Pc()?"Meta":"Control",snapToGrid:Ye=!1,snapGrid:xn=G3,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:Mn=!0,nodesDraggable:Xe,nodesConnectable:Kn,nodesFocusable:oe,nodeOrigin:Xt=V3,edgesFocusable:fe,edgesUpdatable:pi,elementsSelectable:Qt,defaultViewport:Ui=Y3,minZoom:Yi=.5,maxZoom:zn=2,translateExtent:nr=ad,preventScrolling:an=!0,nodeExtent:_n,defaultMarkerColor:yn="#b1b1b7",zoomOnScroll:Be=!0,zoomOnPinch:mr=!0,panOnScroll:Sn=!1,panOnScrollSpeed:Ii=.5,panOnScrollMode:Ve=_o.Free,zoomOnDoubleClick:Vt=!0,panOnDrag:Pe=!0,onPaneClick:be,onPaneMouseEnter:Ae,onPaneMouseMove:Xi,onPaneMouseLeave:zr,onPaneScroll:ir,onPaneContextMenu:Te,children:li,onEdgeContextMenu:rr,onEdgeDoubleClick:Ha,onEdgeMouseEnter:xi,onEdgeMouseMove:Jr,onEdgeMouseLeave:Dn,onEdgeUpdate:pr,onEdgeUpdateStart:kr,onEdgeUpdateEnd:kn,onReconnect:Vn,onReconnectStart:bn,onReconnectEnd:ar,reconnectRadius:$e=10,edgeUpdaterRadius:$t=10,onNodesChange:ui,onEdgesChange:Kt,noDragClassName:Oi="nodrag",noWheelClassName:Ur="nowheel",noPanClassName:hn="nopan",fitView:_i=!1,fitViewOptions:ci,connectOnClick:Fi=!0,attributionPosition:Qe,proOptions:ls,defaultEdgeOptions:us,elevateNodesOnSelect:Gn=!0,elevateEdgesOnSelect:wn=!1,disableKeyboardA11y:tn=!1,autoPanOnConnect:Fr=!0,autoPanOnNodeDrag:ji=!0,connectionRadius:Za=20,isValidConnection:Pt,onError:ma,style:Ge,id:Di,nodeDragThreshold:Hr,...Me},De)=>{const pe=Di||"1";return Ft.createElement("div",{...Me,style:{...Ge,...X3},ref:De,className:Pr(["react-flow",p]),"data-testid":"rf__wrapper",id:Di},Ft.createElement(g2,null,Ft.createElement(U3,{onInit:S,onMove:N,onMoveStart:D,onMoveEnd:H,onNodeClick:T,onEdgeClick:M,onNodeMouseEnter:lt,onNodeMouseMove:tt,onNodeMouseLeave:nt,onNodeContextMenu:bt,onNodeDoubleClick:Nt,nodeTypes:_,edgeTypes:E,connectionLineType:U,connectionLineStyle:$,connectionLineComponent:ht,connectionLineContainerStyle:vt,selectionKeyCode:kt,selectionOnDrag:_t,selectionMode:se,deleteKeyCode:At,multiSelectionKeyCode:Oe,panActivationKeyCode:qt,zoomActivationKeyCode:Re,onlyRenderVisibleElements:de,selectNodesOnDrag:Mn,defaultViewport:Ui,translateExtent:nr,minZoom:Yi,maxZoom:zn,preventScrolling:an,zoomOnScroll:Be,zoomOnPinch:mr,zoomOnDoubleClick:Vt,panOnScroll:Sn,panOnScrollSpeed:Ii,panOnScrollMode:Ve,panOnDrag:Pe,onPaneClick:be,onPaneMouseEnter:Ae,onPaneMouseMove:Xi,onPaneMouseLeave:zr,onPaneScroll:ir,onPaneContextMenu:Te,onSelectionContextMenu:G,onSelectionStart:J,onSelectionEnd:ut,onEdgeContextMenu:rr,onEdgeDoubleClick:Ha,onEdgeMouseEnter:xi,onEdgeMouseMove:Jr,onEdgeMouseLeave:Dn,onReconnect:Vn??pr,onReconnectStart:bn??kr,onReconnectEnd:ar??kn,reconnectRadius:$e??$t,defaultMarkerColor:yn,noDragClassName:Oi,noWheelClassName:Ur,noPanClassName:hn,elevateEdgesOnSelect:wn,rfId:pe,disableKeyboardA11y:tn,nodeOrigin:Xt,nodeExtent:_n}),Ft.createElement(BA,{nodes:a,edges:o,defaultNodes:u,defaultEdges:m,onConnect:V,onConnectStart:rt,onConnectEnd:j,onClickConnectStart:at,onClickConnectEnd:et,nodesDraggable:Xe,nodesConnectable:Kn,nodesFocusable:oe,edgesFocusable:fe,edgesUpdatable:pi,elementsSelectable:Qt,elevateNodesOnSelect:Gn,minZoom:Yi,maxZoom:zn,nodeExtent:_n,onNodesChange:ui,onEdgesChange:Kt,snapToGrid:Ye,snapGrid:xn,connectionMode:ct,translateExtent:nr,connectOnClick:Fi,defaultEdgeOptions:us,fitView:_i,fitViewOptions:ci,onNodesDelete:Yt,onEdgesDelete:Dt,onNodeDragStart:ft,onNodeDrag:Ot,onNodeDragStop:st,onSelectionDrag:X,onSelectionDragStart:Lt,onSelectionDragStop:q,noPanClassName:hn,nodeOrigin:Xt,rfId:pe,autoPanOnConnect:Fr,autoPanOnNodeDrag:ji,onError:ma,connectionRadius:Za,isValidConnection:Pt,nodeDragThreshold:Hr}),Ft.createElement(RA,{onSelectionChange:Tt}),li,Ft.createElement(sA,{proOptions:ls,position:Qe}),Ft.createElement(FA,{rfId:pe,disableKeyboardA11y:tn})))});m2.displayName="ReactFlow";var da;(function(a){a.Lines="lines",a.Dots="dots",a.Cross="cross"})(da||(da={}));function j3({color:a,dimensions:o,lineWidth:u}){return Ft.createElement("path",{stroke:a,strokeWidth:u,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function q3({color:a,radius:o}){return Ft.createElement("circle",{cx:o,cy:o,r:o,fill:a})}const W3={[da.Dots]:"#91919a",[da.Lines]:"#eee",[da.Cross]:"#e2e2e2"},Q3={[da.Dots]:1,[da.Lines]:1,[da.Cross]:6},K3=a=>({transform:a.transform,patternId:`pattern-${a.rfId}`});function p2({id:a,variant:o=da.Dots,gap:u=20,size:m,lineWidth:p=1,offset:_=2,color:E,style:T,className:M}){const S=xt.useRef(null),{transform:N,patternId:D}=Qn(K3,er),H=E||W3[o],V=m||Q3[o],rt=o===da.Dots,j=o===da.Cross,at=Array.isArray(u)?u:[u,u],et=[at[0]*N[2]||1,at[1]*N[2]||1],lt=V*N[2],tt=j?[lt,lt]:et,nt=rt?[lt/_,lt/_]:[tt[0]/_,tt[1]/_];return Ft.createElement("svg",{className:Pr(["react-flow__background",M]),style:{...T,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:S,"data-testid":"rf__background"},Ft.createElement("pattern",{id:D+a,x:N[0]%et[0],y:N[1]%et[1],width:et[0],height:et[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${nt[0]},-${nt[1]})`},rt?Ft.createElement(q3,{color:H,radius:lt/_}):Ft.createElement(j3,{dimensions:tt,color:H,lineWidth:p})),Ft.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${D+a})`}))}p2.displayName="Background";var J3=xt.memo(p2);function $3({nodes:a,edges:o}){return Ee.jsx("div",{style:{height:"1500px",width:"100%",border:"1px solid #E0E0E0"},children:Ee.jsx(m2,{nodes:a,edges:o,fitView:!0,fitViewOptions:{padding:.1},children:Ee.jsx(J3,{})})})}delete Km.Icon.Default.prototype._getIconUrl;Km.Icon.Default.mergeOptions({iconRetinaUrl:cy,iconUrl:fy,shadowUrl:hy});const mo={name:"OFFIS Institut für Informatik",coords:[53.148881112034466,8.200026064858008]},Zh={start:{id:"start",question:"Willkommen zur OFFIS-Entdeckertour! Bitte gehe zum Haupteingang und scanne den QR-Code, um zu beginnen.",flowLabel:"Start @ OFFIS",isEnd:!1,location:mo,qrCode:"OFFIS_START_2024",answers:null,nextNodeOnScan:"q1_question"},q1_question:{id:"q1_question",question:"Was interessiert dich mehr?",flowLabel:"Frage 1: Interesse",isEnd:!1,location:null,qrCode:null,answers:[{text:"Technik und Strom",nextNodeId:"q1_scan_tech"},{text:"Menschen und ihr Alltag",nextNodeId:"q1_scan_mensch"}]},q1_scan_tech:{id:"q1_scan_tech",question:'Gute Wahl! Scanne nun den QR-Code für den Bereich "Technik".',flowLabel:"Scan: Technik",isEnd:!1,location:mo,qrCode:"Q1_TECHNIK",answers:null,nextNodeOnScan:"q2_1_question"},q1_scan_mensch:{id:"q1_scan_mensch",question:'Interessant! Scanne nun den QR-Code für den Bereich "Mensch".',flowLabel:"Scan: Mensch",isEnd:!1,location:mo,qrCode:"Q1_MENSCH",answers:null,nextNodeOnScan:"q2_2_question"},q2_1_question:{id:"q2_1_question",question:"Woran arbeitest du am liebsten?",flowLabel:"Frage 2 (Technik)",isEnd:!1,location:null,qrCode:null,answers:[{text:"Ich tüftle gern an Maschinen oder Software",nextNodeId:"q2_scan_tueftler"},{text:"Ich plane gern Systeme, Netzwerke oder Prozesse",nextNodeId:"q2_scan_planer"}]},q2_scan_tueftler:{id:"q2_scan_tueftler",question:"Verstanden, du bist ein Tüftler! Scanne den nächsten QR-Code.",flowLabel:"Scan: Tüftler",isEnd:!1,location:mo,qrCode:"Q2_TUEFTLER",answers:null,nextNodeOnScan:"q3_1_1_question"},q2_scan_planer:{id:"q2_scan_planer",question:"Verstanden, du bist ein Planer! Scanne den nächsten QR-Code.",flowLabel:"Scan: Planer",isEnd:!1,location:mo,qrCode:"Q2_PLANER",answers:null,nextNodeOnScan:"q3_1_2_question"},q2_2_question:{id:"q2_2_question",question:"Woran arbeitest du am liebsten?",flowLabel:"Frage 2 (Mensch)",isEnd:!1,location:null,qrCode:null,answers:[{text:"Ich will helfen, das Leben älterer oder kranker Menschen zu verbessern",nextNodeId:"q2_scan_helfer"},{text:"Ich interessiere mich für die Auswirkungen von Digitalisierung auf die Gesellschaft",nextNodeId:"q2_scan_forscher"}]},q2_scan_helfer:{id:"q2_scan_helfer",question:"Eine wichtige Aufgabe! Scanne den nächsten QR-Code.",flowLabel:"Scan: Helfer",isEnd:!1,location:mo,qrCode:"Q2_HELFER",answers:null,nextNodeOnScan:"q3_2_1_question"},q2_scan_forscher:{id:"q2_scan_forscher",question:"Ein spannendes Feld! Scanne den nächsten QR-Code.",flowLabel:"Scan: Forscher",isEnd:!1,location:mo,qrCode:"Q2_FORSCHER",answers:null,nextNodeOnScan:"q3_2_2_question"},q3_1_1_question:{id:"q3_1_1_question",question:"Was klingt spannender für dich?",flowLabel:"Frage 3 (Tüftler)",isEnd:!1,location:null,qrCode:null,answers:[{text:"Roboter in der Produktion programmieren",nextNodeId:"end_produktion"},{text:"KI für sichere Energiesysteme entwickeln",nextNodeId:"end_energie"}]},q3_1_2_question:{id:"q3_1_2_question",question:"Was klingt spannender für dich?",flowLabel:"Frage 3 (Planer)",isEnd:!1,location:null,qrCode:null,answers:[{text:"Stromnetze der Zukunft mitgestalten",nextNodeId:"end_energie"},{text:"An nachhaltigen Fertigungssystemen für die Industrie arbeiten",nextNodeId:"end_produktion"}]},q3_2_1_question:{id:"q3_2_1_question",question:"Was klingt spannender für dich?",flowLabel:"Frage 3 (Helfer)",isEnd:!1,location:null,qrCode:null,answers:[{text:"IT-Systeme für Pflegeeinrichtungen bauen",nextNodeId:"end_gesundheit"},{text:"Medizinische Daten auswerten, um Therapien zu verbessern",nextNodeId:"end_gesundheit"}]},q3_2_2_question:{id:"q3_2_2_question",question:"Was klingt spannender für dich?",flowLabel:"Frage 3 (Forscher)",isEnd:!1,location:null,qrCode:null,answers:[{text:"KI und Menschen besser zusammenarbeiten lassen",nextNodeId:"end_gesellschaft"},{text:"Menschen durch virtuelle Umgebungen miteinander verbinden",nextNodeId:"end_gesellschaft"}]},end_produktion:{id:"end_produktion",isEnd:!0,flowLabel:"Ergebnis: Produktion",resultText:"Zu dir passt vermutlich am besten der Bereich Produktion.",description:"In diesem Bereich dreht sich alles um die Fabrik der Zukunft (Industrie 4.0). Hier wird erforscht, wie Roboter, KI und vernetzte Maschinen zusammenarbeiten, um Produktionsprozesse intelligenter, flexibler und nachhaltiger zu gestalten."},end_energie:{id:"end_energie",isEnd:!0,flowLabel:"Ergebnis: Energie",resultText:"Zu dir passt vermutlich am besten der Bereich Energie.",description:"Dieser Bereich beschäftigt sich mit der digitalen Zukunft unserer Energieversorgung. Im Fokus stehen intelligente Stromnetze (Smart Grids), die Integration erneuerbarer Energien und die Entwicklung von IT-Lösungen für eine stabile Energiewende."},end_gesundheit:{id:"end_gesundheit",isEnd:!0,flowLabel:"Ergebnis: Gesundheit",resultText:"Zu dir passt vermutlich am besten der Bereich Gesundheit.",description:"Hier steht die Digitalisierung des Gesundheitswesens im Mittelpunkt. Es werden IT-Systeme für Kliniken und die Pflege entwickelt, an Lösungen für ein selbstbestimmtes Leben im Alter geforscht und medizinische Daten zur Verbesserung von Therapien analysiert."},end_gesellschaft:{id:"end_gesellschaft",isEnd:!0,flowLabel:"Ergebnis: Gesellschaft",resultText:"Zu dir passt vermutlich am besten der Bereich Gesellschaft.",description:"In diesem Bereich wird untersucht, wie die Digitalisierung unser Leben und Zusammenarbeiten verändert. Themen sind die Interaktion zwischen Mensch und KI, die Gestaltung smarter Städte (Smart City) und der Einsatz von virtuellen Umgebungen (VR/AR)."}},Fm=(a,o=50)=>a?a.length<=o?a:a.substring(0,o-3)+"...":"",tS=(a,o)=>{const u=[],m=[],M={start:{x:150,y:0},q1_question:{x:150,y:100},q1_scan_tech:{x:60,y:200},q1_scan_mensch:{x:240,y:200},q2_1_question:{x:60,y:300},q2_2_question:{x:240,y:300},q2_scan_tueftler:{x:-30,y:400},q2_scan_planer:{x:150,y:400},q2_scan_helfer:{x:150,y:400},q2_scan_forscher:{x:330,y:400},q3_1_1_question:{x:-30,y:500},q3_1_2_question:{x:150,y:500},q3_2_1_question:{x:150,y:500},q3_2_2_question:{x:330,y:500},end_produktion:{x:70,y:600},end_energie:{x:230,y:600},end_gesundheit:{x:70,y:600},end_gesellschaft:{x:230,y:600}};for(const S in o){const N=o[S],D=N.flowLabel||N.question||S,H=a.includes(S);u.push({id:S,position:M[S],data:{label:Fm(D,25)},type:N.isEnd?"output":N.answers?"default":"input",style:{opacity:H?1:.5,border:H?"2px solid #2c3e50":"1px solid #ccc",width:160,fontSize:"11px",textAlign:"center"}})}for(const S in o){const N=o[S],D=(H,V,rt)=>{const j=a.includes(H)&&a.includes(V);return{id:`e-${H}-${V}`,source:H,target:V,label:Fm(rt,15),animated:j,style:{stroke:j?"#2c3e50":"#ccc",opacity:j?1:.6}}};N.answers&&N.answers.forEach(H=>{m.push(D(S,H.nextNodeId,H.text))}),N.nextNodeOnScan&&m.push(D(S,N.nextNodeOnScan,"QR Scan"))}return{nodes:u,edges:m}};function eS({coords:a}){const o=ry();return xt.useEffect(()=>{a&&o.setView(a,17)},[a,o]),null}function nS({location:a}){if(!a||!a.coords)return null;const o=a.coords,u=`https://www.openstreetmap.org/?mlat=${o[0]}&mlon=${o[1]}#map=18/${o[0]}/${o[1]}`;return Ee.jsx("div",{style:{height:"200px",marginBottom:"16px"},className:"w-full rounded-lg overflow-hidden shadow-lg border-2 border-gray-300",children:Ee.jsxs(sy,{center:o,zoom:17,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[Ee.jsx(uy,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Ee.jsx(oy,{position:o,children:Ee.jsxs(ly,{children:[a.name,".",Ee.jsx("br",{}),Ee.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",children:"Auf Karte ansehen"})]})}),Ee.jsx(eS,{coords:o})]})})}function iS({expectedCode:a,onScanSuccess:o}){const u="qr-reader",[m,p]=xt.useState("");return xt.useEffect(()=>{const _=new Z_(u,{fps:10,qrbox:{width:250,height:250}},!1);function E(T,M){T===a?(_.clear(),o()):p("Falscher QR-Code gescannt.")}return _.render(E,T=>{}),()=>{document.getElementById(u)&&_.clear().catch(M=>console.error("Error clearing scanner on unmount",M))}},[a,o]),Ee.jsxs("div",{className:"mt-6 p-4 border-2 border-dashed border-gray-400 rounded-lg",style:{backgroundColor:"#34495E"},children:[Ee.jsx("h3",{className:"text-lg font-semibold mb-2 text-white text-center",children:"Nächster Schritt: QR-Code Scannen"}),Ee.jsx("div",{id:u,style:{width:"100%"}}),m&&Ee.jsx("p",{className:"text-red-400 bg-red-900 p-2 rounded-md text-sm mt-2 text-center",children:m})]})}function rS(){const[a,o]=xt.useState("start"),[u,m]=xt.useState(["start"]),[p,_]=xt.useState(""),[E,T]=xt.useState(!1),{width:M,height:S}=Xx(),N=xt.useMemo(()=>Zh[a],[a]);xt.useEffect(()=>{E||(o("start"),m(["start"]),_(""))},[E]);const D=xt.useCallback(tt=>{Zh[tt]?(o(tt),m(nt=>[...new Set([...nt,tt])]),_("")):_("Fehler: Nächster Schritt nicht gefunden.")},[]),H=tt=>D(tt),V=xt.useCallback(()=>{_("QR-Code erfolgreich gescannt!"),setTimeout(()=>D(N.nextNodeOnScan),300)},[N,D]),rt=()=>T(!0),j=()=>T(!1),at=tt=>{const nt=tt.currentTarget;nt.style.setProperty("--x",`${tt.clientX-nt.getBoundingClientRect().left}px`),nt.style.setProperty("--y",`${tt.clientY-nt.getBoundingClientRect().top}px`)},{nodes:et,edges:lt}=xt.useMemo(()=>N!=null&&N.isEnd?tS(u,Zh):{nodes:[],edges:[]},[N,u]);return E?N?Ee.jsxs("div",{className:"main-app-container",children:[p&&Ee.jsx("div",{className:"message-banner",role:"alert",children:p}),N.isEnd?Ee.jsxs("div",{className:"result-box",children:[Ee.jsx("h2",{className:"result-title",children:"Geschafft! 🎉"}),Ee.jsx("p",{className:"result-text",children:N.resultText}),Ee.jsx("p",{className:"result-description",children:N.description}),Ee.jsx($3,{nodes:et,edges:lt}),Ee.jsx("button",{onClick:j,onMouseDown:at,className:"start-button",children:Ee.jsx("span",{className:"button-text",children:"Nochmal spielen"})}),Ee.jsx(n_,{width:M,height:S,recycle:!1,numberOfPieces:250,gravity:.15})]}):Ee.jsxs("div",{className:"content-box",children:[Ee.jsx(nS,{location:N.location}),N.question&&Ee.jsx("h2",{className:"question-title",children:N.question}),N.answers&&Ee.jsx("div",{className:"answers-container",children:N.answers.map((tt,nt)=>Ee.jsx("button",{onClick:()=>H(tt.nextNodeId),onMouseDown:at,className:"answer-button",children:Ee.jsx("span",{className:"button-text",children:tt.text})},nt))}),N.qrCode&&Ee.jsx(iS,{expectedCode:N.qrCode,onScanSuccess:V})]})]}):Ee.jsxs("div",{className:"main-app-container text-center",children:[Ee.jsx("div",{className:"p-4 text-red-600",children:"Kritischer Fehler. Bitte starte die Anwendung neu."}),Ee.jsx("button",{onClick:j,className:"answer-button mt-4",children:"Zurück zum Start"})]}):Ee.jsxs("div",{className:"main-app-container introduction-screen",children:[Ee.jsx("h1",{children:"Willkommen zur OFFIS-Entdeckertour!"}),Ee.jsx("h2",{children:"Finde heraus, was zu dir passt!"}),Ee.jsx("p",{children:"Hallo! Bei dieser interaktiven Tour scannst du QR-Codes und beantwortest Fragen, um herauszufinden, welcher Forschungsbereich am OFFIS am besten zu dir passen könnte. Dein Weg wird am Ende visualisiert."}),Ee.jsx("button",{onClick:rt,onMouseDown:at,className:"start-button",children:Ee.jsx("span",{className:"button-text",children:"Tour starten!"})}),Ee.jsx("footer",{style:{textAlign:"center",fontSize:"0.75rem",color:"white",marginTop:"32px"},children:"Entwickelt mit Project IDX, React & Leaflet."})]})}Fx.createRoot(document.getElementById("root")).render(Ee.jsx(xt.StrictMode,{children:Ee.jsx(rS,{})}));
